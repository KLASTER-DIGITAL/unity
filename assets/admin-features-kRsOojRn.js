import{r as t,j as e,m as U,A as le,S as M,E as ce,a as oe,t as x,R as G,b as xe,c as he,M as ue,C as pe,B as ge,D as ne,U as J,d as H,L as je,e as ie,f as be,g as K,h as Z,X as fe,i as Ne,k as Q,l as ve,n as ye,o as ee}from"./vendor-libs-kWwOq1hT.js";import{C as I,a as T,b as P,c as V,d as A,I as X,B as D,T as de,e as te,f as W,g as E,h as re,i as O,j as R,D as we,k as ke,l as Se,m as Y,S as B,n as Ce,o as _e,p as Ie,q as $}from"./shared-components-uDOFDz2u.js";import{c as Ae}from"./vendor-supabase-D8QWEstQ.js";const De="https://ecuwuzqlwdkkdncampnc.supabase.co",Te="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjdXd1enFsd2Rra2RuY2FtcG5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNTg2OTQsImV4cCI6MjA3NTYzNDY5NH0.OnBM1BIQMVgJur2nM4gZGDW-PWWwSR92DpJHhPpqB88",L=Ae(De,Te,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"supabase.auth.token"}});function q(){return L}const Pe="ecuwuzqlwdkkdncampnc";function Re({onComplete:s,onBack:j}){const[i,v]=t.useState(""),[r,f]=t.useState(""),[g,b]=t.useState(!1),[p,y]=t.useState(!1),c=async d=>{if(d.preventDefault(),!i||!r){x.error("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è");return}if(i!=="diary@leadshunter.biz"){x.error("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞");return}y(!0);try{const a=q(),{data:m,error:h}=await a.auth.signInWithPassword({email:i,password:r});if(h){x.error("–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å");return}if(!m.session){x.error("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É");return}let o;try{const n=await fetch(`https://${Pe}.supabase.co/functions/v1/profiles/${m.user.id}`,{headers:{Authorization:`Bearer ${m.session.access_token}`,"Content-Type":"application/json"}});if(n.ok){const l=await n.json();l.success&&(o=l)}}catch{}o||(o={success:!0,profile:{name:"Admin",role:"super_admin",diaryName:"Admin Diary",diaryEmoji:"üèÜ",language:"ru",notificationSettings:{selectedTime:"none",morningTime:"08:00",eveningTime:"21:00",permissionGranted:!1},createdAt:new Date().toISOString()}});const u={id:m.user.id,email:m.user.email,name:o.profile.name,role:o.profile.role||"super_admin",diaryData:{name:o.profile.diaryName,emoji:o.profile.diaryEmoji},language:o.profile.language,notificationSettings:o.profile.notificationSettings,createdAt:o.profile.createdAt,profile:{...o.profile,role:o.profile.role||"super_admin"}};x.success("–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"),s(u)}catch{x.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")}finally{y(!1)}};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[e.jsxs(I,{className:"shadow-lg",children:[e.jsxs(T,{className:"space-y-4 text-center pb-6",children:[e.jsx("button",{onClick:j,className:"absolute top-6 left-6 w-10 h-10 rounded-full bg-muted hover:bg-accent/10 flex items-center justify-center transition-colors",children:e.jsx(le,{className:"w-5 h-5 text-foreground"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-accent flex items-center justify-center",children:e.jsx(M,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{className:"text-foreground",children:"–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"}),e.jsx(V,{children:"–í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"})]})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"admin-email",className:"text-foreground",children:"Email"}),e.jsx(X,{id:"admin-email",type:"email",placeholder:"diary@leadshunter.biz",value:i,onChange:d=>v(d.target.value),disabled:p,className:"h-12",autoComplete:"email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"admin-password",className:"text-foreground",children:"–ü–∞—Ä–æ–ª—å"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{id:"admin-password",type:g?"text":"password",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",value:r,onChange:d=>f(d.target.value),disabled:p,className:"h-12 pr-12",autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:g?e.jsx(ce,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})})]})]}),e.jsx(D,{type:"submit",className:"w-full h-12 bg-accent hover:bg-accent/90 text-white mt-6",disabled:p,children:p?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"–í—Ö–æ–¥..."]}):"–í–æ–π—Ç–∏"}),e.jsx("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-accent shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-muted-foreground",children:[e.jsx("p",{className:"mb-1",children:"–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø"}),e.jsxs("p",{children:["–¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email"," ",e.jsx("span",{className:"text-foreground font-semibold",children:"diary@leadshunter.biz"})]})]})]})})]})})]}),e.jsx("div",{className:"mt-6 text-center text-muted-foreground",children:e.jsxs("p",{children:["–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞?"," ",e.jsx("button",{onClick:j,className:"text-accent hover:underline font-semibold",children:"–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é"})]})})]})})}const sa=Object.freeze(Object.defineProperty({__proto__:null,AdminLoginScreen:Re},Symbol.toStringTag,{value:"Module"}));function me(){const[s,j]=t.useState([]),[i,v]=t.useState(""),[r,f]=t.useState("all"),[g,b]=t.useState(!1),[p,y]=t.useState(1),[c,d]=t.useState(1);t.useEffect(()=>{a()},[p]);const a=async()=>{try{b(!0);const u=q(),{data:{session:n}}=await u.auth.getSession();if(!n?.access_token)throw new Error("No session");const l=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/admin-api/admin/users",{headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to load users");const N=await l.json(),k=N.users.map(w=>({id:w.id,name:w.name,email:w.email,status:w.isPremium?"premium":"active",registeredAt:w.createdAt,lastActive:w.lastActivity,entriesCount:w.entriesCount,streak:0}));j(k),d(Math.ceil(N.total/50))}catch{x.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"),j([])}finally{b(!1)}},m=async(u,n)=>{try{const l=n!=="premium";x.success(`–ü–æ–¥–ø–∏—Å–∫–∞ ${l?"–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞":"–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞"}`),a()}catch{x.error("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏")}},h=s.filter(u=>{const n=u.name.toLowerCase().includes(i.toLowerCase())||u.email.toLowerCase().includes(i.toLowerCase()),l=r==="all"||u.status===r;return n&&l}),o=u=>{switch(u){case"premium":return e.jsx(R,{className:"bg-accent/10 text-accent border-accent",children:"Premium"});case"active":return e.jsx(R,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:"–ê–∫—Ç–∏–≤–Ω—ã–π"});case"blocked":return e.jsx(R,{variant:"destructive",children:"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω"});default:return e.jsx(R,{variant:"outline",children:"–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π"})}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(I,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(P,{children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏"}),e.jsx(V,{children:"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:a,disabled:g,className:"gap-2",children:[e.jsx(G,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"–û–±–Ω–æ–≤–∏—Ç—å"]})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(X,{placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email...",value:i,onChange:u=>v(u.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:r==="all"?"default":"outline",onClick:()=>f("all"),className:"!text-[13px]",children:"–í—Å–µ"}),e.jsx(D,{variant:r==="active"?"default":"outline",onClick:()=>f("active"),className:"!text-[13px]",children:"–ê–∫—Ç–∏–≤–Ω—ã–µ"}),e.jsx(D,{variant:r==="premium"?"default":"outline",onClick:()=>f("premium"),className:"!text-[13px]",children:"Premium"})]})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(de,{children:[e.jsx(te,{children:e.jsxs(W,{children:[e.jsx(E,{children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),e.jsx(E,{children:"–°—Ç–∞—Ç—É—Å"}),e.jsx(E,{children:"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"}),e.jsx(E,{children:"–ó–∞–ø–∏—Å–µ–π"}),e.jsx(E,{children:"Streak"}),e.jsx(E,{className:"text-right",children:"–î–µ–π—Å—Ç–≤–∏—è"})]})}),e.jsx(re,{children:h.map(u=>e.jsxs(W,{children:[e.jsx(O,{children:e.jsxs("div",{children:[e.jsx("div",{className:"!text-[14px] !font-semibold text-foreground",children:u.name}),e.jsx("div",{className:"!text-[12px] !font-normal text-muted-foreground",children:u.email})]})}),e.jsx(O,{children:o(u.status)}),e.jsx(O,{className:"!text-[13px]",children:u.registeredAt?new Date(u.registeredAt).toLocaleDateString("ru-RU"):"-"}),e.jsx(O,{className:"!text-[13px]",children:u.entriesCount}),e.jsx(O,{children:e.jsxs(R,{variant:"outline",className:"bg-accent/10 text-accent",children:["üî• ",u.streak]})}),e.jsx(O,{className:"text-right",children:e.jsxs(we,{children:[e.jsx(ke,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(he,{className:"w-4 h-4"})})}),e.jsxs(Se,{align:"end",children:[e.jsxs(Y,{children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"–û—Ç–ø—Ä–∞–≤–∏—Ç—å email"]}),e.jsxs(Y,{onClick:()=>m(u.id,u.status),children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),u.status==="premium"?"–û—Ç–º–µ–Ω–∏—Ç—å Premium":"–í—ã–¥–∞—Ç—å Premium"]}),e.jsxs(Y,{className:"text-destructive",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å"]})]})]})})]},u.id))})]})}),g&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})]}),!g&&h.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"})}),!g&&c>1&&e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("p",{className:"text-muted-foreground",children:["–°—Ç—Ä–∞–Ω–∏—Ü–∞ ",p," –∏–∑ ",c]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>y(u=>Math.max(1,u-1)),disabled:p===1,children:"–ù–∞–∑–∞–¥"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>y(u=>Math.min(c,u+1)),disabled:p===c,children:"–í–ø–µ—Ä—ë–¥"})]})]})]})]})})}const Ee=()=>{const[s,j]=t.useState({totalRequests:0,totalTokens:0,totalCost:0,avgCostPerRequest:0}),[i,v]=t.useState(!0),[r,f]=t.useState("30d");t.useEffect(()=>{g()},[r]);const g=async()=>{v(!0);try{const p=new Date,y=new Date;switch(r){case"7d":y.setDate(p.getDate()-7);break;case"30d":y.setDate(p.getDate()-30);break;case"90d":y.setDate(p.getDate()-90);break}const{data:c,error:d}=await L.from("openai_usage").select("total_tokens, estimated_cost").gte("created_at",y.toISOString()).lte("created_at",p.toISOString());if(d)return;if(c){const a=c.length,m=c.reduce((o,u)=>o+u.total_tokens,0),h=c.reduce((o,u)=>o+parseFloat(u.estimated_cost),0);j({totalRequests:a,totalTokens:m,totalCost:h,avgCostPerRequest:a>0?h/a:0})}}catch{}finally{v(!1)}},b=p=>new Intl.NumberFormat("ru-RU").format(p);return e.jsxs("div",{className:"admin-space-y-6",children:[e.jsxs("div",{className:"admin-flex admin-justify-between admin-items-center",children:[e.jsx("h3",{className:"admin-text-lg admin-font-semibold admin-text-gray-900",children:"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"}),e.jsx("div",{className:"admin-flex admin-gap-2",children:["7d","30d","90d"].map(p=>e.jsx("button",{onClick:()=>f(p),className:`admin-px-4 admin-py-2 admin-rounded-lg admin-text-sm admin-font-medium admin-transition-colors ${r===p?"admin-bg-admin-primary admin-text-white":"admin-bg-gray-100 admin-text-gray-700 hover:admin-bg-gray-200"}`,children:p==="7d"?"7 –¥–Ω–µ–π":p==="30d"?"30 –¥–Ω–µ–π":"90 –¥–Ω–µ–π"},p))})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 lg:admin-grid-cols-4 admin-gap-6",children:[e.jsxs("div",{className:"admin-card admin-p-6 admin-bg-gradient-to-br admin-from-blue-50 admin-to-blue-100 admin-border admin-border-blue-200",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsx("div",{className:"admin-text-3xl",children:"üìä"}),i&&e.jsx("div",{className:"admin-spinner admin-w-5 admin-h-5"})]}),e.jsx("div",{className:"admin-text-sm admin-text-blue-600 admin-font-medium admin-mb-1",children:"–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤"}),e.jsx("div",{className:"admin-text-3xl admin-font-bold admin-text-blue-900",children:i?"...":b(s.totalRequests)}),e.jsxs("div",{className:"admin-text-xs admin-text-blue-600 admin-mt-2",children:["–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ ",r==="7d"?"7":r==="30d"?"30":"90"," –¥–Ω–µ–π"]})]}),e.jsxs("div",{className:"admin-card admin-p-6 admin-bg-gradient-to-br admin-from-green-50 admin-to-green-100 admin-border admin-border-green-200",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsx("div",{className:"admin-text-3xl",children:"üî¢"}),i&&e.jsx("div",{className:"admin-spinner admin-w-5 admin-h-5"})]}),e.jsx("div",{className:"admin-text-sm admin-text-green-600 admin-font-medium admin-mb-1",children:"–í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤"}),e.jsx("div",{className:"admin-text-3xl admin-font-bold admin-text-green-900",children:i?"...":b(s.totalTokens)}),e.jsx("div",{className:"admin-text-xs admin-text-green-600 admin-mt-2",children:"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤"})]}),e.jsxs("div",{className:"admin-card admin-p-6 admin-bg-gradient-to-br admin-from-purple-50 admin-to-purple-100 admin-border admin-border-purple-200",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsx("div",{className:"admin-text-3xl",children:"üí∞"}),i&&e.jsx("div",{className:"admin-spinner admin-w-5 admin-h-5"})]}),e.jsx("div",{className:"admin-text-sm admin-text-purple-600 admin-font-medium admin-mb-1",children:"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"}),e.jsx("div",{className:"admin-text-3xl admin-font-bold admin-text-purple-900",children:i?"...":`$${s.totalCost.toFixed(2)}`}),e.jsx("div",{className:"admin-text-xs admin-text-purple-600 admin-mt-2",children:"–†–∞—Å—Ö–æ–¥—ã –Ω–∞ API"})]}),e.jsxs("div",{className:"admin-card admin-p-6 admin-bg-gradient-to-br admin-from-orange-50 admin-to-orange-100 admin-border admin-border-orange-200",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsx("div",{className:"admin-text-3xl",children:"üìà"}),i&&e.jsx("div",{className:"admin-spinner admin-w-5 admin-h-5"})]}),e.jsx("div",{className:"admin-text-sm admin-text-orange-600 admin-font-medium admin-mb-1",children:"–°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"}),e.jsx("div",{className:"admin-text-3xl admin-font-bold admin-text-orange-900",children:i?"...":`$${s.avgCostPerRequest.toFixed(4)}`}),e.jsx("div",{className:"admin-text-xs admin-text-orange-600 admin-mt-2",children:"–ù–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å"})]})]}),e.jsx("div",{className:"admin-flex admin-justify-end",children:e.jsxs("button",{onClick:g,disabled:i,className:"admin-btn admin-btn-outline admin-btn-sm admin-flex admin-items-center admin-gap-2",children:[e.jsx("span",{children:"üîÑ"}),i?"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...":"–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"]})})]})},z={ai_card:"#3b82f6",translation:"#10b981",transcription:"#f59e0b",pdf_export:"#8b5cf6",other:"#6b7280"},ae={ai_card:"ü§ñ AI –ê–Ω–∞–ª–∏–∑",translation:"üåç –ü–µ—Ä–µ–≤–æ–¥—ã",transcription:"üé§ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è",pdf_export:"üìÑ PDF –≠–∫—Å–ø–æ—Ä—Ç",other:"üì¶ –î—Ä—É–≥–æ–µ"},Oe=()=>{const[s,j]=t.useState([]),[i,v]=t.useState(!0),[r,f]=t.useState("30d"),[g,b]=t.useState("requests");t.useEffect(()=>{p()},[r]);const p=async()=>{v(!0);try{const a=new Date,m=new Date;switch(r){case"7d":m.setDate(a.getDate()-7);break;case"30d":m.setDate(a.getDate()-30);break;case"90d":m.setDate(a.getDate()-90);break}const{data:h,error:o}=await L.from("openai_usage").select("operation_type, total_tokens, estimated_cost").gte("created_at",m.toISOString()).lte("created_at",a.toISOString());if(o)return;if(h){const u=h.reduce((n,l)=>{const N=l.operation_type;return n[N]||(n[N]={operation_type:N,total_requests:0,total_tokens:0,total_cost:0}),n[N].total_requests+=1,n[N].total_tokens+=l.total_tokens,n[N].total_cost+=parseFloat(l.estimated_cost),n},{});j(Object.values(u))}}catch{}finally{v(!1)}},y=()=>s.map(a=>({name:ae[a.operation_type]||a.operation_type,value:g==="requests"?a.total_requests:g==="tokens"?a.total_tokens:a.total_cost,color:z[a.operation_type]||z.other})),c=a=>g==="cost"?`$${a.toFixed(2)}`:new Intl.NumberFormat("ru-RU").format(Math.round(a)),d=()=>s.reduce((a,m)=>a+(g==="requests"?m.total_requests:g==="tokens"?m.total_tokens:m.total_cost),0);return e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsxs("div",{className:"admin-flex admin-justify-between admin-items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"admin-card-title",children:"üìä –†–∞–∑–±–∏–≤–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"}),e.jsx("p",{className:"admin-card-description",children:"–ü–æ —Ç–∏–ø–∞–º –æ–ø–µ—Ä–∞—Ü–∏–π"})]}),e.jsxs("div",{className:"admin-flex admin-gap-2",children:[e.jsxs("select",{value:g,onChange:a=>b(a.target.value),className:"admin-input admin-py-2 admin-px-3 admin-text-sm",children:[e.jsx("option",{value:"requests",children:"–ó–∞–ø—Ä–æ—Å—ã"}),e.jsx("option",{value:"tokens",children:"–¢–æ–∫–µ–Ω—ã"}),e.jsx("option",{value:"cost",children:"–°—Ç–æ–∏–º–æ—Å—Ç—å"})]}),e.jsxs("select",{value:r,onChange:a=>f(a.target.value),className:"admin-input admin-py-2 admin-px-3 admin-text-sm",children:[e.jsx("option",{value:"7d",children:"7 –¥–Ω–µ–π"}),e.jsx("option",{value:"30d",children:"30 –¥–Ω–µ–π"}),e.jsx("option",{value:"90d",children:"90 –¥–Ω–µ–π"})]})]})]})}),e.jsx("div",{className:"admin-card-content",children:i?e.jsx("div",{className:"admin-flex admin-justify-center admin-items-center admin-h-64",children:e.jsx("div",{className:"admin-spinner admin-w-8 admin-h-8"})}):s.length===0?e.jsxs("div",{className:"admin-text-center admin-py-12 admin-text-gray-500",children:[e.jsx("div",{className:"admin-text-4xl admin-mb-4",children:"üìä"}),e.jsx("p",{children:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥"})]}):e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-2 admin-gap-8",children:[e.jsx("div",{children:e.jsx(B,{data:y(),dataKey:"value",xAxisKey:"name",title:`–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –æ–ø–µ—Ä–∞—Ü–∏–π (${g==="requests"?"–∑–∞–ø—Ä–æ—Å—ã":g==="tokens"?"—Ç–æ–∫–µ–Ω—ã":"—Å—Ç–æ–∏–º–æ—Å—Ç—å"})`,type:"pie"})}),e.jsxs("div",{className:"admin-space-y-4",children:[e.jsxs("div",{className:"admin-text-center admin-mb-6",children:[e.jsxs("div",{className:"admin-text-sm admin-text-gray-600 admin-mb-1",children:["–í—Å–µ–≥–æ ",g==="requests"?"–∑–∞–ø—Ä–æ—Å–æ–≤":g==="tokens"?"—Ç–æ–∫–µ–Ω–æ–≤":"—Å—Ç–æ–∏–º–æ—Å—Ç—å"]}),e.jsx("div",{className:"admin-text-3xl admin-font-bold admin-text-gray-900",children:c(d())})]}),e.jsx("div",{className:"admin-space-y-3",children:s.map(a=>{const m=(g==="requests"?a.total_requests:g==="tokens"?a.total_tokens:a.total_cost)/d()*100;return e.jsxs("div",{className:"admin-border admin-border-gray-200 admin-rounded-lg admin-p-4",children:[e.jsxs("div",{className:"admin-flex admin-justify-between admin-items-center admin-mb-2",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-w-3 admin-h-3 admin-rounded-full",style:{backgroundColor:z[a.operation_type]||z.other}}),e.jsx("span",{className:"admin-font-medium admin-text-gray-900",children:ae[a.operation_type]||a.operation_type})]}),e.jsxs("span",{className:"admin-text-sm admin-text-gray-600",children:[m.toFixed(1),"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2 admin-mb-2",children:e.jsx("div",{className:"admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${m}%`,backgroundColor:z[a.operation_type]||z.other}})}),e.jsxs("div",{className:"admin-grid admin-grid-cols-3 admin-gap-2 admin-text-xs admin-text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"admin-font-medium",children:a.total_requests})," –∑–∞–ø—Ä–æ—Å–æ–≤"]}),e.jsxs("div",{children:[e.jsx("span",{className:"admin-font-medium",children:a.total_tokens.toLocaleString()})," —Ç–æ–∫–µ–Ω–æ–≤"]}),e.jsx("div",{children:e.jsxs("span",{className:"admin-font-medium",children:["$",a.total_cost.toFixed(2)]})})]})]},a.operation_type)})})]})]})})]})},Fe=()=>{const[s,j]=t.useState([]),[i,v]=t.useState(!0),[r,f]=t.useState("30d"),[g,b]=t.useState("area"),[p,y]=t.useState("requests");t.useEffect(()=>{c()},[r]);const c=async()=>{v(!0);try{const h=new Date,o=new Date;switch(r){case"7d":o.setDate(h.getDate()-7);break;case"30d":o.setDate(h.getDate()-30);break;case"90d":o.setDate(h.getDate()-90);break}const{data:u,error:n}=await L.from("openai_usage").select("created_at, total_tokens, estimated_cost").gte("created_at",o.toISOString()).lte("created_at",h.toISOString()).order("created_at",{ascending:!0});if(n)return;if(u){const l=u.reduce((w,_)=>{const S=new Date(_.created_at).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"});return w[S]||(w[S]={date:S,requests:0,tokens:0,cost:0}),w[S].requests+=1,w[S].tokens+=_.total_tokens,w[S].cost+=parseFloat(_.estimated_cost),w},{}),N=[],k=new Date(o);for(;k<=h;){const w=k.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"});N.push(l[w]||{date:w,requests:0,tokens:0,cost:0}),k.setDate(k.getDate()+1)}j(N)}}catch{}finally{v(!1)}},d=()=>{switch(p){case"requests":return"–ó–∞–ø—Ä–æ—Å—ã";case"tokens":return"–¢–æ–∫–µ–Ω—ã";case"cost":return"–°—Ç–æ–∏–º–æ—Å—Ç—å ($)"}},m=(()=>{if(s.length<2)return{value:0,direction:"neutral"};const h=s.slice(-7),o=s.slice(-14,-7),u=h.reduce((N,k)=>N+(p==="requests"?k.requests:p==="tokens"?k.tokens:k.cost),0)/h.length,n=o.reduce((N,k)=>N+(p==="requests"?k.requests:p==="tokens"?k.tokens:k.cost),0)/(o.length||1),l=(u-n)/(n||1)*100;return{value:Math.abs(l),direction:l>0?"up":l<0?"down":"neutral"}})();return e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsxs("div",{className:"admin-flex admin-justify-between admin-items-center admin-flex-wrap admin-gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"admin-card-title",children:"üìà –¢—Ä–µ–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"}),e.jsx("p",{className:"admin-card-description",children:"–î–∏–Ω–∞–º–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥"})]}),e.jsxs("div",{className:"admin-flex admin-gap-2 admin-flex-wrap",children:[s.length>0&&e.jsxs("div",{className:`admin-px-3 admin-py-1 admin-rounded-full admin-text-xs admin-font-medium ${m.direction==="up"?"admin-bg-green-100 admin-text-green-700":m.direction==="down"?"admin-bg-red-100 admin-text-red-700":"admin-bg-gray-100 admin-text-gray-700"}`,children:[m.direction==="up"?"üìà":m.direction==="down"?"üìâ":"‚û°Ô∏è"," ",m.value.toFixed(1),"% –∑–∞ –Ω–µ–¥–µ–ª—é"]}),e.jsxs("div",{className:"admin-flex admin-gap-1 admin-bg-gray-100 admin-rounded-lg admin-p-1",children:[e.jsx("button",{onClick:()=>b("line"),className:`admin-px-3 admin-py-1 admin-rounded admin-text-xs admin-font-medium admin-transition-colors ${g==="line"?"admin-bg-white admin-text-gray-900 admin-shadow-sm":"admin-text-gray-600 hover:admin-text-gray-900"}`,children:"–õ–∏–Ω–∏—è"}),e.jsx("button",{onClick:()=>b("area"),className:`admin-px-3 admin-py-1 admin-rounded admin-text-xs admin-font-medium admin-transition-colors ${g==="area"?"admin-bg-white admin-text-gray-900 admin-shadow-sm":"admin-text-gray-600 hover:admin-text-gray-900"}`,children:"–û–±–ª–∞—Å—Ç—å"})]}),e.jsxs("select",{value:p,onChange:h=>y(h.target.value),className:"admin-input admin-py-1 admin-px-3 admin-text-xs",children:[e.jsx("option",{value:"requests",children:"–ó–∞–ø—Ä–æ—Å—ã"}),e.jsx("option",{value:"tokens",children:"–¢–æ–∫–µ–Ω—ã"}),e.jsx("option",{value:"cost",children:"–°—Ç–æ–∏–º–æ—Å—Ç—å"})]}),e.jsxs("select",{value:r,onChange:h=>f(h.target.value),className:"admin-input admin-py-1 admin-px-3 admin-text-xs",children:[e.jsx("option",{value:"7d",children:"7 –¥–Ω–µ–π"}),e.jsx("option",{value:"30d",children:"30 –¥–Ω–µ–π"}),e.jsx("option",{value:"90d",children:"90 –¥–Ω–µ–π"})]})]})]})}),e.jsx("div",{className:"admin-card-content",children:i?e.jsx("div",{className:"admin-flex admin-justify-center admin-items-center admin-h-80",children:e.jsx("div",{className:"admin-spinner admin-w-8 admin-h-8"})}):e.jsx(B,{data:s,dataKey:p,xAxisKey:"date",title:`${d()} –∑–∞ ${r==="7d"?"7 –¥–Ω–µ–π":r==="30d"?"30 –¥–Ω–µ–π":"90 –¥–Ω–µ–π"}`,type:g})})]})},Ue=()=>{const[s,j]=t.useState([]),[i,v]=t.useState(!0),[r,f]=t.useState("30d"),[g,b]=t.useState("cost"),[p,y]=t.useState("desc"),[c,d]=t.useState("");t.useEffect(()=>{a()},[r]);const a=async()=>{v(!0);try{let l=L.from("openai_usage").select(`
          user_id,
          total_tokens,
          estimated_cost,
          created_at
        `);if(r!=="all"){const w=new Date,_=new Date;switch(r){case"7d":_.setDate(w.getDate()-7);break;case"30d":_.setDate(w.getDate()-30);break;case"90d":_.setDate(w.getDate()-90);break}l=l.gte("created_at",_.toISOString()).lte("created_at",w.toISOString())}const{data:N,error:k}=await l;if(k)return;if(N){const w=N.reduce((S,C)=>{const F=C.user_id;return F&&(S[F]||(S[F]={user_id:F,user_email:"",user_name:"",total_requests:0,total_tokens:0,total_cost:0,last_activity:C.created_at}),S[F].total_requests+=1,S[F].total_tokens+=C.total_tokens,S[F].total_cost+=parseFloat(C.estimated_cost),new Date(C.created_at)>new Date(S[F].last_activity)&&(S[F].last_activity=C.created_at)),S},{}),_=Object.keys(w);if(_.length>0){const{data:S}=await L.from("profiles").select("id, email, name").in("id",_);S&&S.forEach(C=>{w[C.id]&&(w[C.id].user_email=C.email||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",w[C.id].user_name=C.name||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å")})}j(Object.values(w))}}catch{}finally{v(!1)}},m=l=>{g===l?y(p==="asc"?"desc":"asc"):(b(l),y("desc"))},h=()=>{let l=[...s];return c&&(l=l.filter(N=>N.user_email.toLowerCase().includes(c.toLowerCase())||N.user_name.toLowerCase().includes(c.toLowerCase()))),l.sort((N,k)=>{let w=0,_=0;switch(g){case"requests":w=N.total_requests,_=k.total_requests;break;case"tokens":w=N.total_tokens,_=k.total_tokens;break;case"cost":w=N.total_cost,_=k.total_cost;break}return p==="asc"?w-_:_-w}),l},o=()=>{const l=h(),N=["Email","–ò–º—è","–ó–∞–ø—Ä–æ—Å—ã","–¢–æ–∫–µ–Ω—ã","–°—Ç–æ–∏–º–æ—Å—Ç—å ($)","–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"],k=l.map(C=>[C.user_email,C.user_name,C.total_requests,C.total_tokens,C.total_cost.toFixed(4),new Date(C.last_activity).toLocaleString("ru-RU")]),w=[N.join(","),...k.map(C=>C.join(","))].join(`
`),_=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(_),S.download=`user-usage-${new Date().toISOString().split("T")[0]}.csv`,S.click()},u=h(),n=u.reduce((l,N)=>l+N.total_cost,0);return e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsxs("div",{className:"admin-flex admin-justify-between admin-items-center admin-flex-wrap admin-gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"admin-card-title",children:"üë• –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"}),e.jsx("p",{className:"admin-card-description",children:"–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"})]}),e.jsxs("div",{className:"admin-flex admin-gap-2 admin-flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...",value:c,onChange:l=>d(l.target.value),className:"admin-input admin-py-2 admin-px-3 admin-text-sm admin-w-48"}),e.jsxs("select",{value:r,onChange:l=>f(l.target.value),className:"admin-input admin-py-2 admin-px-3 admin-text-sm",children:[e.jsx("option",{value:"7d",children:"7 –¥–Ω–µ–π"}),e.jsx("option",{value:"30d",children:"30 –¥–Ω–µ–π"}),e.jsx("option",{value:"90d",children:"90 –¥–Ω–µ–π"}),e.jsx("option",{value:"all",children:"–í—Å–µ –≤—Ä–µ–º—è"})]}),e.jsxs("button",{onClick:o,disabled:u.length===0,className:"admin-btn admin-btn-outline admin-btn-sm admin-flex admin-items-center admin-gap-2",children:[e.jsx("span",{children:"üìä"}),"–≠–∫—Å–ø–æ—Ä—Ç CSV"]}),e.jsxs("button",{onClick:a,disabled:i,className:"admin-btn admin-btn-primary admin-btn-sm admin-flex admin-items-center admin-gap-2",children:[e.jsx("span",{children:"üîÑ"}),i?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–û–±–Ω–æ–≤–∏—Ç—å"]})]})]})}),e.jsxs("div",{className:"admin-card-content",children:[e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-4 admin-gap-4 admin-mb-6",children:[e.jsxs("div",{className:"admin-bg-blue-50 admin-border admin-border-blue-200 admin-rounded-lg admin-p-4",children:[e.jsx("div",{className:"admin-text-sm admin-text-blue-600 admin-mb-1",children:"–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"}),e.jsx("div",{className:"admin-text-2xl admin-font-bold admin-text-blue-900",children:u.length})]}),e.jsxs("div",{className:"admin-bg-green-50 admin-border admin-border-green-200 admin-rounded-lg admin-p-4",children:[e.jsx("div",{className:"admin-text-sm admin-text-green-600 admin-mb-1",children:"–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤"}),e.jsx("div",{className:"admin-text-2xl admin-font-bold admin-text-green-900",children:u.reduce((l,N)=>l+N.total_requests,0).toLocaleString()})]}),e.jsxs("div",{className:"admin-bg-purple-50 admin-border admin-border-purple-200 admin-rounded-lg admin-p-4",children:[e.jsx("div",{className:"admin-text-sm admin-text-purple-600 admin-mb-1",children:"–í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤"}),e.jsx("div",{className:"admin-text-2xl admin-font-bold admin-text-purple-900",children:u.reduce((l,N)=>l+N.total_tokens,0).toLocaleString()})]}),e.jsxs("div",{className:"admin-bg-orange-50 admin-border admin-border-orange-200 admin-rounded-lg admin-p-4",children:[e.jsx("div",{className:"admin-text-sm admin-text-orange-600 admin-mb-1",children:"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"}),e.jsxs("div",{className:"admin-text-2xl admin-font-bold admin-text-orange-900",children:["$",n.toFixed(2)]})]})]}),i?e.jsx("div",{className:"admin-flex admin-justify-center admin-items-center admin-h-64",children:e.jsx("div",{className:"admin-spinner admin-w-8 admin-h-8"})}):u.length===0?e.jsxs("div",{className:"admin-text-center admin-py-12 admin-text-gray-500",children:[e.jsx("div",{className:"admin-text-4xl admin-mb-4",children:"üë•"}),e.jsx("p",{children:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥"})]}):e.jsx("div",{className:"admin-overflow-x-auto",children:e.jsxs("table",{className:"admin-w-full admin-text-sm",children:[e.jsx("thead",{className:"admin-bg-gray-50 admin-border-b admin-border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"admin-px-4 admin-py-3 admin-text-left admin-font-semibold admin-text-gray-700",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),e.jsxs("th",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-semibold admin-text-gray-700 admin-cursor-pointer hover:admin-bg-gray-100",onClick:()=>m("requests"),children:["–ó–∞–ø—Ä–æ—Å—ã ",g==="requests"&&(p==="asc"?"‚Üë":"‚Üì")]}),e.jsxs("th",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-semibold admin-text-gray-700 admin-cursor-pointer hover:admin-bg-gray-100",onClick:()=>m("tokens"),children:["–¢–æ–∫–µ–Ω—ã ",g==="tokens"&&(p==="asc"?"‚Üë":"‚Üì")]}),e.jsxs("th",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-semibold admin-text-gray-700 admin-cursor-pointer hover:admin-bg-gray-100",onClick:()=>m("cost"),children:["–°—Ç–æ–∏–º–æ—Å—Ç—å ",g==="cost"&&(p==="asc"?"‚Üë":"‚Üì")]}),e.jsx("th",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-semibold admin-text-gray-700",children:"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"})]})}),e.jsx("tbody",{className:"admin-divide-y admin-divide-gray-200",children:u.map(l=>e.jsxs("tr",{className:"hover:admin-bg-gray-50 admin-transition-colors",children:[e.jsx("td",{className:"admin-px-4 admin-py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900",children:l.user_name}),e.jsx("div",{className:"admin-text-xs admin-text-gray-500",children:l.user_email})]})}),e.jsx("td",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-medium admin-text-gray-900",children:l.total_requests.toLocaleString()}),e.jsx("td",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-medium admin-text-gray-900",children:l.total_tokens.toLocaleString()}),e.jsxs("td",{className:"admin-px-4 admin-py-3 admin-text-right admin-font-medium admin-text-gray-900",children:["$",l.total_cost.toFixed(4)]}),e.jsx("td",{className:"admin-px-4 admin-py-3 admin-text-right admin-text-xs admin-text-gray-600",children:new Date(l.last_activity).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},l.user_id))})]})})]})]})},$e=()=>{const[s,j]=t.useState(""),[i,v]=t.useState(!1),[r,f]=t.useState(!1),[g,b]=t.useState(!0),[p,y]=t.useState(!1),[c,d]=t.useState({requests:1247,tokens:45678,cost:12.34});t.useEffect(()=>{(async()=>{try{const o=q(),{data:{session:u}}=await o.auth.getSession();if(!u?.access_token)return;const n=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/admin-api/admin/settings/openai_api_key",{headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"}});if(n.ok){const l=await n.json();l.setting?.value&&(j(l.setting.value),f(!0))}}catch{}})()},[]);const a=async()=>{if(!s){x.error("–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á");return}y(!0);try{const h=q(),{data:{session:o}}=await h.auth.getSession();if(!o?.access_token){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const u=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/admin-api/admin/settings",{method:"POST",headers:{Authorization:`Bearer ${o.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({key:"openai_api_key",value:s})});if(u.ok)f(!0),x.success("API –∫–ª—é—á —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω! üîë");else{const n=await u.json().catch(()=>({}));x.error(n.error||"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è API –∫–ª—é—á–∞")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}finally{y(!1)}},m=async()=>{if(!s){x.error("–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏");return}v(!0);try{s.startsWith("sk-")&&s.length>20?(f(!0),x.success("API –∫–ª—é—á –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! ‚úÖ")):(f(!1),x.error('API –∫–ª—é—á –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "sk-" –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤'))}catch{f(!1),x.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ API –∫–ª—é—á–∞")}finally{v(!1)}};return e.jsxs("div",{className:"admin-space-y-10",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"üîë"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ OpenAI API"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–æ–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsx("div",{className:`admin-px-3 admin-py-1 admin-rounded-full admin-text-xs admin-font-medium ${r?"admin-bg-admin-success-lighter admin-text-admin-success":"admin-bg-admin-error-lighter admin-text-admin-error"}`,children:r?"‚úÖ –ê–∫—Ç–∏–≤–µ–Ω":"‚ùå –ù–µ–∞–∫—Ç–∏–≤–µ–Ω"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:"üîí –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π"})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsx("div",{className:"lg:admin-col-span-2",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API"}),e.jsx("p",{className:"admin-card-description",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OpenAI API –∫–ª—é—á–æ–º"})]}),e.jsxs("div",{className:"admin-card-content admin-space-y-8",children:[e.jsxs("div",{className:"admin-space-y-4",children:[e.jsx("label",{htmlFor:"api-key",className:"admin-font-medium admin-text-gray-900",children:"API –ö–ª—é—á"}),e.jsxs("div",{className:"admin-flex admin-gap-3",children:[e.jsx("input",{id:"api-key",type:"password",placeholder:"sk-...",value:s,onChange:h=>j(h.target.value),className:"admin-input admin-flex-1","aria-describedby":"api-key-help"}),e.jsx("button",{onClick:m,disabled:!s||i,className:"admin-btn admin-btn-primary",title:"–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç API –∫–ª—é—á–∞","aria-label":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–ª—é—á",children:i?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–¢–µ—Å—Ç–∏—Ä—É—é..."]}):"üß™ –¢–µ—Å—Ç"})]}),e.jsx("p",{id:"api-key-help",className:"admin-text-xs admin-text-gray-500",children:'–í–≤–µ–¥–∏—Ç–µ –≤–∞—à OpenAI API –∫–ª—é—á. –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "sk-" –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤.'})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-4 admin-p-4 admin-bg-admin-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"auto-refresh",type:"checkbox",checked:g,onChange:h=>b(h.target.checked),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"auto-refresh",className:"admin-font-medium admin-text-gray-900 admin-cursor-pointer",children:"–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"})]})]}),e.jsx("div",{className:"admin-flex admin-gap-4 admin-mt-8",children:e.jsx("button",{onClick:a,disabled:!s||!r||p,className:"admin-btn admin-btn-success admin-font-medium",children:p?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–æ—Ö—Ä–∞–Ω—è—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"]})})})]})]})}),e.jsx("div",{className:"admin-space-y-6",children:e.jsx("div",{className:"admin-card",children:e.jsxs("div",{className:"admin-card-content admin-p-6",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsx("span",{className:"admin-font-medium admin-text-gray-900",children:"–°—Ç–∞—Ç—É—Å API"}),e.jsx("div",{className:`admin-w-3 admin-h-3 admin-rounded-full ${r?"admin-bg-admin-success":"admin-bg-admin-error"}`,"aria-hidden":"true"})]}),e.jsxs("div",{className:"admin-text-center",children:[e.jsx("div",{className:`admin-text-lg admin-font-semibold admin-mb-2 ${r?"admin-text-admin-success":"admin-text-admin-error"}`,children:r?"‚úÖ –ö–ª—é—á –≤–∞–ª–∏–¥–µ–Ω":"‚ùå –ö–ª—é—á –Ω–µ–≤–∞–ª–∏–¥–µ–Ω"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:r?"API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é":"–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–π API –∫–ª—é—á"})]})]})})})]}),e.jsx(Ee,{}),e.jsx(Oe,{}),e.jsx(Fe,{}),e.jsx(Ue,{})]})},se=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],ze=()=>{const[s,j]=t.useState([{code:"ru",name:"–†—É—Å—Å–∫–∏–π",native_name:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫",is_active:!0},{code:"en",name:"–ê–Ω–≥–ª–∏–π—Å–∫–∏–π",native_name:"English",flag:"üá∫üá∏",is_active:!0},{code:"es",name:"–ò—Å–ø–∞–Ω—Å–∫–∏–π",native_name:"Espa√±ol",flag:"üá™üá∏",is_active:!0},{code:"de",name:"–ù–µ–º–µ—Ü–∫–∏–π",native_name:"Deutsch",flag:"üá©üá™",is_active:!1},{code:"fr",name:"–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π",native_name:"Fran√ßais",flag:"üá´üá∑",is_active:!1},{code:"zh",name:"–ö–∏—Ç–∞–π—Å–∫–∏–π",native_name:"‰∏≠Êñá",flag:"üá®üá≥",is_active:!1},{code:"ja",name:"–Ø–ø–æ–Ω—Å–∫–∏–π",native_name:"Êó•Êú¨Ë™û",flag:"üáØüáµ",is_active:!1},{code:"ka",name:"–ì—Ä—É–∑–∏–Ω—Å–∫–∏–π",native_name:"·É•·Éê·É†·Éó·É£·Éö·Éò",flag:"üá¨üá™",is_active:!0}]),[i,v]=t.useState([]),[r,f]=t.useState(null),[g,b]=t.useState(""),[p,y]=t.useState("ru"),[c,d]=t.useState(!1);t.useEffect(()=>{a()},[]);const a=async()=>{d(!0);try{const n=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!n){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const l=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/translations",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(l.ok){const N=await l.json();v(N.translations||[]),x.success("–ü–µ—Ä–µ–≤–æ–¥—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã! üìö")}else{const N=await l.json().catch(()=>({}));x.error(N.error||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}finally{d(!1)}},m=n=>{f(n),b(n.value)},h=async()=>{if(r){if(!g.trim()){x.error("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–∞");return}try{const n=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!n){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const l=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/translations",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({key:r.key,language:r.language,value:g})});if(l.ok)v(N=>N.map(k=>k.key===r.key&&k.language===r.language?{...k,value:g}:k)),f(null),b(""),x.success("–ü–µ—Ä–µ–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω! üåç");else{const N=await l.json().catch(()=>({}));x.error(N.error||"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}}},o=n=>{const N=i.filter(k=>k.language===n).length;return Math.round(N/50*100)},u=()=>s.map((n,l)=>({name:n.name,value:o(n.code),color:se[l%se.length]}));return e.jsxs("div",{className:"admin-space-y-10",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"üåç"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞–º–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded-full admin-text-xs admin-font-medium",children:"üåê –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:"üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞"})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsx("div",{className:"lg:admin-col-span-2 admin-space-y-8",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üåç –ê–∫—Ç–∏–≤–Ω—ã–µ —è–∑—ã–∫–∏"}),e.jsx("p",{className:"admin-card-description",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsx("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-8",children:s.map(n=>e.jsx("div",{className:"admin-card admin-border admin-border-gray-200 admin-shadow-sm hover:admin-shadow-md admin-transition-shadow",children:e.jsxs("div",{className:"admin-p-8",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-mb-4",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-4",children:[e.jsx("div",{className:"admin-text-4xl","aria-hidden":"true",children:n.flag}),e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-semibold admin-text-gray-900 admin-text-lg",children:n.name}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:n.native_name})]})]}),e.jsxs("div",{className:"admin-flex admin-flex-col admin-items-end admin-gap-2",children:[e.jsx("div",{className:`admin-w-3 admin-h-3 admin-rounded-full ${n.is_active?"admin-bg-admin-success":"admin-bg-admin-gray-400"}`,"aria-hidden":"true"}),e.jsx("div",{className:`admin-px-2 admin-py-1 admin-rounded admin-text-xs admin-font-medium ${n.is_active?"admin-bg-admin-success-lighter admin-text-admin-success":"admin-bg-admin-gray-100 admin-text-admin-gray-600"}`,children:n.is_active?"–ê–∫—Ç–∏–≤–µ–Ω":"–ù–µ–∞–∫—Ç–∏–≤–µ–Ω"})]})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsxs("div",{className:"admin-flex admin-justify-between admin-text-sm",children:[e.jsx("span",{className:"admin-text-gray-600",children:"–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤"}),e.jsxs("span",{className:"admin-font-medium admin-text-gray-900",children:[o(n.code),"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2",children:e.jsx("div",{className:"admin-bg-admin-primary admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${o(n.code)}%`},"aria-label":`–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤: ${o(n.code)}%`})}),e.jsxs("div",{className:"admin-flex admin-gap-2",children:[e.jsx("button",{onClick:()=>y(n.code),className:"admin-btn admin-btn-outline admin-btn-sm",children:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"}),e.jsx("button",{className:"admin-btn admin-btn-primary admin-btn-sm",title:"–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥","aria-label":`–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è —è–∑—ã–∫–∞ ${n.name}`,children:"–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥"})]})]})]})},n.code))})})]})}),e.jsxs("div",{className:"admin-space-y-6",children:[e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤"})}),e.jsx("div",{className:"admin-card-content",children:e.jsx(B,{data:u(),dataKey:"value",xAxisKey:"name",title:"–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø–æ —è–∑—ã–∫–∞–º",type:"pie"})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"})}),e.jsx("div",{className:"admin-card-content admin-space-y-4",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-2 admin-gap-4",children:[e.jsxs("div",{className:"admin-p-4 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-primary-light",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-primary admin-mb-1",children:s.length}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–í—Å–µ–≥–æ —è–∑—ã–∫–æ–≤"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-success-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-success-light",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-success admin-mb-1",children:s.filter(n=>n.is_active).length}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–ê–∫—Ç–∏–≤–Ω—ã—Ö"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-warning-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-warning-light",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-warning admin-mb-1",children:i.length}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–ü–µ—Ä–µ–≤–æ–¥–æ–≤"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-secondary-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-secondary-light",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-secondary admin-mb-1",children:Math.round(i.length/s.length)}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–ù–∞ —è–∑—ã–∫"})]})]})})]})]})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤"}),e.jsxs("p",{className:"admin-card-description",children:["–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è —è–∑—ã–∫–∞: ",s.find(n=>n.code===p)?.name]})]}),e.jsx("div",{className:"admin-card-content",children:e.jsx("div",{className:"admin-space-y-4 admin-max-h-96 admin-overflow-y-auto",children:i.filter(n=>n.language===p).slice(0,15).map((n,l)=>e.jsxs("div",{className:"admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200 hover:admin-bg-gray-100 admin-transition-colors",children:[e.jsxs("div",{className:"admin-flex admin-items-start admin-justify-between admin-mb-3",children:[e.jsxs("div",{className:"admin-flex-1",children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-text-sm admin-mb-1",children:n.key}),e.jsx("div",{className:"admin-text-gray-600 admin-text-xs",children:"–ö–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞"})]}),e.jsx("div",{className:"admin-px-2 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded admin-text-xs admin-font-medium",children:n.language.toUpperCase()})]}),r?.key===n.key&&r?.language===n.language?e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("input",{type:"text",value:g,onChange:N=>b(N.target.value),className:"admin-input"}),e.jsxs("div",{className:"admin-flex admin-gap-2",children:[e.jsx("button",{onClick:h,className:"admin-btn admin-btn-success admin-btn-sm",children:"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"}),e.jsx("button",{onClick:()=>{f(null),b("")},className:"admin-btn admin-btn-outline admin-btn-sm",children:"‚ùå –û—Ç–º–µ–Ω–∞"})]})]}):e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between",children:[e.jsx("span",{className:"admin-text-gray-900 admin-flex-1 admin-mr-4",children:n.value}),e.jsx("button",{onClick:()=>m(n),className:"admin-btn admin-btn-outline admin-btn-sm",title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥","aria-label":`–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è –∫–ª—é—á–∞ ${n.key}`,children:"‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"})]})]},l))})})]}),e.jsxs("div",{className:"admin-flex admin-justify-center admin-gap-4",children:[e.jsxs("button",{onClick:()=>{x.info("–§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ü§ñ")},className:"admin-btn admin-btn-success admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"ü§ñ"}),"–ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ AI"]}),e.jsxs("button",{onClick:()=>{x.info("–§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üìä")},className:"admin-btn admin-btn-primary admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤"]}),e.jsx("button",{onClick:a,disabled:c,className:"admin-btn admin-btn-outline admin-font-medium",children:c?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–ó–∞–≥—Ä—É–∂–∞—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üîÑ"}),"–û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã"]})})]})]})},Be=[{month:"Jan",installs:120,uninstalls:15},{month:"Feb",installs:150,uninstalls:12},{month:"Mar",installs:200,uninstalls:18},{month:"Apr",installs:180,uninstalls:20},{month:"May",installs:250,uninstalls:22},{month:"Jun",installs:300,uninstalls:25}],Le=[{name:"Desktop",value:45,color:"#3b82f6"},{name:"Mobile",value:35,color:"#10b981"},{name:"Tablet",value:20,color:"#f59e0b"}],qe=()=>{const[s,j]=t.useState({appName:"–î–Ω–µ–≤–Ω–∏–∫ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π",shortName:"–î–Ω–µ–≤–Ω–∏–∫",description:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π",themeColor:"#3b82f6",backgroundColor:"#ffffff"}),[i,v]=t.useState({enableNotifications:!0,enableOfflineMode:!0,enableInstallPrompt:!0}),[r,f]=t.useState({totalInstalls:1234,retentionRate:89,averageRating:4.8,activeUsers:567}),[g,b]=t.useState(!1),p=async()=>{b(!0);try{const d=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!d){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const a=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/settings",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify({key:"pwa_manifest",value:JSON.stringify(s)})}),m=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/settings",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify({key:"pwa_settings",value:JSON.stringify(i)})});a.ok&&m.ok?x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ PWA —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! üì±"):x.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ PWA")}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}finally{b(!1)}},y=async()=>{try{x.info("–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è PWA –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ... üöÄ")}catch{x.error("–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")}},c=async()=>{try{x.info("–ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ PWA –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ... üìä")}catch{x.error("–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç—Ä–∏–∫")}};return e.jsxs("div",{className:"admin-space-y-8",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"üì±"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ PWA"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Progressive Web App –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsxs("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded-full admin-text-xs admin-font-medium admin-flex admin-items-center admin-gap-1",children:[e.jsx("div",{className:"admin-w-2 admin-h-2 admin-bg-admin-success admin-rounded-full","aria-hidden":"true"}),"–ê–∫—Ç–∏–≤–µ–Ω"]}),e.jsxs("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:["üì± ",r.totalInstalls.toLocaleString()," —É—Å—Ç–∞–Ω–æ–≤–æ–∫"]})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsxs("div",{className:"lg:admin-col-span-2 admin-space-y-6",children:[e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìã –ú–∞–Ω–∏—Ñ–µ—Å—Ç PWA"}),e.jsx("p",{className:"admin-card-description",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsxs("div",{className:"admin-card-content admin-space-y-6",children:[e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"app-name",className:"admin-font-medium admin-text-gray-900",children:"–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"}),e.jsx("input",{id:"app-name",type:"text",value:s.appName,onChange:d=>j(a=>({...a,appName:d.target.value})),className:"admin-input"})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"short-name",className:"admin-font-medium admin-text-gray-900",children:"–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"}),e.jsx("input",{id:"short-name",type:"text",value:s.shortName,onChange:d=>j(a=>({...a,shortName:d.target.value})),className:"admin-input"})]})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"description",className:"admin-font-medium admin-text-gray-900",children:"–û–ø–∏—Å–∞–Ω–∏–µ"}),e.jsx("input",{id:"description",type:"text",value:s.description,onChange:d=>j(a=>({...a,description:d.target.value})),className:"admin-input"})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"theme-color",className:"admin-font-medium admin-text-gray-900",children:"–¶–≤–µ—Ç —Ç–µ–º—ã"}),e.jsxs("div",{className:"admin-flex admin-gap-3 admin-items-center",children:[e.jsx("input",{id:"theme-color",type:"text",value:s.themeColor,onChange:d=>j(a=>({...a,themeColor:d.target.value})),className:"admin-input admin-flex-1"}),e.jsx("div",{className:"admin-w-12 admin-h-12 admin-rounded-lg admin-border-2 admin-border-gray-300 admin-shadow-sm",style:{backgroundColor:s.themeColor},"aria-hidden":"true"})]})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"bg-color",className:"admin-font-medium admin-text-gray-900",children:"–¶–≤–µ—Ç —Ñ–æ–Ω–∞"}),e.jsxs("div",{className:"admin-flex admin-gap-3 admin-items-center",children:[e.jsx("input",{id:"bg-color",type:"text",value:s.backgroundColor,onChange:d=>j(a=>({...a,backgroundColor:d.target.value})),className:"admin-input admin-flex-1"}),e.jsx("div",{className:"admin-w-12 admin-h-12 admin-rounded-lg admin-border-2 admin-border-gray-300 admin-shadow-sm",style:{backgroundColor:s.backgroundColor},"aria-hidden":"true"})]})]})]})]})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"‚öôÔ∏è –§—É–Ω–∫—Ü–∏–∏ PWA"}),e.jsx("p",{className:"admin-card-description",children:"–í–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsx("div",{className:"admin-card-content admin-space-y-6",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üîî Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–†–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-notifications",type:"checkbox",checked:i.enableNotifications,onChange:d=>v(a=>({...a,enableNotifications:d.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üì± –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–†–∞–±–æ—Ç–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-offline",type:"checkbox",checked:i.enableOfflineMode,onChange:d=>v(a=>({...a,enableOfflineMode:d.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-admin-warning-lighter admin-rounded-lg admin-border admin-border-admin-warning-light md:admin-col-span-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-install-prompt",type:"checkbox",checked:i.enableInstallPrompt,onChange:d=>v(a=>({...a,enableInstallPrompt:d.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]})]})})]})]}),e.jsxs("div",{className:"admin-space-y-6",children:[e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìà –£—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA"})}),e.jsx("div",{className:"admin-card-content",children:e.jsx(B,{data:Be,dataKey:"installs",xAxisKey:"month",title:"–£—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA –ø–æ –º–µ—Å—è—Ü–∞–º",type:"line"})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üì± –ü–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º"})}),e.jsx("div",{className:"admin-card-content",children:e.jsx(B,{data:Le,dataKey:"value",xAxisKey:"name",title:"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º",type:"pie"})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsx("div",{className:"admin-card-header",children:e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìä –ú–µ—Ç—Ä–∏–∫–∏"})}),e.jsx("div",{className:"admin-card-content admin-space-y-4",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 admin-gap-4",children:[e.jsxs("div",{className:"admin-p-4 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-primary-light",children:[e.jsx("div",{className:"admin-text-2xl admin-font-semibold admin-text-admin-primary admin-mb-1",children:r.totalInstalls.toLocaleString()}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–í—Å–µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–æ–∫"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-success-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-success-light",children:[e.jsxs("div",{className:"admin-text-2xl admin-font-semibold admin-text-admin-success admin-mb-1",children:[r.retentionRate,"%"]}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"Retention rate"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-warning-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-warning-light",children:[e.jsxs("div",{className:"admin-text-2xl admin-font-semibold admin-text-admin-warning admin-mb-1",children:["‚≠ê ",r.averageRating]}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞"})]})]})})]})]})]}),e.jsxs("div",{className:"admin-flex admin-justify-center admin-gap-4",children:[e.jsx("button",{onClick:p,disabled:g,className:"admin-btn admin-btn-success admin-font-medium",children:g?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–æ—Ö—Ä–∞–Ω—è—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]})}),e.jsxs("button",{onClick:y,className:"admin-btn admin-btn-warning admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üöÄ"}),"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"]}),e.jsxs("button",{onClick:c,className:"admin-btn admin-btn-primary admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"–ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫"]})]})]})},Me=[{metric:"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ",value:12345,color:"#3b82f6"},{metric:"–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ",value:89,color:"#10b981",percentage:!0},{metric:"–û—Ç–∫—Ä—ã—Ç–æ",value:23,color:"#8b5cf6",percentage:!0},{metric:"CTR",value:5.2,color:"#f59e0b",percentage:!0}],Je=()=>{const[s,j]=t.useState({title:"üéâ –ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!",body:"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –Ω–æ–≤–æ–π —Ü–µ–ª–∏ –≤ –≤–∞—à–µ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.",icon:"",badge:""}),[i,v]=t.useState({enablePush:!0,enableScheduled:!1,enableSegmentation:!0}),[r,f]=t.useState(4),[g,b]=t.useState(!1),[p,y]=t.useState(!1),c=async()=>{if(!s.title||!s.body){x.error("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è");return}b(!0);try{const a=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!a){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const m=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/send-notification",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({title:s.title,body:s.body,icon:s.icon,badge:s.badge})});if(m.ok)x.success("–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! üöÄ"),j({title:"üéâ –ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!",body:"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –Ω–æ–≤–æ–π —Ü–µ–ª–∏ –≤ –≤–∞—à–µ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.",icon:"",badge:""});else{const h=await m.json().catch(()=>({}));x.error(h.error||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}finally{b(!1)}},d=async()=>{try{const a=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!a){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const m=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/settings",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({key:"push_notification_settings",value:JSON.stringify(i)})});if(m.ok)x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! üîî");else{const h=await m.json().catch(()=>({}));x.error(h.error||"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}};return e.jsxs("div",{className:"admin-space-y-8",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"üîî"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsxs("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded-full admin-text-xs admin-font-medium admin-flex admin-items-center admin-gap-1",children:[e.jsx("div",{className:"admin-w-2 admin-h-2 admin-bg-admin-success admin-rounded-full","aria-hidden":"true"}),"–ê–∫—Ç–∏–≤–µ–Ω"]}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:"üì® 12,345 –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ"})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsx("div",{className:"lg:admin-col-span-2 admin-space-y-6",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìù –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("p",{className:"admin-card-description",children:"–û—Ç–ø—Ä–∞–≤–∫–∞ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"})]}),e.jsx("div",{className:"admin-card-content admin-space-y-6",children:e.jsxs("div",{className:"admin-space-y-4",children:[e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"notification-title",className:"admin-font-medium admin-text-gray-900",children:"–ó–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("input",{id:"notification-title",type:"text",value:s.title,onChange:a=>j(m=>({...m,title:a.target.value})),placeholder:"–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",className:"admin-input"})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"notification-body",className:"admin-font-medium admin-text-gray-900",children:"–¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("textarea",{id:"notification-body",value:s.body,onChange:a=>j(m=>({...m,body:a.target.value})),placeholder:"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",rows:4,className:"admin-input admin-textarea"})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"notification-icon",className:"admin-font-medium admin-text-gray-900",children:"–ò–∫–æ–Ω–∫–∞ (URL)"}),e.jsx("input",{id:"notification-icon",type:"text",value:s.icon,onChange:a=>j(m=>({...m,icon:a.target.value})),placeholder:"https://example.com/icon.png",className:"admin-input"})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"notification-badge",className:"admin-font-medium admin-text-gray-900",children:"–ë–µ–π–¥–∂ (URL)"}),e.jsx("input",{id:"notification-badge",type:"text",value:s.badge,onChange:a=>j(m=>({...m,badge:a.target.value})),placeholder:"https://example.com/badge.png",className:"admin-input"})]})]}),e.jsx("div",{className:"admin-flex admin-justify-center admin-pt-4",children:e.jsx("button",{onClick:c,disabled:!s.title||!s.body||g,className:"admin-btn admin-btn-primary admin-font-medium admin-text-lg",children:g?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–û—Ç–ø—Ä–∞–≤–ª—è—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üöÄ"}),"–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"]})})})]})})]})}),e.jsxs("div",{className:"admin-space-y-6",children:[e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"}),e.jsx("p",{className:"admin-card-description",children:"–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"admin-card-content admin-space-y-4",children:[e.jsx("div",{className:"admin-grid admin-grid-cols-1 admin-gap-4",children:Me.map((a,m)=>e.jsxs("div",{className:"admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-text-center admin-border admin-border-gray-200",children:[e.jsx("div",{className:`admin-text-2xl admin-font-semibold admin-mb-2 ${a.percentage?"admin-text-admin-success":"admin-text-admin-primary"}`,children:a.percentage?`${a.value}%`:a.value.toLocaleString()}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:a.metric})]},m))}),e.jsx("div",{className:"admin-p-4 admin-bg-admin-warning-lighter admin-rounded-lg admin-border admin-border-admin-warning-light",children:e.jsxs("div",{className:"admin-text-center admin-mb-4",children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-2",children:"–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"}),e.jsx("div",{className:"admin-flex admin-justify-center admin-gap-1",children:[1,2,3,4,5].map(a=>e.jsx("button",{onClick:()=>f(a),className:`admin-text-3xl admin-transition-all admin-duration-200 admin-transform hover:admin-scale-110 ${a<=r?"admin-text-admin-warning":"admin-text-gray-400"}`,"aria-label":`–û—Ü–µ–Ω–∫–∞ ${a} –∏–∑ 5`,children:"‚òÖ"},a))}),e.jsxs("div",{className:"admin-text-gray-700 admin-text-sm admin-mt-2",children:["–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: ",e.jsxs("span",{className:"admin-font-semibold admin-text-admin-warning",children:[r,"/5"]})]})]})})]})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsx("p",{className:"admin-card-description",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"})]}),e.jsx("div",{className:"admin-card-content admin-space-y-6",children:e.jsxs("div",{className:"admin-space-y-4",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üîî –í–∫–ª—é—á–∏—Ç—å push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–†–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-push",type:"checkbox",checked:i.enablePush,onChange:a=>v(m=>({...m,enablePush:a.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"‚è∞ –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-scheduled",type:"checkbox",checked:i.enableScheduled,onChange:a=>v(m=>({...m,enableScheduled:a.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üéØ –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–∑–Ω—ã–º –≥—Ä—É–ø–ø–∞–º"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-segmentation",type:"checkbox",checked:i.enableSegmentation,onChange:a=>v(m=>({...m,enableSegmentation:a.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]})]})})]})]})]}),e.jsxs("div",{className:"admin-flex admin-justify-center admin-gap-4",children:[e.jsx("button",{onClick:d,disabled:p,className:"admin-btn admin-btn-success admin-font-medium",children:p?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–æ—Ö—Ä–∞–Ω—è—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]})}),e.jsxs("button",{onClick:()=>{x.info("–ê–Ω–∞–ª–∏–∑ –∫–∞–º–ø–∞–Ω–∏–π –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üìä")},className:"admin-btn admin-btn-outline admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üìä"}),"–ê–Ω–∞–ª–∏–∑ –∫–∞–º–ø–∞–Ω–∏–π"]}),e.jsxs("button",{onClick:()=>{x.info("A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üéØ")},className:"admin-btn admin-btn-outline admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üéØ"}),"A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"]})]})]})},We=()=>{const[s,j]=t.useState({appName:"–î–Ω–µ–≤–Ω–∏–∫ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π",appDescription:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ —Ü–µ–ª–µ–π",supportEmail:"support@diary.com",maxEntriesPerDay:10,enableAnalytics:!0,enableErrorReporting:!0,maintenanceMode:!1}),[i,v]=t.useState(!1),[r,f]=t.useState(!1),g=async()=>{v(!0);try{const c=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!c){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const d=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/admin-api/admin/settings",{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({key:"general_settings",value:JSON.stringify(s)})});if(d.ok)x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! ‚úÖ");else{const a=await d.json().catch(()=>({}));x.error(a.error||"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º")}finally{v(!1)}},b=async()=>{f(!0);try{j({appName:"–î–Ω–µ–≤–Ω–∏–∫ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π",appDescription:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ —Ü–µ–ª–µ–π",supportEmail:"support@diary.com",maxEntriesPerDay:10,enableAnalytics:!0,enableErrorReporting:!0,maintenanceMode:!1}),x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é! üîÑ")}catch{x.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫")}finally{f(!1)}},p=()=>{try{const c=JSON.stringify(s,null,2),d="data:application/json;charset=utf-8,"+encodeURIComponent(c),a="unity-general-settings.json",m=document.createElement("a");m.setAttribute("href",d),m.setAttribute("download",a),m.click(),x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã! üì§")}catch{x.error("–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫")}},y=c=>{const d=c.target.files?.[0];if(!d)return;const a=new FileReader;a.onload=m=>{try{const h=m.target?.result,o=JSON.parse(h);j(o),x.success("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã! üì•")}catch{x.error("–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫")}},a.readAsText(d)};return e.jsxs("div",{className:"admin-space-y-8",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"‚öôÔ∏è"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsxs("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded-full admin-text-xs admin-font-medium admin-flex admin-items-center admin-gap-1",children:[e.jsx("div",{className:"admin-w-2 admin-h-2 admin-bg-admin-success admin-rounded-full","aria-hidden":"true"}),"–ê–∫—Ç–∏–≤–µ–Ω"]}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:"üîß –ì–æ—Ç–æ–≤ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ"})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsxs("div",{className:"lg:admin-col-span-2 admin-space-y-6",children:[e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìã –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"}),e.jsx("p",{className:"admin-card-description",children:"–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsxs("div",{className:"admin-card-content admin-space-y-6",children:[e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"app-name",className:"admin-font-medium admin-text-gray-900",children:"–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"}),e.jsx("input",{id:"app-name",type:"text",value:s.appName,onChange:c=>j(d=>({...d,appName:c.target.value})),className:"admin-input"})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"support-email",className:"admin-font-medium admin-text-gray-900",children:"Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏"}),e.jsx("input",{id:"support-email",type:"email",value:s.supportEmail,onChange:c=>j(d=>({...d,supportEmail:c.target.value})),className:"admin-input"})]})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"app-description",className:"admin-font-medium admin-text-gray-900",children:"–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"}),e.jsx("textarea",{id:"app-description",value:s.appDescription,onChange:c=>j(d=>({...d,appDescription:c.target.value})),rows:3,className:"admin-input admin-textarea"})]}),e.jsxs("div",{className:"admin-space-y-3",children:[e.jsx("label",{htmlFor:"max-entries",className:"admin-font-medium admin-text-gray-900",children:"–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å–µ–π –≤ –¥–µ–Ω—å"}),e.jsx("input",{id:"max-entries",type:"number",value:s.maxEntriesPerDay,onChange:c=>j(d=>({...d,maxEntriesPerDay:parseInt(c.target.value)||0})),className:"admin-input"})]})]})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏"}),e.jsx("p",{className:"admin-card-description",children:"–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"})]}),e.jsx("div",{className:"admin-card-content admin-space-y-6",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-admin-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-analytics",type:"checkbox",checked:s.enableAnalytics,onChange:c=>j(d=>({...d,enableAnalytics:c.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-admin-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üêõ –û—Ç—á–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"enable-error-reporting",type:"checkbox",checked:s.enableErrorReporting,onChange:c=>j(d=>({...d,enableErrorReporting:c.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]}),e.jsxs("div",{className:"admin-flex admin-items-center admin-justify-between admin-p-4 admin-bg-admin-warning-lighter admin-rounded-lg admin-border admin-border-admin-warning-light md:admin-col-span-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"üîß –†–µ–∂–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600",children:"–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"})]}),e.jsxs("div",{className:"admin-switch",children:[e.jsx("input",{id:"maintenance-mode",type:"checkbox",checked:s.maintenanceMode,onChange:c=>j(d=>({...d,maintenanceMode:c.target.checked})),className:"admin-sr-only"}),e.jsx("div",{className:"admin-switch-slider"})]})]})]})})]})]}),e.jsx("div",{className:"admin-space-y-6",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏"}),e.jsx("p",{className:"admin-card-description",children:"–≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫"})]}),e.jsxs("div",{className:"admin-card-content admin-space-y-6",children:[e.jsxs("div",{className:"admin-space-y-4",children:[e.jsx("button",{onClick:g,disabled:i,className:"admin-btn admin-btn-success admin-w-full admin-font-medium",children:i?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–æ—Ö—Ä–∞–Ω—è—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]})}),e.jsx("button",{onClick:b,disabled:r,className:"admin-btn admin-btn-outline admin-w-full admin-font-medium",children:r?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–±—Ä–∞—Å—ã–≤–∞—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üîÑ"}),"–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]})})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 admin-gap-4",children:[e.jsxs("div",{className:"admin-p-4 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-primary-light",children:[e.jsx("div",{className:"admin-text-xl admin-font-semibold admin-text-admin-primary admin-mb-2",children:"üì§ –≠–∫—Å–ø–æ—Ä—Ç"}),e.jsx("button",{onClick:p,className:"admin-btn admin-btn-outline admin-btn-sm",children:"–°–∫–∞—á–∞—Ç—å JSON"})]}),e.jsxs("div",{className:"admin-p-4 admin-bg-admin-success-lighter admin-rounded-lg admin-text-center admin-border admin-border-admin-success-light",children:[e.jsx("div",{className:"admin-text-xl admin-font-semibold admin-text-admin-success admin-mb-2",children:"üì• –ò–º–ø–æ—Ä—Ç"}),e.jsx("button",{onClick:()=>document.getElementById("import-settings-file")?.click(),className:"admin-btn admin-btn-outline admin-btn-sm",children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"}),e.jsx("input",{id:"import-settings-file",type:"file",accept:".json",className:"admin-hidden",onChange:y,"aria-label":"–ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ —Ñ–∞–π–ª–∞"})]})]})]})]})})]})]})},Ve=[{time:"00:00",cpu:45,memory:67,disk:23,network:12},{time:"04:00",cpu:52,memory:71,disk:25,network:15},{time:"08:00",cpu:78,memory:84,disk:28,network:45},{time:"12:00",cpu:65,memory:76,disk:26,network:32},{time:"16:00",cpu:58,memory:69,disk:24,network:28},{time:"20:00",cpu:49,memory:63,disk:22,network:18}],Ke=()=>{const[s,j]=t.useState({database:"online",api:"online",storage:"online",cache:"online"}),[i,v]=t.useState({cpu:45,memory:67,disk:23,network:12}),[r,f]=t.useState(null),[g,b]=t.useState(!1),p=async d=>{f(d);try{const a=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!a){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const m=await fetch(`https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/restart/${d.toLowerCase()}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(m.ok)x.success(`–°–µ—Ä–≤–∏—Å ${d} —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω! üîÑ`);else{const h=await m.json().catch(()=>({}));x.error(h.error||`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ${d}`)}}catch{x.error(`–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ${d}`)}finally{f(null)}},y=async()=>{b(!0);try{const d=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token");if(!d){x.error("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}const a=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493/admin/backup",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(a.ok){const m=await a.json();if(x.success("–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞! üíæ"),m.backupUrl){const h=document.createElement("a");h.setAttribute("href",m.backupUrl),h.setAttribute("download",`unity-backup-${new Date().toISOString().split("T")[0]}.sql`),h.click()}}else{const m=await a.json().catch(()=>({}));x.error(m.error||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏")}}catch{x.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏")}finally{b(!1)}},c=()=>{x.info("–§—É–Ω–∫—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üìÇ")};return e.jsxs("div",{className:"admin-space-y-8",children:[e.jsxs("header",{className:"admin-flex admin-items-center admin-gap-4 admin-pb-4 admin-border-b admin-border-gray-200",children:[e.jsx("div",{className:"admin-p-3 admin-bg-admin-primary-lighter admin-rounded-lg admin-text-2xl","aria-hidden":"true",children:"üñ•Ô∏è"}),e.jsxs("div",{children:[e.jsx("h2",{className:"admin-text-2xl admin-font-semibold admin-text-gray-900",children:"–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsx("p",{className:"admin-text-sm admin-text-gray-600 admin-mt-1",children:"–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"})]}),e.jsxs("div",{className:"admin-ml-auto admin-flex admin-gap-2",children:[e.jsxs("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded-full admin-text-xs admin-font-medium admin-flex admin-items-center admin-gap-1",children:[e.jsx("div",{className:"admin-w-2 admin-h-2 admin-bg-admin-success admin-rounded-full","aria-hidden":"true"}),"–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç"]}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary-lighter admin-text-admin-primary admin-rounded-full admin-text-xs admin-font-medium",children:"üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω"})]})]}),e.jsxs("div",{className:"admin-grid admin-grid-cols-1 lg:admin-grid-cols-3 admin-gap-8",children:[e.jsx("div",{className:"lg:admin-col-span-2 admin-space-y-6",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üîç –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã"}),e.jsx("p",{className:"admin-card-description",children:"–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 admin-gap-6",children:[e.jsxs("div",{className:"admin-p-6 admin-bg-admin-success-lighter admin-rounded-lg admin-border admin-border-admin-success-light admin-relative admin-overflow-hidden",children:[e.jsx("div",{className:"admin-absolute admin-top-2 admin-right-2",children:e.jsx("div",{className:"admin-w-3 admin-h-3 admin-bg-admin-success admin-rounded-full","aria-hidden":"true"})}),e.jsxs("div",{className:"admin-text-center",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-success admin-mb-2","aria-hidden":"true",children:"üóÑÔ∏è"}),e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm admin-mb-3",children:"PostgreSQL"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success admin-text-white admin-rounded admin-text-xs admin-font-medium",children:"‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ"})]})]}),e.jsxs("div",{className:"admin-p-6 admin-bg-admin-primary-lighter admin-rounded-lg admin-border admin-border-admin-primary-light admin-relative admin-overflow-hidden",children:[e.jsx("div",{className:"admin-absolute admin-top-2 admin-right-2",children:e.jsx("div",{className:"admin-w-3 admin-h-3 admin-bg-admin-primary admin-rounded-full","aria-hidden":"true"})}),e.jsxs("div",{className:"admin-text-center",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-primary admin-mb-2","aria-hidden":"true",children:"üöÄ"}),e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"API —Å–µ—Ä–≤–µ—Ä"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm admin-mb-3",children:"Edge Functions"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-primary admin-text-white admin-rounded admin-text-xs admin-font-medium",children:"‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"})]})]}),e.jsxs("div",{className:"admin-p-6 admin-bg-admin-secondary-lighter admin-rounded-lg admin-border admin-border-admin-secondary-light admin-relative admin-overflow-hidden",children:[e.jsx("div",{className:"admin-absolute admin-top-2 admin-right-2",children:e.jsx("div",{className:"admin-w-3 admin-h-3 admin-bg-admin-secondary admin-rounded-full","aria-hidden":"true"})}),e.jsxs("div",{className:"admin-text-center",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-secondary admin-mb-2","aria-hidden":"true",children:"üíæ"}),e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–•—Ä–∞–Ω–∏–ª–∏—â–µ"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm admin-mb-3",children:"Supabase Storage"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-secondary admin-text-white admin-rounded admin-text-xs admin-font-medium",children:"‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ"})]})]}),e.jsxs("div",{className:"admin-p-6 admin-bg-admin-warning-lighter admin-rounded-lg admin-border admin-border-admin-warning-light admin-relative admin-overflow-hidden",children:[e.jsx("div",{className:"admin-absolute admin-top-2 admin-right-2",children:e.jsx("div",{className:"admin-w-3 admin-h-3 admin-bg-admin-warning admin-rounded-full","aria-hidden":"true"})}),e.jsxs("div",{className:"admin-text-center",children:[e.jsx("div",{className:"admin-text-3xl admin-font-semibold admin-text-admin-warning admin-mb-2","aria-hidden":"true",children:"‚ö°"}),e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–ö—ç—à"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm admin-mb-3",children:"Redis"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-warning admin-text-white admin-rounded admin-text-xs admin-font-medium",children:"‚úÖ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫"})]})]})]})})]})}),e.jsx("div",{className:"admin-space-y-6",children:e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìä –†–µ—Å—É—Ä—Å—ã —Å–∏—Å—Ç–µ–º—ã"}),e.jsx("p",{className:"admin-card-description",children:"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"})]}),e.jsx("div",{className:"admin-card-content admin-space-y-6",children:e.jsxs("div",{className:"admin-space-y-4",children:[e.jsxs("div",{className:"admin-space-y-2",children:[e.jsxs("div",{className:"admin-flex admin-justify-between",children:[e.jsx("span",{className:"admin-text-gray-700",children:"CPU"}),e.jsxs("span",{className:"admin-font-medium admin-text-gray-900",children:[i.cpu,"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2",children:e.jsx("div",{className:"admin-bg-admin-warning admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${i.cpu}%`},"aria-label":`–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU: ${i.cpu}%`})})]}),e.jsxs("div",{className:"admin-space-y-2",children:[e.jsxs("div",{className:"admin-flex admin-justify-between",children:[e.jsx("span",{className:"admin-text-gray-700",children:"–ü–∞–º—è—Ç—å"}),e.jsxs("span",{className:"admin-font-medium admin-text-gray-900",children:[i.memory,"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2",children:e.jsx("div",{className:"admin-bg-admin-error admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${i.memory}%`},"aria-label":`–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ${i.memory}%`})})]}),e.jsxs("div",{className:"admin-space-y-2",children:[e.jsxs("div",{className:"admin-flex admin-justify-between",children:[e.jsx("span",{className:"admin-text-gray-700",children:"–î–∏—Å–∫"}),e.jsxs("span",{className:"admin-font-medium admin-text-gray-900",children:[i.disk,"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2",children:e.jsx("div",{className:"admin-bg-admin-primary admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${i.disk}%`},"aria-label":`–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞: ${i.disk}%`})})]}),e.jsxs("div",{className:"admin-space-y-2",children:[e.jsxs("div",{className:"admin-flex admin-justify-between",children:[e.jsx("span",{className:"admin-text-gray-700",children:"–°–µ—Ç—å"}),e.jsxs("span",{className:"admin-font-medium admin-text-gray-900",children:[i.network,"%"]})]}),e.jsx("div",{className:"admin-w-full admin-bg-gray-200 admin-rounded-full admin-h-2",children:e.jsx("div",{className:"admin-bg-admin-success admin-h-2 admin-rounded-full admin-transition-all",style:{width:`${i.network}%`},"aria-label":`–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏: ${i.network}%`})})]})]})})]})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ (24—á)"}),e.jsx("p",{className:"admin-card-description",children:"–ì—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsx(B,{data:Ve,xAxisKey:"time",title:"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤",type:"line"})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏"}),e.jsx("p",{className:"admin-card-description",children:"–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-2 lg:admin-grid-cols-4 admin-gap-4",children:[e.jsx("button",{onClick:()=>p("API"),disabled:r==="API",className:"admin-btn admin-btn-primary admin-font-medium",children:r==="API"?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üöÄ"}),"API —Å–µ—Ä–≤–µ—Ä"]})}),e.jsx("button",{onClick:()=>p("Database"),disabled:r==="Database",className:"admin-btn admin-btn-success admin-font-medium",children:r==="Database"?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üóÑÔ∏è"}),"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö"]})}),e.jsx("button",{onClick:()=>p("Cache"),disabled:r==="Cache",className:"admin-btn admin-btn-warning admin-font-medium",children:r==="Cache"?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–û—á–∏—Å—Ç–∫–∞..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"‚ö°"}),"–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à"]})}),e.jsx("button",{onClick:()=>p("Storage"),disabled:r==="Storage",className:"admin-btn admin-btn-outline admin-font-medium",children:r==="Storage"?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–•—Ä–∞–Ω–∏–ª–∏—â–µ"]})})]})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ"}),e.jsx("p",{className:"admin-card-description",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsxs("div",{className:"admin-space-y-6",children:[e.jsxs("div",{className:"admin-flex admin-gap-4",children:[e.jsx("button",{onClick:y,disabled:g,className:"admin-btn admin-btn-success admin-font-medium",children:g?e.jsxs("div",{className:"admin-flex admin-items-center admin-gap-2",children:[e.jsx("div",{className:"admin-spinner"}),"–°–æ–∑–¥–∞—é –∫–æ–ø–∏—é..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"üíæ"}),"–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é"]})}),e.jsxs("button",{onClick:c,className:"admin-btn admin-btn-outline admin-font-medium",children:[e.jsx("span",{className:"mr-2",children:"üìÇ"}),"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–ø–∏–∏"]})]}),e.jsx("div",{className:"admin-p-4 admin-bg-gray-50 admin-rounded-lg admin-border admin-border-gray-200",children:e.jsxs("div",{className:"admin-grid admin-grid-cols-1 md:admin-grid-cols-3 admin-gap-4 admin-text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–ø–∏—è"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–†–∞–∑–º–µ—Ä"}),e.jsx("div",{className:"admin-text-gray-600 admin-text-sm",children:"45.2 MB"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"admin-font-medium admin-text-gray-900 admin-mb-1",children:"–°—Ç–∞—Ç—É—Å"}),e.jsx("div",{className:"admin-px-3 admin-py-1 admin-bg-admin-success-lighter admin-text-admin-success admin-rounded admin-text-xs admin-font-medium admin-inline-block",children:"‚úÖ –£—Å–ø–µ—à–Ω–æ"})]})]})})]})})]}),e.jsxs("div",{className:"admin-card",children:[e.jsxs("div",{className:"admin-card-header",children:[e.jsx("h3",{className:"admin-card-title admin-flex admin-items-center admin-gap-2",children:"üìù –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏"}),e.jsx("p",{className:"admin-card-description",children:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–∞—Ö —Å–∏—Å—Ç–µ–º—ã"})]}),e.jsx("div",{className:"admin-card-content",children:e.jsx("div",{className:"admin-bg-gray-900 admin-text-green-400 admin-p-6 admin-rounded-lg admin-font-mono admin-text-sm admin-max-h-64 admin-overflow-y-auto admin-border admin-border-gray-700",children:e.jsxs("div",{className:"admin-space-y-1",children:[e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:30:15] INFO: API request processed successfully"}),e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:30:12] INFO: User authentication successful"}),e.jsx("div",{className:"admin-text-blue-300",children:"[2024-01-15 10:30:08] INFO: Database connection established"}),e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:30:05] INFO: Cache cleared successfully"}),e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:30:02] INFO: System startup completed"}),e.jsx("div",{className:"admin-text-yellow-300",children:"[2024-01-15 10:29:58] WARN: High memory usage detected"}),e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:29:55] INFO: Scheduled backup completed"}),e.jsx("div",{className:"admin-text-green-300",children:"[2024-01-15 10:29:50] INFO: API rate limit reset"})]})})})]})]})};function Qe(){const[s,j]=t.useState(!1),[i,v]=t.useState(!1),[r,f]=t.useState(null),[g,b]=t.useState({totalUsers:0,telegramUsers:0,lastActivity:null}),[p,y]=t.useState({username:"@diary_bookai_bot",domain:"unity-diary-app.netlify.app",tokenMasked:"8297834785:******AQbo"}),c=q();t.useEffect(()=>{c.auth.getSession().then(({data:{session:h}})=>{f(h)})},[]),t.useEffect(()=>{r&&(d(),a())},[r]);const d=async()=>{if(r)try{const h=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/telegram-auth",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjdXd1enFsd2Rra2RuY2FtcG5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNTg2OTQsImV4cCI6MjA3NTYzNDY5NH0.OnBM1BIQMVgJur2nM4gZGDW-PWWwSR92DpJHhPpqB88"}});if(h.ok){const o=await h.json();j(o.connected),o.botUsername&&y(u=>({...u,username:o.botUsername})),o.domain&&y(u=>({...u,domain:o.domain}))}else j(!1)}catch{j(!1)}},a=async()=>{try{const{data:h}=await c.from("profiles").select("id, telegram_id, created_at, updated_at");if(h){const o=h.filter(n=>n.telegram_id).length,u=h.filter(n=>n.telegram_id).sort((n,l)=>new Date(l.updated_at).getTime()-new Date(n.updated_at).getTime())[0];b({totalUsers:h.length,telegramUsers:o,lastActivity:u?.updated_at||null})}}catch{}},m=async()=>{if(!r){x.error("–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É");return}v(!0);try{const h=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/telegram-auth",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjdXd1enFsd2Rra2RuY2FtcG5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNTg2OTQsImV4cCI6MjA3NTYzNDY5NH0.OnBM1BIQMVgJur2nM4gZGDW-PWWwSR92DpJHhPpqB88"}});if(h.ok)(await h.json()).connected?(x.success("–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –∞–∫—Ç–∏–≤–Ω–∞"),j(!0)):(x.error("–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞"),j(!1));else throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é")}catch{x.error("–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"),j(!1)}finally{v(!1)}};return e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h2",{style:{marginBottom:"20px",color:"#333"},children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram"}),e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:"–°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?"#28a745":"#dc3545"}}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold"},children:s?"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞":"–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞"})]})]}),e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 15px 0",color:"#333"},children:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#007bff"},children:g.totalUsers}),e.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"},children:g.telegramUsers}),e.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"–ß–µ—Ä–µ–∑ Telegram"})]})]}),g.lastActivity&&e.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666",textAlign:"center"},children:["–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ",new Date(g.lastActivity).toLocaleString("ru-RU")]})]}),e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 15px 0",color:"#333"},children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞"}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Bot Username"}),e.jsx("input",{type:"text",value:p.username,disabled:!0,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f5f5f5"}})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Bot Token (–∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω)"}),e.jsx("input",{type:"text",value:p.tokenMasked,disabled:!0,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f5f5f5",fontFamily:"monospace"}})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"–î–æ–º–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"}),e.jsx("input",{type:"text",value:p.domain,disabled:!0,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f5f5f5"}})]}),e.jsx("button",{onClick:m,disabled:i,style:{padding:"10px 20px",backgroundColor:i?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:i?"not-allowed":"pointer"},children:i?"–ü—Ä–æ–≤–µ—Ä–∫–∞...":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é"})]}),e.jsxs("div",{style:{padding:"15px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:[e.jsx("h3",{style:{margin:"0 0 15px 0",color:"#333"},children:"–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ"}),e.jsxs("ol",{style:{margin:0,paddingLeft:"20px"},children:[e.jsxs("li",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:"–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram"}),e.jsx("br",{}),"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @BotFather –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞"]}),e.jsxs("li",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:"–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞"}),e.jsx("br",{}),"–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è BotFather"]}),e.jsxs("li",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:"–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω—ã"}),e.jsx("br",{}),"–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather"]}),e.jsxs("li",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:"–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Supabase"}),e.jsx("br",{}),"–í Dashboard ‚Üí Edge Functions –¥–æ–±–∞–≤—å—Ç–µ TELEGRAM_BOT_TOKEN"]})]})]})]})}const Ye=({className:s,activeSubTab:j,onSubTabChange:i})=>{const[v,r]=t.useState(j||"api"),[f,g]=t.useState(""),b=c=>{r(c),i?.(c)},p=[{value:"api",label:"API",icon:"üîë",description:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏"},{value:"telegram",label:"Telegram",icon:"üì±",description:"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram"},{value:"languages",label:"–Ø–∑—ã–∫–∏",icon:"üåç",description:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–æ–≤"},{value:"pwa",label:"PWA",icon:"üì±",description:"PWA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"},{value:"push",label:"Push",icon:"üîî",description:"Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"},{value:"general",label:"–û–±—â–∏–µ",icon:"‚öôÔ∏è",description:"–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"},{value:"system",label:"–°–∏—Å—Ç–µ–º–∞",icon:"üñ•Ô∏è",description:"–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}],y=p.filter(c=>c.label.toLowerCase().includes(f.toLowerCase())||c.description.toLowerCase().includes(f.toLowerCase()));return e.jsx("div",{className:`admin-panel ${s}`,children:e.jsxs("div",{className:"admin-p-6 lg:admin-p-8 admin-pb-4 admin-max-w-[1400px] admin-mx-auto",children:[e.jsxs("header",{className:"admin-mb-10",children:[e.jsx("h1",{className:"admin-text-4xl admin-font-bold admin-text-gray-900 admin-mb-3",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã"}),e.jsx("p",{className:"admin-text-lg admin-text-gray-600",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã"})]}),e.jsxs("div",{className:"admin-search-container admin-mb-10 admin-max-w-xl",children:[e.jsx("svg",{className:"admin-search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫...",value:f,onChange:c=>g(c.target.value),className:"admin-search-input admin-text-base","aria-label":"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º"})]}),e.jsxs(Ce,{value:v,onValueChange:b,className:"w-full",children:[e.jsx("nav",{className:"admin-mb-10","aria-label":"–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º",children:e.jsx(_e,{className:"admin-flex admin-flex-wrap admin-gap-3 admin-bg-white admin-border admin-border-gray-200 admin-p-2 admin-rounded-xl admin-shadow-sm",children:p.map(c=>e.jsxs(Ie,{value:c.value,className:"admin-flex admin-items-center admin-gap-3 admin-px-6 admin-py-4 admin-rounded-lg admin-font-medium admin-text-base admin-transition-all admin-duration-200 admin-text-gray-700 hover:admin-text-gray-900 hover:admin-bg-gray-50 focus-visible:admin-ring-2 focus-visible:admin-ring-admin-primary focus-visible:admin-ring-offset-2 data-[state=active]:admin-bg-admin-primary data-[state=active]:admin-text-white data-[state=active]:admin-shadow-md","aria-label":`${c.label} - ${c.description}`,children:[e.jsx("span",{className:"admin-text-xl","aria-hidden":"true",children:c.icon}),e.jsx("span",{children:c.label})]},c.value))})}),e.jsx("main",{className:"min-h-[500px]",children:y.length===0&&f?e.jsxs("div",{className:"admin-text-center admin-py-12",children:[e.jsxs("p",{className:"admin-text-gray-500 admin-text-lg admin-mb-2",children:['–ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö "',f,'"']}),e.jsx("button",{onClick:()=>g(""),className:"admin-btn admin-btn-outline",children:"–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–∏—Å–∫"})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{value:"api",children:e.jsx($e,{})}),e.jsx($,{value:"telegram",children:e.jsx(Qe,{})}),e.jsx($,{value:"languages",children:e.jsx(ze,{})}),e.jsx($,{value:"pwa",children:e.jsx(qe,{})}),e.jsx($,{value:"push",children:e.jsx(Je,{})}),e.jsx($,{value:"general",children:e.jsx(We,{})}),e.jsx($,{value:"system",children:e.jsx(Ke,{})})]})})]})]})})};function Ge(){const[s,j]=t.useState([]),[i,v]=t.useState({totalRevenue:47280,activeSubscriptions:156,churnRate:3.2,mrr:15600});t.useEffect(()=>{r()},[]);const r=async()=>{try{j([{id:"1",userName:"–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤",userEmail:"alexey@example.com",plan:"premium_monthly",status:"active",startDate:"2024-02-01",nextBillingDate:"2024-04-01",amount:399},{id:"2",userName:"–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",userEmail:"maria@example.com",plan:"premium_yearly",status:"active",startDate:"2024-01-15",nextBillingDate:"2025-01-15",amount:3990}])}catch{}},f=b=>b==="premium_yearly"?e.jsx(R,{className:"bg-accent/10 text-accent border-accent",children:"–ì–æ–¥–æ–≤–∞—è"}):e.jsx(R,{variant:"outline",children:"–ú–µ—Å—è—á–Ω–∞—è"}),g=b=>b==="active"?e.jsx(R,{className:"bg-green-500/10 text-green-600 border-green-500/20",children:"–ê–∫—Ç–∏–≤–Ω–∞"}):e.jsx(R,{variant:"outline",className:"bg-muted",children:"–û—Ç–º–µ–Ω–µ–Ω–∞"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(I,{children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[14px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"–û–±—â–∏–π –¥–æ—Ö–æ–¥"]})}),e.jsx(A,{children:e.jsxs("div",{className:"!text-[28px] !font-semibold text-foreground",children:[i.totalRevenue.toLocaleString()," ‚ÇΩ"]})})]}),e.jsxs(I,{children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[14px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫"]})}),e.jsx(A,{children:e.jsx("div",{className:"!text-[28px] !font-semibold text-foreground",children:i.activeSubscriptions})})]}),e.jsxs(I,{children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[14px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"MRR"]})}),e.jsx(A,{children:e.jsxs("div",{className:"!text-[28px] !font-semibold text-foreground",children:[i.mrr.toLocaleString()," ‚ÇΩ"]})})]}),e.jsxs(I,{children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[14px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Churn Rate"]})}),e.jsx(A,{children:e.jsxs("div",{className:"!text-[28px] !font-semibold text-foreground",children:[i.churnRate,"%"]})})]})]}),e.jsxs(I,{children:[e.jsxs(T,{children:[e.jsx(P,{className:"!text-[20px] !font-semibold",children:"–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏"}),e.jsx(V,{children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]}),e.jsx(A,{children:e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(de,{children:[e.jsx(te,{children:e.jsxs(W,{children:[e.jsx(E,{children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),e.jsx(E,{children:"–ü–ª–∞–Ω"}),e.jsx(E,{children:"–°—Ç–∞—Ç—É—Å"}),e.jsx(E,{children:"–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞"}),e.jsx(E,{children:"–°–ª–µ–¥. –ø–ª–∞—Ç–µ–∂"}),e.jsx(E,{className:"text-right",children:"–°—É–º–º–∞"})]})}),e.jsx(re,{children:s.map(b=>e.jsxs(W,{children:[e.jsx(O,{children:e.jsxs("div",{children:[e.jsx("div",{className:"!text-[14px] !font-semibold text-foreground",children:b.userName}),e.jsx("div",{className:"!text-[12px] !font-normal text-muted-foreground",children:b.userEmail})]})}),e.jsx(O,{children:f(b.plan)}),e.jsx(O,{children:g(b.status)}),e.jsx(O,{className:"!text-[13px]",children:b.startDate}),e.jsx(O,{className:"!text-[13px]",children:b.nextBillingDate}),e.jsxs(O,{className:"text-right !text-[14px] !font-semibold",children:[b.amount," ‚ÇΩ"]})]},b.id))})]})})})]})]})}function Xe({userData:s,onLogout:j}){const[i,v]=t.useState("overview"),[r,f]=t.useState(!1),[g,b]=t.useState(!1),[p,y]=t.useState("pwa"),[c,d]=t.useState({totalUsers:0,activeUsers:0,premiumUsers:0,totalRevenue:0,newUsersToday:0,activeToday:0,totalEntries:0,pwaInstalls:0}),a=s?.profile?.role==="super_admin"||s?.role==="super_admin";t.useEffect(()=>{a&&m()},[a]),t.useEffect(()=>{const o=u=>{const{tab:n,subtab:l}=u.detail;n&&v(n),l&&y(l)};return window.addEventListener("admin-navigate",o),()=>{window.removeEventListener("admin-navigate",o)}},[]);const m=async()=>{try{b(!0);const o=q(),{data:{session:u}}=await o.auth.getSession();if(!u?.access_token)throw new Error("No session");const n=await fetch("https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/admin-api/admin/stats",{headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to load stats");const l=await n.json(),{success:N,...k}=l;d(k)}catch{x.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"),d({totalUsers:0,activeUsers:0,premiumUsers:0,totalRevenue:0,newUsersToday:0,activeToday:0,totalEntries:0,pwaInstalls:0})}finally{b(!1)}};if(!a)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsx(I,{className:"max-w-md w-full border-border",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),e.jsx("p",{className:"text-foreground mb-2",children:"–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"}),e.jsx(D,{onClick:j,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:"–í—ã–π—Ç–∏"})]})})})});const h=[{id:"overview",label:"–û–±–∑–æ—Ä",icon:je},{id:"users",label:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",icon:J},{id:"subscriptions",label:"–ü–æ–¥–ø–∏—Å–∫–∏",icon:ie},{id:"settings",label:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",icon:be}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:block lg:w-64 lg:overflow-y-auto lg:bg-card lg:border-r lg:border-border",children:[e.jsxs("div",{className:"flex h-16 items-center gap-3 border-b border-border px-6 bg-accent",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-white/20 backdrop-blur-sm flex items-center justify-center shrink-0",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white !text-[17px]",children:"Admin Panel"}),e.jsx("p",{className:"text-white/80 !text-[13px] !font-normal",children:"–î–Ω–µ–≤–Ω–∏–∫ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π"})]})]}),e.jsx("nav",{className:"p-4 space-y-1",children:h.map(o=>{const u=o.icon,n=i===o.id;return e.jsxs(U.button,{onClick:()=>v(o.id),className:`
                  w-full flex items-center gap-3 px-3 py-2.5 rounded-[var(--radius)] transition-all !text-[15px] relative
                  ${n?"bg-accent text-accent-foreground shadow-lg":"text-foreground hover:bg-muted"}
                `,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{children:o.label}),n&&e.jsx(U.div,{className:"absolute inset-0 bg-accent/20 rounded-[var(--radius)]",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2}})]},o.id)})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 px-3 py-2 bg-muted rounded-[var(--radius)]",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-accent-foreground shrink-0",children:s?.email?.[0].toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"!text-[14px] text-foreground truncate",children:s?.email}),e.jsx("p",{className:"!text-[12px] text-muted-foreground !font-normal",children:"–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"})]})]}),e.jsxs(D,{variant:"outline",className:"w-full justify-start gap-2 !text-[15px]",onClick:j,children:[e.jsx(K,{className:"w-4 h-4"}),"–í—ã—Ö–æ–¥"]})]})]}),e.jsx(Z,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>f(!1)}),e.jsxs(U.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border lg:hidden overflow-y-auto",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-border px-6 bg-accent",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-white/20 backdrop-blur-sm flex items-center justify-center shrink-0",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white !text-[17px]",children:"Admin"}),e.jsx("p",{className:"text-white/80 !text-[13px] !font-normal",children:"–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"})]})]}),e.jsx("button",{onClick:()=>f(!1),className:"text-white",children:e.jsx(fe,{className:"w-6 h-6"})})]}),e.jsx("nav",{className:"p-4 space-y-1",children:h.map(o=>{const u=o.icon,n=i===o.id;return e.jsxs(U.button,{onClick:()=>{v(o.id),f(!1)},className:`
                        w-full flex items-center gap-3 px-3 py-2.5 rounded-[var(--radius)] transition-all !text-[15px] relative
                        ${n?"bg-accent text-accent-foreground shadow-lg":"text-foreground hover:bg-muted"}
                      `,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{children:o.label}),n&&e.jsx(U.div,{className:"absolute inset-0 bg-accent/20 rounded-[var(--radius)]",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2}})]},o.id)})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 px-3 py-2 bg-muted rounded-[var(--radius)]",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-accent-foreground shrink-0",children:s?.email?.[0].toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"!text-[14px] text-foreground truncate",children:s?.email}),e.jsx("p",{className:"!text-[12px] text-muted-foreground !font-normal",children:"–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω"})]})]}),e.jsxs(D,{variant:"outline",className:"w-full justify-start gap-2 !text-[15px]",onClick:j,children:[e.jsx(K,{className:"w-4 h-4"}),"–í—ã—Ö–æ–¥"]})]})]})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-card border-b border-border",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-4 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>f(!0),className:"lg:hidden w-10 h-10 rounded-[var(--radius)] hover:bg-muted flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-foreground"})}),e.jsx("h2",{className:"text-foreground !text-[17px]",children:h.find(o=>o.id===i)?.label})]}),e.jsx("button",{onClick:j,className:"lg:hidden w-10 h-10 rounded-[var(--radius)] hover:bg-muted flex items-center justify-center",title:"–í—ã—Ö–æ–¥",children:e.jsx(K,{className:"w-5 h-5 text-muted-foreground"})})]})}),e.jsx("main",{className:"p-4 lg:p-8",children:e.jsx(Z,{mode:"wait",children:e.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.4,0,.2,1]},className:"w-full",children:[i==="overview"&&e.jsx(He,{stats:c,isLoading:g,onRefresh:m}),i==="users"&&e.jsx(me,{}),i==="subscriptions"&&e.jsx(Ge,{}),i==="settings"&&e.jsx(Ye,{activeSubTab:p,onSubTabChange:y})]},i)})})]})]})}function He({stats:s,isLoading:j,onRefresh:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"!text-[26px] text-foreground",children:"–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã"}),e.jsx("p",{className:"!text-[15px] text-muted-foreground !font-normal",children:"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsxs(D,{onClick:i,disabled:j,variant:"outline",className:"gap-2",children:[e.jsx(G,{className:`w-4 h-4 ${j?"animate-spin":""}`}),"–û–±–Ω–æ–≤–∏—Ç—å"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6",children:[e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"]})}),e.jsxs(A,{children:[e.jsx("div",{className:"!text-[34px] text-foreground",children:s.totalUsers}),e.jsxs("p",{className:"!text-[13px] text-accent !font-normal mt-1",children:["+",s.newUsersToday," —Å–µ–≥–æ–¥–Ω—è"]})]})]}),e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"]})}),e.jsxs(A,{children:[e.jsx("div",{className:"!text-[34px] text-foreground",children:s.activeUsers}),e.jsxs("p",{className:"!text-[13px] text-muted-foreground !font-normal mt-1",children:[s.totalUsers>0?Math.round(s.activeUsers/s.totalUsers*100):0,"% –æ—Ç –≤—Å–µ—Ö"]})]})]}),e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4"}),"Premium –ø–æ–¥–ø–∏—Å–∫–∏"]})}),e.jsxs(A,{children:[e.jsx("div",{className:"!text-[34px] text-foreground",children:s.premiumUsers}),e.jsxs("p",{className:"!text-[13px] text-muted-foreground !font-normal mt-1",children:[s.totalUsers>0?Math.round(s.premiumUsers/s.totalUsers*100):0,"% –∫–æ–Ω–≤–µ—Ä—Å–∏—è"]})]})]}),e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"–û–±—â–∏–π –¥–æ—Ö–æ–¥"]})}),e.jsxs(A,{children:[e.jsxs("div",{className:"!text-[34px] text-foreground",children:["$",s.totalRevenue]}),e.jsxs("p",{className:"!text-[13px] text-muted-foreground !font-normal mt-1",children:["$",s.premiumUsers>0?Math.round(s.totalRevenue/s.premiumUsers):0," ARPU"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4"}),"–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π"]})}),e.jsxs(A,{children:[e.jsx("div",{className:"!text-[34px] text-foreground",children:s.totalEntries}),e.jsxs("p",{className:"!text-[13px] text-muted-foreground !font-normal mt-1",children:[s.activeUsers>0?(s.totalEntries/s.activeUsers).toFixed(1):0," –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"]})]})]}),e.jsxs(I,{className:"border-border",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"!text-[13px] !font-normal text-muted-foreground flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"PWA —É—Å—Ç–∞–Ω–æ–≤–æ–∫"]})}),e.jsxs(A,{children:[e.jsx("div",{className:"!text-[34px] text-foreground",children:s.pwaInstalls}),e.jsxs("p",{className:"!text-[13px] text-muted-foreground !font-normal mt-1",children:[s.totalUsers>0?Math.round(s.pwaInstalls/s.totalUsers*100):0,"% –æ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"]})]})]})]}),e.jsxs(I,{className:"border-border",children:[e.jsxs(T,{children:[e.jsx(P,{className:"!text-[17px]",children:"–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"}),e.jsx(V,{className:"!text-[13px] !font-normal",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"})]}),e.jsx(A,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(D,{variant:"outline",className:"justify-start h-auto py-4 border-border",onClick:()=>window.dispatchEvent(new CustomEvent("admin-navigate",{detail:{tab:"settings",subtab:"pwa"}})),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(ee,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"!text-[15px] text-foreground",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ PWA"}),e.jsx("p",{className:"!text-[13px] text-muted-foreground !font-normal",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏"})]})]})}),e.jsx(D,{variant:"outline",className:"justify-start h-auto py-4 border-border",onClick:()=>window.dispatchEvent(new CustomEvent("admin-navigate",{detail:{tab:"settings",subtab:"push"}})),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(Q,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"!text-[15px] text-foreground",children:"Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("p",{className:"!text-[13px] text-muted-foreground !font-normal",children:"–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"})]})]})}),e.jsx(D,{variant:"outline",className:"justify-start h-auto py-4 border-border",onClick:()=>window.dispatchEvent(new CustomEvent("admin-navigate",{detail:{tab:"users"}})),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(J,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"!text-[15px] text-foreground",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏"}),e.jsx("p",{className:"!text-[13px] text-muted-foreground !font-normal",children:"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"})]})]})}),e.jsx(D,{variant:"outline",className:"justify-start h-auto py-4 border-border",onClick:()=>window.dispatchEvent(new CustomEvent("admin-navigate",{detail:{tab:"subscriptions"}})),children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-[var(--radius)] bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(ie,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"!text-[15px] text-foreground",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏"}),e.jsx("p",{className:"!text-[13px] text-muted-foreground !font-normal",children:"Premium –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏"})]})]})})]})})]}),e.jsxs(I,{className:"border-border",children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2 !text-[17px]",children:[e.jsx(Q,{className:"w-5 h-5"}),"–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã"]})}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"!text-[15px] text-foreground",children:"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö"})]}),e.jsx(R,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20 !text-[13px]",children:"–†–∞–±–æ—Ç–∞–µ—Ç"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"!text-[15px] text-foreground",children:"API —Å–µ—Ä–≤–µ—Ä"})]}),e.jsx(R,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20 !text-[13px]",children:"–†–∞–±–æ—Ç–∞–µ—Ç"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"!text-[15px] text-foreground",children:"Service Worker"})]}),e.jsx(R,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20 !text-[13px]",children:"–ê–∫—Ç–∏–≤–µ–Ω v1.0.3"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"!text-[15px] text-foreground",children:"Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"})]}),e.jsx(R,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20 !text-[13px]",children:"–í–∫–ª—é—á–µ–Ω–æ"})]})]})})]})]})}const na=Object.freeze(Object.defineProperty({__proto__:null,AdminDashboard:Xe,UsersManagementTab:me},Symbol.toStringTag,{value:"Module"}));export{na as a,q as c,sa as i,Pe as p};
