import{r as E,j as p}from"./vendor-react-fV-kJ7tt.js";import"./shared-components-BaxPbTVL.js";import{c as w}from"./admin-features-BNidHTq_.js";const m={get OS(){return typeof window<"u"&&typeof document<"u"?"web":typeof navigator<"u"&&navigator.product==="ReactNative"?"native":"web"},get isWeb(){return this.OS==="web"},get isNative(){return this.OS==="native"},get hasDOMAPI(){return typeof window<"u"&&typeof document<"u"&&typeof localStorage<"u"},get isBrowser(){return typeof window<"u"&&typeof window.location<"u"},get isPWA(){if(!this.isBrowser)return!1;const n=window.matchMedia("(display-mode: standalone)").matches,e=window.navigator.standalone===!0;return n||e},select(n){if(this.isWeb&&n.web!==void 0)return n.web;if(this.isNative&&n.native!==void 0)return n.native;if(n.default!==void 0)return n.default;throw new Error(`No implementation found for platform "${this.OS}". Available: ${Object.keys(n).join(", ")}`)},execute(n){const e=this.select(n);typeof e=="function"&&e()},value(n,e,t){return this.select({web:n,native:e,default:t??n})}};m.value(50*1024*1024,20*1024*1024,10*1024*1024),m.value(["image/jpeg","image/png","image/webp","image/gif"],["image/jpeg","image/png"],["image/jpeg","image/png"]),m.value(["video/mp4","video/webm","video/ogg"],["video/mp4"],["video/mp4"]),m.value(300,250,300),m.value(0,50,0);class P{isAvailable(){try{if(typeof localStorage>"u")return!1;const e="__storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch{return!1}}async getItem(e){try{return this.isAvailable()?localStorage.getItem(e):null}catch{return null}}async setItem(e,t){try{if(!this.isAvailable())return;localStorage.setItem(e,t)}catch(a){throw a}}async removeItem(e){try{if(!this.isAvailable())return;localStorage.removeItem(e)}catch(t){throw t}}async clear(){try{if(!this.isAvailable())return;localStorage.clear()}catch(e){throw e}}async getAllKeys(){try{return this.isAvailable()?Object.keys(localStorage):[]}catch{return[]}}async multiGet(e){try{return this.isAvailable()?e.map(t=>[t,localStorage.getItem(t)]):e.map(t=>[t,null])}catch{return e.map(a=>[a,null])}}async multiSet(e){try{if(!this.isAvailable())return;e.forEach(([t,a])=>{localStorage.setItem(t,a)})}catch(t){throw t}}async multiRemove(e){try{if(!this.isAvailable())return;e.forEach(t=>{localStorage.removeItem(t)})}catch(t){throw t}}}class x{async getItem(e){return null}async setItem(e,t){}async removeItem(e){}async clear(){}async getAllKeys(){return[]}async multiGet(e){return e.map(t=>[t,null])}async multiSet(e){}async multiRemove(e){}}class U{storage=new Map;async getItem(e){return this.storage.get(e)??null}async setItem(e,t){this.storage.set(e,t)}async removeItem(e){this.storage.delete(e)}async clear(){this.storage.clear()}async getAllKeys(){return Array.from(this.storage.keys())}async multiGet(e){return e.map(t=>[t,this.storage.get(t)??null])}async multiSet(e){e.forEach(([t,a])=>{this.storage.set(t,a)})}async multiRemove(e){e.forEach(t=>{this.storage.delete(t)})}}const f=m.select({web:new P,native:new x,default:new U});class g{static CACHE_PREFIX="i18n_cache_";static LAST_SYNC_KEY="i18n_last_sync";static DEFAULT_CONFIG={maxAge:1440*60*1e3,maxSize:1024*1024,compressionEnabled:!0};static async getCache(e){const t=this.CACHE_PREFIX+e,a=await f.getItem(t);if(!a)return null;try{const r=JSON.parse(a);return this.isCacheExpired(r)?(await this.removeCache(e),null):this.validateCacheIntegrity(r)?r:(await this.removeCache(e),null)}catch{return await this.removeCache(e),null}}static async setCache(e,t,a){const r={language:e,translations:t,version:this.generateVersion(),lastUpdated:new Date().toISOString(),etag:a,checksum:this.calculateChecksum(t)},s=this.CACHE_PREFIX+e;try{const i=JSON.stringify(r);this.DEFAULT_CONFIG.compressionEnabled&&this.getSizeInBytes(i)>this.DEFAULT_CONFIG.maxSize&&await this.cleanupOldCache(),await f.setItem(s,i),await f.setItem(this.LAST_SYNC_KEY,new Date().toISOString())}catch(i){await this.handleStorageError(i)}}static isCacheExpired(e){return Date.now()-new Date(e.lastUpdated).getTime()>this.DEFAULT_CONFIG.maxAge}static async removeCache(e){const t=this.CACHE_PREFIX+e;await f.removeItem(t)}static async clearCache(){const t=(await f.getAllKeys()).filter(a=>a.startsWith(this.CACHE_PREFIX));await f.multiRemove([...t,this.LAST_SYNC_KEY])}static async getLastSync(){const e=await f.getItem(this.LAST_SYNC_KEY);return e?new Date(e):null}static async getCacheETag(e){return(await this.getCache(e))?.etag}static async getCachedLanguages(){return(await f.getAllKeys()).filter(t=>t.startsWith(this.CACHE_PREFIX)).map(t=>t.replace(this.CACHE_PREFIX,""))}static async validateAllCaches(){const e=await this.getCachedLanguages(),t=[],a=[];for(const r of e){const s=await this.getCache(r);s&&this.validateCacheIntegrity(s)?t.push(r):(a.push(r),await this.removeCache(r))}return{valid:t,invalid:a}}static async getCacheStats(){const e=await this.getCachedLanguages();let t=0,a=0,r=null,s=null;for(const i of e){const c=this.CACHE_PREFIX+i,u=await f.getItem(c);if(u){t+=this.getSizeInBytes(u);try{const d=JSON.parse(u);a+=Object.keys(d.translations).length;const o=new Date(d.lastUpdated);(!r||o<r)&&(r=o),(!s||o>s)&&(s=o)}catch{}}}return{totalSize:t,languagesCount:e.length,totalKeys:a,oldestCache:r,newestCache:s}}static generateVersion(){return Date.now().toString()}static calculateChecksum(e){const t=JSON.stringify(e);return btoa(t).slice(0,16)}static validateCacheIntegrity(e){return!!(e.language&&e.translations&&typeof e.translations=="object"&&Object.keys(e.translations).length>0&&e.lastUpdated&&e.version)}static getSizeInBytes(e){return new Blob([e]).size}static async handleStorageError(e){e.name==="QuotaExceededError"?await this.cleanupOldCache():e.name}static async cleanupOldCache(){const t=(await f.getAllKeys()).filter(c=>c.startsWith(this.CACHE_PREFIX)),a=await Promise.all(t.map(async c=>{try{const u=await f.getItem(c),d=JSON.parse(u||"{}");return{key:c,lastUpdated:new Date(d.lastUpdated||0),size:this.getSizeInBytes(u||"")}}catch{return{key:c,lastUpdated:new Date(0),size:0}}}));a.sort((c,u)=>c.lastUpdated.getTime()-u.lastUpdated.getTime()),a.reduce((c,u)=>c+u.size,0);const r=this.DEFAULT_CONFIG.maxSize*.5;let s=0;const i=[];a.forEach(({key:c,size:u})=>{s<r&&(i.push(c),s+=u)}),await f.multiRemove(i)}static async exportCache(){const e={},t=await this.getCachedLanguages();for(const a of t){const r=await this.getCache(a);r&&(e[a]=r)}return e}static async importCache(e){for(const[t,a]of Object.entries(e))this.validateCacheIntegrity(a)&&await this.setCache(t,a.translations,a.etag)}}const _="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjdXd1enFsd2Rra2RuY2FtcG5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNTg2OTQsImV4cCI6MjA3NTYzNDY5NH0.OnBM1BIQMVgJur2nM4gZGDW-PWWwSR92DpJHhPpqB88";class T{static BASE_URL="https://ecuwuzqlwdkkdncampnc.supabase.co/functions/v1/make-server-9729c493";static async getSupportedLanguages(){try{const e=await fetch(`${this.BASE_URL}/i18n/languages`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}});if(!e.ok)throw new Error(`Failed to fetch languages: ${e.status} ${e.statusText}`);const t=await e.json();if(!t.success)throw new Error(t.error||"Failed to fetch languages");return t.languages||[]}catch{return this.getFallbackLanguages()}}static async getTranslations(e,t){try{const a={"Content-Type":"application/json",Authorization:`Bearer ${_}`};t?.etag&&(a["If-None-Match"]=t.etag);const r=await fetch(`${this.BASE_URL}/i18n/translations/${e}`,{headers:a});if(r.status===304){const u=g.getCache(e);if(u)return u.translations}if(!r.ok)throw new Error(`Failed to fetch translations: ${r.status} ${r.statusText}`);const s=await r.json();if(!s.success)throw new Error(s.error||"Failed to fetch translations");const i=r.headers.get("ETag"),c=s.translations||{};return t?.useCache!==!1&&g.setCache(e,c,i||void 0),c}catch(a){const r=g.getCache(e);if(r)return r.translations;throw a}}static async getTranslationKeys(){try{const e=await fetch(`${this.BASE_URL}/i18n/keys`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}});if(!e.ok)throw new Error(`Failed to fetch keys: ${e.status} ${e.statusText}`);const t=await e.json();if(!t.success)throw new Error(t.error||"Failed to fetch keys");return t.keys||[]}catch{return this.getFallbackKeys()}}static async reportMissingTranslation(e,t,a){try{const r={key:e,language:t,context:a,userAgent:navigator.userAgent,timestamp:new Date().toISOString()};(await fetch(`${this.BASE_URL}/i18n/missing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(r)})).ok}catch{}}static async getTranslationStats(){try{const e=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token"),t=await fetch(`${this.BASE_URL}/i18n/admin/stats`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Failed to fetch stats: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.error||"Failed to fetch stats");return a.stats}catch{return{totalKeys:0,translatedKeys:{},progress:{},lastUpdated:{}}}}static async updateTranslations(e,t){try{const a=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token"),r=await fetch(`${this.BASE_URL}/i18n/admin/translations`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({language:e,translations:t})});if(!r.ok)throw new Error(`Failed to update translations: ${r.status}`);const s=await r.json();if(!s.success)throw new Error(s.error||"Failed to update translations");return g.setCache(e,t),!0}catch{return!1}}static async autoTranslate(e,t){try{const a=localStorage.getItem("sb-ecuwuzqlwdkkdncampnc-auth-token"),r=localStorage.getItem("admin_openai_api_key");if(!r)throw new Error("OpenAI API key not configured");const s=await fetch(`${this.BASE_URL}/i18n/admin/translate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"X-OpenAI-Key":r},body:JSON.stringify({sourceLanguage:e,targetLanguages:t})});if(!s.ok)throw new Error(`Auto-translation failed: ${s.status}`);const i=await s.json();if(!i.success)throw new Error(i.error||"Auto-translation failed");for(const c of t){const u=i.results[c]?.reduce((d,o)=>(d[o.key]=o.translatedText,d),{});u&&Object.keys(u).length>0&&g.setCache(c,u)}return{success:!0,results:i.results}}catch(a){return{success:!1,results:{},error:a instanceof Error?a.message:"Unknown error"}}}static async healthCheck(){try{return(await fetch(`${this.BASE_URL}/i18n/health`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}})).ok}catch{return!1}}static getFallbackLanguages(){return[{code:"ru",name:"Russian",native_name:"Ğ ÑƒÑÑĞºĞ¸Ğ¹",flag:"ğŸ‡·ğŸ‡º",is_active:!0},{code:"en",name:"English",native_name:"English",flag:"ğŸ‡ºğŸ‡¸",is_active:!0},{code:"es",name:"Spanish",native_name:"EspaÃ±ol",flag:"ğŸ‡ªğŸ‡¸",is_active:!0},{code:"de",name:"German",native_name:"Deutsch",flag:"ğŸ‡©ğŸ‡ª",is_active:!1},{code:"fr",name:"French",native_name:"FranÃ§ais",flag:"ğŸ‡«ğŸ‡·",is_active:!1},{code:"zh",name:"Chinese",native_name:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³",is_active:!1},{code:"ja",name:"Japanese",native_name:"æ—¥æœ¬èª",flag:"ğŸ‡¯ğŸ‡µ",is_active:!1}]}static getFallbackKeys(){return["welcome_title","start_button","skip","next","back","home","history","achievements","reports","settings","greeting","today_question","input_placeholder","send","save","cancel_button","delete","sign_in","sign_up","your_email","password","notifications","language","support","family","work","finance","gratitude","health","personal_development","creativity","relationships","connected_to_ai","ai_help","history_title","select_language","diary_name","first_entry","reminders"]}}class S{static DEFAULT_TIMEOUT=1e4;static DEFAULT_RETRY_COUNT=3;static RETRY_DELAY=1e3;static async loadTranslations(e){const{language:t,fallbackLanguage:a="ru",forceRefresh:r=!1,timeout:s=this.DEFAULT_TIMEOUT,retryCount:i=this.DEFAULT_RETRY_COUNT}=e;let c=0;for(;c<i;)try{return await this.attemptLoad({language:t,fallbackLanguage:a,forceRefresh:r,timeout:s,attempt:c})}catch{c++,c<i&&await this.delay(this.RETRY_DELAY*c)}return this.loadFallback(a)}static async attemptLoad(e){const{language:t,fallbackLanguage:a,forceRefresh:r,timeout:s,attempt:i}=e;if(!r&&i===0){const u=g.getCache(t);if(u&&!this.isCacheStale(u))return{translations:u.translations,language:t,usedFallback:!1,fromCache:!0}}const c=await this.withTimeout(T.getTranslations(t,{useCache:!0,etag:i===0?g.getCacheETag(t):void 0}),s);if(Object.keys(c).length===0)throw new Error("No translations received from API");return{translations:c,language:t,usedFallback:!1,fromCache:!1}}static async loadFallback(e){const t=g.getCache(e);if(t)return{translations:t.translations,language:e,usedFallback:!0,fromCache:!0};try{return{translations:await this.withTimeout(T.getTranslations(e),this.DEFAULT_TIMEOUT),language:e,usedFallback:!0,fromCache:!1}}catch{return{translations:this.getBuiltinTranslations(e),language:e,usedFallback:!0,fromCache:!1}}}static async preloadLanguages(e,t={}){const a=e.map(r=>this.loadTranslations({...t,language:r}).then(s=>{}).catch(s=>null));await Promise.allSettled(a)}static async validateCache(){try{const t=(await T.getSupportedLanguages()).map(a=>a.code);for(const a of t){const r=g.getCache(a);r&&(this.validateCacheIntegrity(r)||g.removeCache(a))}Object.keys(localStorage).filter(a=>a.startsWith("i18n_cache_")).forEach(a=>{const r=a.replace("i18n_cache_","");t.includes(r)||g.removeCache(r)})}catch{}}static async clearAllTranslations(){g.clearCache(),Object.keys(localStorage).filter(e=>e.startsWith("i18n_")).forEach(e=>localStorage.removeItem(e))}static getLoadingStats(){return{cacheStats:g.getCacheStats(),lastSync:g.getLastSync(),supportedLanguages:g.getCachedLanguages()}}static async withTimeout(e,t){const a=new Promise((r,s)=>{setTimeout(()=>s(new Error(`Timeout after ${t}ms`)),t)});return Promise.race([e,a])}static delay(e){return new Promise(t=>setTimeout(t,e))}static isCacheStale(e){return Date.now()-new Date(e.lastUpdated).getTime()>864e5}static validateCacheIntegrity(e){return!!(e.language&&e.translations&&typeof e.translations=="object"&&Object.keys(e.translations).length>0&&e.lastUpdated&&e.version)}static getBuiltinTranslations(e){const t={ru:{welcome_title:"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ´Ğ½ĞµĞ²Ğ½Ğ¸Ğº Ğ¿Ğ¾Ğ±ĞµĞ´",start_button:"ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",skip:"ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ",next:"Ğ”Ğ°Ğ»ĞµĞµ",back:"ĞĞ°Ğ·Ğ°Ğ´",home:"Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ",settings:"ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",loading_translations:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²...",translation_error:"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²",retry:"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ",cancel_button:"ĞÑ‚Ğ¼ĞµĞ½Ğ°",select_language:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº",language:"Ğ¯Ğ·Ñ‹Ğº"},en:{welcome_title:"Create a victory diary",start_button:"Get Started",skip:"Skip",next:"Next",back:"Back",home:"Home",settings:"Settings",loading_translations:"Loading translations...",translation_error:"Translation loading error",retry:"Retry",cancel_button:"Cancel",select_language:"Select language",language:"Language"}};return t[e]||t.ru}static async debugInfo(){return{currentCache:g.exportCache(),loadingStats:this.getLoadingStats(),apiHealth:await T.healthCheck(),localStorageUsage:JSON.stringify(localStorage).length}}}const k={ru:{greeting:"ĞŸÑ€Ğ¸Ğ²ĞµÑ‚!",todayQuestion:"ĞšĞ°Ğº Ğ¿Ñ€Ğ¾ÑˆÑ‘Ğ» Ğ´ĞµĞ½ÑŒ?",home:"Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ",history:"Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ",awards:"ĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹",reviews:"ĞÑ‚Ñ‡Ñ‘Ñ‚Ñ‹",settings:"ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",inputPlaceholder:"Ğ Ğ°ÑÑĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¾ ÑĞ²Ğ¾Ñ‘Ğ¼ Ğ´Ğ½Ğµ...",searchPlaceholder:"ĞŸĞ¾Ğ¸ÑĞº Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹...",addPhoto:"Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾",send:"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ",save:"Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ",cancel:"ĞÑ‚Ğ¼ĞµĞ½Ğ°",delete:"Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ",back:"ĞĞ°Ğ·Ğ°Ğ´",next:"Ğ”Ğ°Ğ»ĞµĞµ",skip:"ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ",start_button:"ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",alreadyHaveAccount:"Ğ£ Ğ¼ĞµĞ½Ñ ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚",signIn:"Ğ’Ğ¾Ğ¹Ñ‚Ğ¸",signUp:"Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ",signInWith:"Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ Ñ‡ĞµÑ€ĞµĞ·",signUpWith:"Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ·",yourEmail:"Ğ’Ğ°Ñˆ email",yourName:"Ğ’Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ",password:"ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ",welcomeBack:"Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ!",createAccount:"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚",notRegisteredYet:"Ğ•Ñ‰Ğµ Ğ½Ğµ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹?",alreadyHaveAccountAuth:"Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚?",notifications:"Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ",dailyReminders:"Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ",weeklyReports:"Ğ•Ğ¶ĞµĞ½ĞµĞ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹",newAchievements:"ĞĞ¾Ğ²Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ",motivationalMessages:"ĞœĞ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ",themes:"Ğ¢ĞµĞ¼Ñ‹",security:"Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ",language:"Ğ¯Ğ·Ñ‹Ğº",support:"ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°",appLanguage:"Ğ¯Ğ·Ñ‹Ğº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ",currentLanguage:"Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑĞ·Ñ‹Ğº",changeLanguage:"Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº",firstDayOfWeek:"ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ½ĞµĞ´ĞµĞ»Ğ¸",monday:"ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº",importData:"Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…",contactSupport:"Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹",rateApp:"ĞÑ†ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ",faq:"Ğ§Ğ°ÑÑ‚Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹",dangerousZone:"ĞĞ¿Ğ°ÑĞ½Ğ°Ñ Ğ·Ğ¾Ğ½Ğ°",logout:"Ğ’Ñ‹Ğ¹Ñ‚Ğ¸",deleteAllData:"Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ",appVersion:"Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ",appSubtitle:"Ğ”Ğ½ĞµĞ²Ğ½Ğ¸Ğº Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹",family:"Ğ¡ĞµĞ¼ÑŒÑ",work:"Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°",finance:"Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑÑ‹",gratitude:"Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚ÑŒ",health:"Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ",personalDevelopment:"Ğ›Ğ¸Ñ‡Ğ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ",creativity:"Ğ¢Ğ²Ğ¾Ñ€Ñ‡ĞµÑÑ‚Ğ²Ğ¾",relationships:"ĞÑ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ñ",defaultCard1Title:"ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ!",defaultCard1Description:"Ğ’Ñ‹ ÑĞ´ĞµĞ»Ğ°Ğ»Ğ¸ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ ÑˆĞ°Ğ³ Ğº ÑĞ²Ğ¾Ğ¸Ğ¼ Ñ†ĞµĞ»ÑĞ¼",defaultCard2Title:"ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹Ñ‚Ğµ!",defaultCard2Description:"ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ¿Ñ€Ğ¸Ğ±Ğ»Ğ¸Ğ¶Ğ°ĞµÑ‚ Ğ²Ğ°Ñ Ğº ÑƒÑĞ¿ĞµÑ…Ñƒ",defaultCard3Title:"Ğ’Ñ‹ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµÑ†!",defaultCard3Description:"Ğ’Ğ°ÑˆĞ¸ ÑƒÑĞ¸Ğ»Ğ¸Ñ Ğ½Ğµ Ğ¾ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑÑ Ğ½ĞµĞ·Ğ°Ğ¼ĞµÑ‡ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸",connectedToAI:"ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğº Ğ˜Ğ˜",aiHelp:"ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ˜Ğ˜",aiHelpDescription:"Ğ˜Ğ˜ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ°ÑˆĞ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸",historyTitle:"Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹",foundEntries:"ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹",filters:"Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹",welcomeTitle:"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ´Ğ½ĞµĞ²Ğ½Ğ¸Ğº Ğ¿Ğ¾Ğ±ĞµĞ´",selectLanguage:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº",diaryName:"ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ½ĞµĞ²Ğ½Ğ¸ĞºĞ°",firstEntry:"ĞŸĞµÑ€Ğ²Ğ°Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ",reminders:"ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ",select_language:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº",app_language_description:"Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ",loading_translations:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²...",translation_error:"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¾Ğ²",retry:"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ",cancel_button:"ĞÑ‚Ğ¼ĞµĞ½Ğ°",auto_translate:"ĞĞ²Ñ‚Ğ¾Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´",translation_progress:"ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°",untranslated_keys:"ĞĞµĞ¿ĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğµ ĞºĞ»ÑÑ‡Ğ¸",translation_complete:"ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½",translation_failed:"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°"},en:{greeting:"Hello!",todayQuestion:"How was your day?",home:"Home",history:"History",awards:"Awards",reviews:"Reports",settings:"Settings",inputPlaceholder:"Tell us about your day...",searchPlaceholder:"Search entries...",addPhoto:"Add Photo",send:"Send",save:"Save",cancel:"Cancel",delete:"Delete",back:"Back",next:"Next",skip:"Skip",start_button:"Get Started",alreadyHaveAccount:"I already have an account",signIn:"Sign In",signUp:"Sign Up",signInWith:"Sign in with",signUpWith:"Sign up with",yourEmail:"Your email",yourName:"Your name",password:"Password",welcomeBack:"Welcome back!",createAccount:"Create account",notRegisteredYet:"Not registered yet?",alreadyHaveAccountAuth:"Already have an account?",notifications:"Notifications",dailyReminders:"Daily reminders",weeklyReports:"Weekly reports",newAchievements:"New achievements",motivationalMessages:"Motivational messages",themes:"Themes",security:"Security",language:"Language",support:"Support",appLanguage:"App language",currentLanguage:"Current language",changeLanguage:"Change language",firstDayOfWeek:"First day of week",monday:"Monday",importData:"Import data",contactSupport:"Contact support",rateApp:"Rate app",faq:"FAQ",dangerousZone:"Dangerous zone",logout:"Logout",deleteAllData:"Delete all data",appVersion:"App version",appSubtitle:"Achievement Diary",family:"Family",work:"Work",finance:"Finance",gratitude:"Gratitude",health:"Health",personalDevelopment:"Personal Development",creativity:"Creativity",relationships:"Relationships",defaultCard1Title:"Great day!",defaultCard1Description:"You made an important step towards your goals",defaultCard2Title:"Keep going!",defaultCard2Description:"Every day brings you closer to success",defaultCard3Title:"You are great!",defaultCard3Description:"Your efforts will not go unnoticed",connectedToAI:"Connected to AI",aiHelp:"AI Help",aiHelpDescription:"AI will help analyze your entries",historyTitle:"Entry History",foundEntries:"Found entries",filters:"Filters",welcomeTitle:"Create a victory diary",selectLanguage:"Select language",diaryName:"Diary name",firstEntry:"First entry",reminders:"Reminders",select_language:"Select language",app_language_description:"Choose the interface language for the app",loading_translations:"Loading translations...",translation_error:"Translation loading error",retry:"Retry",cancel_button:"Cancel",auto_translate:"Auto-translate",translation_progress:"Translation progress",untranslated_keys:"Untranslated keys",translation_complete:"Translation complete",translation_failed:"Translation failed"},es:{greeting:"Â¡Hola!",todayQuestion:"Â¿CÃ³mo fue tu dÃ­a?",home:"Inicio",history:"Historial",awards:"Premios",reviews:"Informes",settings:"ConfiguraciÃ³n",inputPlaceholder:"CuÃ©ntanos sobre tu dÃ­a...",searchPlaceholder:"Buscar entradas...",addPhoto:"Agregar foto",send:"Enviar",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",back:"AtrÃ¡s",next:"Siguiente",skip:"Omitir",start_button:"Comenzar",alreadyHaveAccount:"Ya tengo una cuenta",signIn:"Iniciar sesiÃ³n",signUp:"Registrarse",signInWith:"Iniciar sesiÃ³n con",signUpWith:"Registrarse con",yourEmail:"Tu email",yourName:"Tu nombre",password:"ContraseÃ±a",welcomeBack:"Â¡Bienvenido!",createAccount:"Crear cuenta",notRegisteredYet:"Â¿AÃºn no estÃ¡s registrado?",alreadyHaveAccountAuth:"Â¿Ya tienes una cuenta?",notifications:"Notificaciones",dailyReminders:"Recordatorios diarios",weeklyReports:"Informes semanales",newAchievements:"Nuevos logros",motivationalMessages:"Mensajes motivacionales",themes:"Temas",security:"Seguridad",language:"Idioma",support:"Soporte",appLanguage:"Idioma de la app",currentLanguage:"Idioma actual",changeLanguage:"Cambiar idioma",firstDayOfWeek:"Primer dÃ­a de la semana",monday:"Lunes",importData:"Importar datos",contactSupport:"Contactar soporte",rateApp:"Calificar app",faq:"Preguntas frecuentes",dangerousZone:"Zona peligrosa",logout:"Cerrar sesiÃ³n",deleteAllData:"Eliminar todos los datos",appVersion:"VersiÃ³n de la app",appSubtitle:"Diario de Logros",family:"Familia",work:"Trabajo",finance:"Finanzas",gratitude:"Gratitud",health:"Salud",personalDevelopment:"Desarrollo personal",creativity:"Creatividad",relationships:"Relaciones",defaultCard1Title:"Â¡Excelente dÃ­a!",defaultCard1Description:"Diste un paso importante hacia tus objetivos",defaultCard2Title:"Â¡ContinÃºa!",defaultCard2Description:"Cada dÃ­a te acerca mÃ¡s al Ã©xito",defaultCard3Title:"Â¡Eres genial!",defaultCard3Description:"Tus esfuerzos no pasarÃ¡n desapercibidos",connectedToAI:"Conectado a IA",aiHelp:"Ayuda de IA",aiHelpDescription:"La IA te ayudarÃ¡ a analizar tus entradas",historyTitle:"Historial de entradas",foundEntries:"Entradas encontradas",filters:"Filtros",welcomeTitle:"Crea un diario de victorias",selectLanguage:"Seleccionar idioma",diaryName:"Nombre del diario",firstEntry:"Primera entrada",reminders:"Recordatorios",select_language:"Seleccionar idioma",app_language_description:"Elige el idioma de la interfaz de la aplicaciÃ³n",loading_translations:"Cargando traducciones...",translation_error:"Error al cargar traducciones",retry:"Reintentar",cancel_button:"Cancelar",auto_translate:"TraducciÃ³n automÃ¡tica",translation_progress:"Progreso de traducciÃ³n",untranslated_keys:"Claves no traducidas",translation_complete:"TraducciÃ³n completa",translation_failed:"Error de traducciÃ³n"},de:{greeting:"Hallo!",todayQuestion:"Wie war dein Tag?",home:"Startseite",history:"Verlauf",awards:"Auszeichnungen",reviews:"Berichte",settings:"Einstellungen",inputPlaceholder:"ErzÃ¤hl uns von deinem Tag...",searchPlaceholder:"EintrÃ¤ge suchen...",addPhoto:"Foto hinzufÃ¼gen",send:"Senden",save:"Speichern",cancel:"Abbrechen",delete:"LÃ¶schen",back:"ZurÃ¼ck",next:"Weiter",skip:"Ãœberspringen",start_button:"Beginnen",alreadyHaveAccount:"Ich habe bereits ein Konto",signIn:"Anmelden",signUp:"Registrieren",signInWith:"Anmelden mit",signUpWith:"Registrieren mit",yourEmail:"Deine E-Mail",yourName:"Dein Name",password:"Passwort",welcomeBack:"Willkommen zurÃ¼ck!",createAccount:"Konto erstellen",notRegisteredYet:"Noch nicht registriert?",alreadyHaveAccountAuth:"Hast du bereits ein Konto?",notifications:"Benachrichtigungen",dailyReminders:"TÃ¤gliche Erinnerungen",weeklyReports:"WÃ¶chentliche Berichte",newAchievements:"Neue Erfolge",motivationalMessages:"Motivationsnachrichten",themes:"Themen",security:"Sicherheit",language:"Sprache",support:"Support",appLanguage:"App-Sprache",currentLanguage:"Aktuelle Sprache",changeLanguage:"Sprache Ã¤ndern",firstDayOfWeek:"Erster Tag der Woche",monday:"Montag",importData:"Daten importieren",contactSupport:"Support kontaktieren",rateApp:"App bewerten",faq:"HÃ¤ufige Fragen",dangerousZone:"Gefahrenzone",logout:"Abmelden",deleteAllData:"Alle Daten lÃ¶schen",appVersion:"App-Version",appSubtitle:"Erfolgs-Tagebuch",family:"Familie",work:"Arbeit",finance:"Finanzen",gratitude:"Dankbarkeit",health:"Gesundheit",personalDevelopment:"PersÃ¶nliche Entwicklung",creativity:"KreativitÃ¤t",relationships:"Beziehungen",defaultCard1Title:"GroÃŸartiger Tag!",defaultCard1Description:"Du hast einen wichtigen Schritt zu deinen Zielen gemacht",defaultCard2Title:"Weiter so!",defaultCard2Description:"Jeder Tag bringt dich dem Erfolg nÃ¤her",defaultCard3Title:"Du bist groÃŸartig!",defaultCard3Description:"Deine Anstrengungen werden nicht unbemerkt bleiben",connectedToAI:"Mit KI verbunden",aiHelp:"KI-Hilfe",aiHelpDescription:"KI hilft dir beim Analysieren deiner EintrÃ¤ge",historyTitle:"EintrÃ¤ge-Verlauf",foundEntries:"Gefundene EintrÃ¤ge",filters:"Filter",welcomeTitle:"Erstelle ein Siegestagebuch",selectLanguage:"Sprache auswÃ¤hlen",diaryName:"Tagebuch-Name",firstEntry:"Erster Eintrag",reminders:"Erinnerungen",select_language:"Sprache auswÃ¤hlen",app_language_description:"WÃ¤hlen Sie die Sprache der App-OberflÃ¤che",loading_translations:"Ãœbersetzungen werden geladen...",translation_error:"Fehler beim Laden der Ãœbersetzungen",retry:"Wiederholen",cancel_button:"Abbrechen",auto_translate:"Automatische Ãœbersetzung",translation_progress:"Ãœbersetzungsfortschritt",untranslated_keys:"Nicht Ã¼bersetzte SchlÃ¼ssel",translation_complete:"Ãœbersetzung abgeschlossen",translation_failed:"Ãœbersetzung fehlgeschlagen"},fr:{greeting:"Bonjour!",todayQuestion:"Comment s'est passÃ© votre journÃ©e?",home:"Accueil",history:"Historique",awards:"RÃ©compenses",reviews:"Rapports",settings:"ParamÃ¨tres",inputPlaceholder:"Parlez-nous de votre journÃ©e...",searchPlaceholder:"Rechercher des entrÃ©es...",addPhoto:"Ajouter une photo",send:"Envoyer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",back:"Retour",next:"Suivant",skip:"Ignorer",start_button:"Commencer",alreadyHaveAccount:"J'ai dÃ©jÃ  un compte",signIn:"Se connecter",signUp:"S'inscrire",signInWith:"Se connecter avec",signUpWith:"S'inscrire avec",yourEmail:"Votre email",yourName:"Votre nom",password:"Mot de passe",welcomeBack:"Bon retour!",createAccount:"CrÃ©er un compte",notRegisteredYet:"Pas encore inscrit?",alreadyHaveAccountAuth:"Vous avez dÃ©jÃ  un compte?",notifications:"Notifications",dailyReminders:"Rappels quotidiens",weeklyReports:"Rapports hebdomadaires",newAchievements:"Nouveaux succÃ¨s",motivationalMessages:"Messages motivationnels",themes:"ThÃ¨mes",security:"SÃ©curitÃ©",language:"Langue",support:"Support",appLanguage:"Langue de l'app",currentLanguage:"Langue actuelle",changeLanguage:"Changer de langue",firstDayOfWeek:"Premier jour de la semaine",monday:"Lundi",importData:"Importer des donnÃ©es",contactSupport:"Contacter le support",rateApp:"Noter l'app",faq:"FAQ",dangerousZone:"Zone dangereuse",logout:"Se dÃ©connecter",deleteAllData:"Supprimer toutes les donnÃ©es",appVersion:"Version de l'app",appSubtitle:"Journal des SuccÃ¨s",family:"Famille",work:"Travail",finance:"Finances",gratitude:"Gratitude",health:"SantÃ©",personalDevelopment:"DÃ©veloppement personnel",creativity:"CrÃ©ativitÃ©",relationships:"Relations",defaultCard1Title:"Excellente journÃ©e!",defaultCard1Description:"Vous avez fait un pas important vers vos objectifs",defaultCard2Title:"Continuez!",defaultCard2Description:"Chaque jour vous rapproche du succÃ¨s",defaultCard3Title:"Vous Ãªtes formidable!",defaultCard3Description:"Vos efforts ne passeront pas inaperÃ§us",connectedToAI:"ConnectÃ© Ã  l'IA",aiHelp:"Aide IA",aiHelpDescription:"L'IA vous aidera Ã  analyser vos entrÃ©es",historyTitle:"Historique des entrÃ©es",foundEntries:"EntrÃ©es trouvÃ©es",filters:"Filtres",welcomeTitle:"CrÃ©ez un journal de victoires",selectLanguage:"SÃ©lectionner la langue",diaryName:"Nom du journal",firstEntry:"PremiÃ¨re entrÃ©e",reminders:"Rappels",select_language:"SÃ©lectionner la langue",app_language_description:"Choisissez la langue de l'interface de l'application",loading_translations:"Chargement des traductions...",translation_error:"Erreur de chargement des traductions",retry:"RÃ©essayer",cancel_button:"Annuler",auto_translate:"Traduction automatique",translation_progress:"Progression de la traduction",untranslated_keys:"ClÃ©s non traduites",translation_complete:"Traduction terminÃ©e",translation_failed:"Ã‰chec de la traduction"},zh:{greeting:"ä½ å¥½ï¼",todayQuestion:"ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ",home:"é¦–é¡µ",history:"å†å²",awards:"å¥–é¡¹",reviews:"æŠ¥å‘Š",settings:"è®¾ç½®",inputPlaceholder:"å‘Šè¯‰æˆ‘ä»¬ä½ çš„ä¸€å¤©...",searchPlaceholder:"æœç´¢æ¡ç›®...",addPhoto:"æ·»åŠ ç…§ç‰‡",send:"å‘é€",save:"ä¿å­˜",cancel:"å–æ¶ˆ",delete:"åˆ é™¤",back:"è¿”å›",next:"ä¸‹ä¸€æ­¥",skip:"è·³è¿‡",start_button:"å¼€å§‹",alreadyHaveAccount:"æˆ‘å·²æœ‰è´¦æˆ·",signIn:"ç™»å½•",signUp:"æ³¨å†Œ",signInWith:"ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ç™»å½•",signUpWith:"ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ³¨å†Œ",yourEmail:"æ‚¨çš„é‚®ç®±",yourName:"æ‚¨çš„å§“å",password:"å¯†ç ",welcomeBack:"æ¬¢è¿å›æ¥ï¼",createAccount:"åˆ›å»ºè´¦æˆ·",notRegisteredYet:"è¿˜æ²¡æœ‰æ³¨å†Œï¼Ÿ",alreadyHaveAccountAuth:"å·²æœ‰è´¦æˆ·ï¼Ÿ",notifications:"é€šçŸ¥",dailyReminders:"æ¯æ—¥æé†’",weeklyReports:"å‘¨æŠ¥",newAchievements:"æ–°æˆå°±",motivationalMessages:"åŠ±å¿—æ¶ˆæ¯",themes:"ä¸»é¢˜",security:"å®‰å…¨",language:"è¯­è¨€",support:"æ”¯æŒ",appLanguage:"åº”ç”¨è¯­è¨€",currentLanguage:"å½“å‰è¯­è¨€",changeLanguage:"æ›´æ”¹è¯­è¨€",firstDayOfWeek:"ä¸€å‘¨çš„ç¬¬ä¸€å¤©",monday:"æ˜ŸæœŸä¸€",importData:"å¯¼å…¥æ•°æ®",contactSupport:"è”ç³»æ”¯æŒ",rateApp:"è¯„ä»·åº”ç”¨",faq:"å¸¸è§é—®é¢˜",dangerousZone:"å±é™©åŒºåŸŸ",logout:"é€€å‡ºç™»å½•",deleteAllData:"åˆ é™¤æ‰€æœ‰æ•°æ®",appVersion:"åº”ç”¨ç‰ˆæœ¬",appSubtitle:"æˆå°±æ—¥è®°",family:"å®¶åº­",work:"å·¥ä½œ",finance:"è´¢åŠ¡",gratitude:"æ„Ÿæ©",health:"å¥åº·",personalDevelopment:"ä¸ªäººå‘å±•",creativity:"åˆ›é€ åŠ›",relationships:"å…³ç³»",defaultCard1Title:"ç¾å¥½çš„ä¸€å¤©ï¼",defaultCard1Description:"æ‚¨æœç€ç›®æ ‡è¿ˆå‡ºäº†é‡è¦ä¸€æ­¥",defaultCard2Title:"ç»§ç»­åŠ æ²¹ï¼",defaultCard2Description:"æ¯ä¸€å¤©éƒ½è®©æ‚¨æ›´æ¥è¿‘æˆåŠŸ",defaultCard3Title:"æ‚¨å¾ˆæ£’ï¼",defaultCard3Description:"æ‚¨çš„åŠªåŠ›ä¸ä¼šè¢«å¿½è§†",connectedToAI:"å·²è¿æ¥AI",aiHelp:"AIå¸®åŠ©",aiHelpDescription:"AIå°†å¸®åŠ©åˆ†ææ‚¨çš„æ¡ç›®",historyTitle:"æ¡ç›®å†å²",foundEntries:"æ‰¾åˆ°çš„æ¡ç›®",filters:"è¿‡æ»¤å™¨",welcomeTitle:"åˆ›å»ºèƒœåˆ©æ—¥è®°",selectLanguage:"é€‰æ‹©è¯­è¨€",diaryName:"æ—¥è®°åç§°",firstEntry:"ç¬¬ä¸€æ¡è®°å½•",reminders:"æé†’",select_language:"é€‰æ‹©è¯­è¨€",app_language_description:"é€‰æ‹©åº”ç”¨ç¨‹åºç•Œé¢è¯­è¨€",loading_translations:"æ­£åœ¨åŠ è½½ç¿»è¯‘...",translation_error:"ç¿»è¯‘åŠ è½½é”™è¯¯",retry:"é‡è¯•",cancel_button:"å–æ¶ˆ",auto_translate:"è‡ªåŠ¨ç¿»è¯‘",translation_progress:"ç¿»è¯‘è¿›åº¦",untranslated_keys:"æœªç¿»è¯‘çš„é”®",translation_complete:"ç¿»è¯‘å®Œæˆ",translation_failed:"ç¿»è¯‘å¤±è´¥"},ja:{greeting:"ã“ã‚“ã«ã¡ã¯ï¼",todayQuestion:"ä»Šæ—¥ã¯ã©ã†ã§ã—ãŸã‹ï¼Ÿ",home:"ãƒ›ãƒ¼ãƒ ",history:"å±¥æ­´",awards:"å—è³",reviews:"ãƒ¬ãƒãƒ¼ãƒˆ",settings:"è¨­å®š",inputPlaceholder:"ä»Šæ—¥ã®ã“ã¨ã‚’æ•™ãˆã¦ãã ã•ã„...",searchPlaceholder:"ã‚¨ãƒ³ãƒˆãƒªã‚’æ¤œç´¢...",addPhoto:"å†™çœŸã‚’è¿½åŠ ",send:"é€ä¿¡",save:"ä¿å­˜",cancel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",delete:"å‰Šé™¤",back:"æˆ»ã‚‹",next:"æ¬¡ã¸",skip:"ã‚¹ã‚­ãƒƒãƒ—",start_button:"å§‹ã‚ã‚‹",alreadyHaveAccount:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™",signIn:"ã‚µã‚¤ãƒ³ã‚¤ãƒ³",signUp:"ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—",signInWith:"ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³",signUpWith:"ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—",yourEmail:"ã‚ãªãŸã®ãƒ¡ãƒ¼ãƒ«",yourName:"ã‚ãªãŸã®åå‰",password:"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",welcomeBack:"ãŠã‹ãˆã‚Šãªã•ã„ï¼",createAccount:"ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ",notRegisteredYet:"ã¾ã ç™»éŒ²ã—ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ",alreadyHaveAccountAuth:"ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ",notifications:"é€šçŸ¥",dailyReminders:"æ—¥æ¬¡ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼",weeklyReports:"é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ",newAchievements:"æ–°ã—ã„æˆæœ",motivationalMessages:"ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",themes:"ãƒ†ãƒ¼ãƒ",security:"ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",language:"è¨€èª",support:"ã‚µãƒãƒ¼ãƒˆ",appLanguage:"ã‚¢ãƒ—ãƒªè¨€èª",currentLanguage:"ç¾åœ¨ã®è¨€èª",changeLanguage:"è¨€èªã‚’å¤‰æ›´",firstDayOfWeek:"é€±ã®æœ€åˆã®æ—¥",monday:"æœˆæ›œæ—¥",importData:"ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ",contactSupport:"ã‚µãƒãƒ¼ãƒˆã«é€£çµ¡",rateApp:"ã‚¢ãƒ—ãƒªã‚’è©•ä¾¡",faq:"ã‚ˆãã‚ã‚‹è³ªå•",dangerousZone:"å±é™ºã‚¾ãƒ¼ãƒ³",logout:"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ",deleteAllData:"ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤",appVersion:"ã‚¢ãƒ—ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³",appSubtitle:"æˆæœæ—¥è¨˜",family:"å®¶æ—",work:"ä»•äº‹",finance:"è²¡å‹™",gratitude:"æ„Ÿè¬",health:"å¥åº·",personalDevelopment:"å€‹äººã®æˆé•·",creativity:"å‰µé€ æ€§",relationships:"äººé–“é–¢ä¿‚",defaultCard1Title:"ç´ æ™´ã‚‰ã—ã„æ—¥ï¼",defaultCard1Description:"ç›®æ¨™ã«å‘ã‘ã¦é‡è¦ãªä¸€æ­©ã‚’è¸ã¿å‡ºã—ã¾ã—ãŸ",defaultCard2Title:"ç¶šã‘ã¦ãã ã•ã„ï¼",defaultCard2Description:"æ¯æ—¥ãŒæˆåŠŸã«è¿‘ã¥ãã¾ã™",defaultCard3Title:"ã‚ãªãŸã¯ç´ æ™´ã‚‰ã—ã„ï¼",defaultCard3Description:"ã‚ãªãŸã®åŠªåŠ›ã¯è¦‹éã”ã•ã‚Œã¾ã›ã‚“",connectedToAI:"AIã«æ¥ç¶šæ¸ˆã¿",aiHelp:"AIãƒ˜ãƒ«ãƒ—",aiHelpDescription:"AIãŒã‚¨ãƒ³ãƒˆãƒªã®åˆ†æã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™",historyTitle:"ã‚¨ãƒ³ãƒˆãƒªå±¥æ­´",foundEntries:"è¦‹ã¤ã‹ã£ãŸã‚¨ãƒ³ãƒˆãƒª",filters:"ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼",welcomeTitle:"å‹åˆ©ã®æ—¥è¨˜ã‚’ä½œæˆ",selectLanguage:"è¨€èªã‚’é¸æŠ",diaryName:"æ—¥è¨˜ã®åå‰",firstEntry:"æœ€åˆã®ã‚¨ãƒ³ãƒˆãƒª",reminders:"ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼",select_language:"è¨€èªã‚’é¸æŠ",app_language_description:"ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨€èªã‚’é¸æŠã—ã¦ãã ã•ã„",loading_translations:"ç¿»è¨³ã‚’èª­ã¿è¾¼ã¿ä¸­...",translation_error:"ç¿»è¨³ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼",retry:"å†è©¦è¡Œ",cancel_button:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",auto_translate:"è‡ªå‹•ç¿»è¨³",translation_progress:"ç¿»è¨³ã®é€²è¡ŒçŠ¶æ³",untranslated_keys:"æœªç¿»è¨³ã®ã‚­ãƒ¼",translation_complete:"ç¿»è¨³å®Œäº†",translation_failed:"ç¿»è¨³å¤±æ•—"}};function L(n){return k[n]||k.ru}const R=E.createContext(null),F=(n,e)=>{switch(e.type){case"SET_LOADING":return{...n,isLoading:e.payload};case"SET_ERROR":return{...n,error:e.payload};case"SET_LANGUAGE":return{...n,currentLanguage:e.payload};case"SET_TRANSLATIONS":return{...n,cache:new Map(n.cache).set(e.payload.language,{language:e.payload.language,translations:e.payload.translations,version:Date.now().toString(),lastUpdated:new Date().toISOString()})};case"CLEAR_CACHE":return{...n,cache:new Map};case"SET_LOADED":return{...n,isLoaded:e.payload};default:return n}},Q=({children:n,defaultLanguage:e="ru",fallbackLanguage:t="ru"})=>{const[a,r]=E.useReducer(F,{currentLanguage:e,isLoading:!1,error:null,isLoaded:!1,cache:new Map,fallbackLanguage:t}),s=async o=>{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});try{const l=await S.loadTranslations({language:o,fallbackLanguage:t,forceRefresh:!1});r({type:"SET_TRANSLATIONS",payload:{language:l.language,translations:l.translations}}),l.usedFallback&&l.language!==o&&r({type:"SET_LANGUAGE",payload:l.language}),r({type:"SET_LOADED",payload:!0})}catch(l){const h=l instanceof Error?l.message:"Unknown error";if(r({type:"SET_ERROR",payload:h}),o!==t)await s(t);else{const y=L(t);r({type:"SET_TRANSLATIONS",payload:{language:t,translations:y}}),r({type:"SET_LOADED",payload:!0})}}finally{r({type:"SET_LOADING",payload:!1})}},i=async o=>{a.currentLanguage!==o&&(r({type:"SET_LANGUAGE",payload:o}),r({type:"SET_LOADED",payload:!1}),await s(o))},c=async()=>{g.removeCache(a.currentLanguage),r({type:"SET_LOADED",payload:!1}),await s(a.currentLanguage)},u=(o,l)=>{const h=a.cache.get(a.currentLanguage);if(h?.translations[o])return h.translations[o];if(a.currentLanguage!==a.fallbackLanguage){const v=a.cache.get(a.fallbackLanguage);if(v?.translations[o])return v.translations[o]}const y=L(a.currentLanguage);if(y[o])return y[o];const A=l||o;return S.loadTranslations({language:a.currentLanguage}).then(()=>{a.cache.get(a.currentLanguage)?.translations[o]}).catch(v=>{}),A};E.useEffect(()=>{(async()=>{try{await S.validateCache(),await s(a.currentLanguage)}catch{}})()},[]);const d={state:a,changeLanguage:i,refreshTranslations:c,t:u,isLoading:a.isLoading,error:a.error,currentLanguage:a.currentLanguage,isLoaded:a.isLoaded};return p.jsx(R.Provider,{value:d,children:n})},D=()=>{const n=E.useContext(R);if(!n)throw new Error("useTranslationContext must be used within TranslationProvider");return n},ee=({children:n,preloadLanguages:e=["en"],onLanguageChange:t,validateCacheOnMount:a=!0})=>{const{currentLanguage:r,changeLanguage:s,isLoading:i,error:c,isLoaded:u}=D(),[d,o]=E.useState(!1),[l,h]=E.useState(null);return E.useEffect(()=>{(async()=>{try{a&&await S.validateCache(),e.length>0&&await S.preloadLanguages(e),o(!0),h(null)}catch(A){h(A instanceof Error?A.message:"Unknown error"),o(!0)}})()},[e,a]),E.useEffect(()=>{t?.(r)},[r,t]),d?l&&!u?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:p.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[p.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"âš ï¸"}),p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Initialization Error"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"We had trouble setting up the app, but we'll try to continue with basic functionality."}),p.jsx("div",{className:"text-sm text-red-500 bg-red-50 p-3 rounded",children:l})]})}):p.jsx(p.Fragment,{children:n}):p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:p.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[p.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Setting up your experience"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"Loading translations and preparing the app..."}),l&&p.jsxs("div",{className:"text-sm text-red-500 bg-red-50 p-3 rounded",children:["Error: ",l]})]})})},te=()=>{const{t:n,changeLanguage:e,currentLanguage:t,isLoading:a,error:r,isLoaded:s,state:i,refreshTranslations:c}=D();return{t:n,changeLanguage:e,currentLanguage:t,isLoading:a,error:r,isLoaded:s,refreshTranslations:c,hasTranslation:u=>!!i.cache.get(t)?.translations[u],getAvailableLanguages:()=>Array.from(i.cache.keys()),isLanguageLoaded:u=>i.cache.has(u)}},b="ecuwuzqlwdkkdncampnc",j=`https://${b}.supabase.co/functions/v1/profiles`,z=`https://${b}.supabase.co/functions/v1/entries`,N=`https://${b}.supabase.co/functions/v1/motivations`,B=`https://${b}.supabase.co/functions/v1/media`,C=`https://${b}.supabase.co/functions/v1/make-server-9729c493`,$=C;async function O(n,e={}){const{method:t="GET",body:a,headers:r={},requireOpenAI:s=!1}=e,i=w(),{data:{session:c}}=await i.auth.getSession();if(!c?.access_token)throw new Error("No active session. Please log in.");const u=s?localStorage.getItem("admin_openai_api_key"):null,d={"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`,...u&&{"X-OpenAI-Key":u},...r},o={method:t,headers:d};a&&t!=="GET"&&(o.body=JSON.stringify(a));try{const l=await fetch(`${$}${n}`,o),h=await l.text();let y;try{y=JSON.parse(h)}catch{throw new Error(`Invalid JSON response: ${h.substring(0,100)}`)}if(!l.ok)throw new Error(y.error||`API request failed: ${l.status} ${l.statusText}`);return y}catch(l){throw l}}async function M(n,e={}){const{method:t="GET",body:a,headers:r={}}=e,s=w(),{data:{session:i}}=await s.auth.getSession();if(!i?.access_token)throw new Error("No active session. Please log in.");const c={"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`,...r},u={method:t,headers:c};a&&t!=="GET"&&(u.body=JSON.stringify(a));try{const d=await fetch(`${j}${n}`,u),o=await d.text();let l;try{l=JSON.parse(o)}catch{throw new Error(`Invalid JSON response: ${o.substring(0,100)}`)}if(!d.ok)throw new Error(l.error||`API request failed: ${d.status} ${d.statusText}`);return l}catch(d){throw d}}async function H(n,e={}){const{method:t="GET",body:a,headers:r={}}=e,s=w(),{data:{session:i}}=await s.auth.getSession();if(!i?.access_token)throw new Error("No active session. Please log in.");const c={"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`,...r},u={method:t,headers:c};a&&t!=="GET"&&(u.body=JSON.stringify(a));try{const d=await fetch(`${z}${n}`,u),o=await d.text();let l;try{l=JSON.parse(o)}catch{throw new Error(`Invalid JSON response: ${o.substring(0,100)}`)}if(!d.ok)throw new Error(l.error||`API request failed: ${d.status} ${d.statusText}`);return l}catch(d){throw d}}async function ae(n,e,t){try{const a=await O("/analyze",{method:"POST",body:{text:n,userName:e,userId:t},requireOpenAI:!0});if(!a.success)throw new Error(a.error||"AI analysis failed");return a.analysis}catch{return{sentiment:"positive",category:"Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ",tags:[],reply:"Ğ—Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾! ğŸ’ª ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹ Ğ¾Ñ‚Ğ¼ĞµÑ‡Ğ°Ñ‚ÑŒ ÑĞ²Ğ¾Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ!",summary:n.substring(0,50)+(n.length>50?"...":""),insight:"ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ¿Ñ€Ğ¸Ğ±Ğ»Ğ¸Ğ¶Ğ°ĞµÑ‚ Ñ‚ĞµĞ±Ñ Ğº Ñ†ĞµĞ»Ğ¸!",isAchievement:!0,mood:"Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞµ",confidence:.5}}}async function re(n){const e=await H("",{method:"POST",body:n});if(!e.success)throw new Error(e.error||"Failed to create entry");return e.entry}async function ne(n,e=50){const t=w(),{data:a,error:r}=await t.from("entries").select("*").eq("user_id",n).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message||"Failed to fetch entries");return a.map(i=>({id:i.id,userId:i.user_id,text:i.text,sentiment:i.sentiment,category:i.category,mood:i.mood,isFirstEntry:i.is_first_entry,media:i.media,aiReply:i.ai_reply,aiSummary:i.ai_summary,aiInsight:i.ai_insight,isAchievement:i.is_achievement,tags:i.tags,streakDay:i.streak_day,focusArea:i.focus_area,createdAt:i.created_at,voiceUrl:i.voice_url,mediaUrl:i.media_url}))}async function se(n,e){const t=w(),a={};e.text!==void 0&&(a.text=e.text),e.sentiment!==void 0&&(a.sentiment=e.sentiment),e.category!==void 0&&(a.category=e.category),e.mood!==void 0&&(a.mood=e.mood);const{data:r,error:s}=await t.from("entries").update(a).eq("id",n).select().single();if(s)throw new Error(s.message||"Failed to update entry");return{id:r.id,userId:r.user_id,text:r.text,sentiment:r.sentiment,category:r.category,mood:r.mood,isFirstEntry:r.is_first_entry,media:r.media,aiReply:r.ai_reply,aiSummary:r.ai_summary,aiInsight:r.ai_insight,isAchievement:r.is_achievement,tags:r.tags,streakDay:r.streak_day,focusArea:r.focus_area,createdAt:r.created_at,voiceUrl:r.voice_url,mediaUrl:r.media_url}}async function ie(n,e){const t=w(),{error:a}=await t.from("entries").delete().eq("id",n);if(a)throw new Error(a.message||"Failed to delete entry")}async function oe(n){const e=w(),{data:t,error:a}=await e.from("entries").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(a)throw new Error(a.message||"Failed to fetch stats");const r=t?.length||0,s={};t?.forEach(o=>{const l=o.category||"Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ";s[l]=(s[l]||0)+1});const i={};t?.forEach(o=>{const l=o.sentiment||"neutral";i[l]=(i[l]||0)+1});let c=0;if(t&&t.length>0){const o=t.map(h=>new Date(h.created_at).setHours(0,0,0,0)).sort((h,y)=>y-h),l=new Date().setHours(0,0,0,0);if(o.length>0){const h=o[0];if(Math.floor((l-h)/(1e3*60*60*24))<=1){c=1;let A=h-1e3*60*60*24;for(let v=1;v<o.length&&o[v]===A;v++)c++,A-=1e3*60*60*24}}}const u=t&&t.length>0?t[0].created_at:null;return{totalEntries:r,currentStreak:c,categoryCounts:s,sentimentCounts:i,lastEntryDate:u}}async function ce(n,e){const t=await M(`/${n}`,{method:"PUT",body:e});if(!t.success)throw new Error("Failed to update profile");return t.profile}async function le(n){const e=await I(n),t=await O("/transcribe",{method:"POST",body:{audio:e,mimeType:n.type},requireOpenAI:!0});if(!t.success)throw new Error(t.error||"Failed to transcribe audio");return t.text}async function ue(n,e,t){const a=await I(n);let r;t?.thumbnail&&(r=await I(t.thumbnail));const s=w(),{data:{session:i}}=await s.auth.getSession();if(!i?.access_token)throw new Error("No active session");const c={file:a,fileName:n.name,mimeType:n.type,userId:e,thumbnail:r,width:t?.width,height:t?.height,duration:t?.duration,entryId:t?.entryId};try{const u=new AbortController,d=setTimeout(()=>u.abort(),1e4),o=await fetch(`${B}/upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`},body:JSON.stringify(c),signal:u.signal});if(clearTimeout(d),!o.ok)throw new Error(`Microservice returned ${o.status}`);const l=await o.json();if(!l.success)throw new Error(l.error||"Microservice returned error");const h=n.type.startsWith("image/")?"image":"video";return{id:l.id||"",userId:e,fileName:n.name,filePath:l.path,fileType:h,fileSize:n.size,createdAt:new Date().toISOString(),url:l.url,path:l.path,type:h,mimeType:l.mimeType}}catch{try{const d=await fetch(`${C}/media/upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`},body:JSON.stringify(c)});if(!d.ok)throw new Error(`Legacy API returned ${d.status}`);const o=await d.json();if(!o.success)throw new Error(o.error||"Legacy API returned error");const l=n.type.startsWith("image/")?"image":"video";return{id:o.id||"",userId:e,fileName:n.name,filePath:o.path,fileType:l,fileSize:n.size,createdAt:new Date().toISOString(),url:o.url,path:o.path,type:l,mimeType:o.mimeType}}catch{throw new Error("Failed to upload media from all sources")}}}function I(n){return new Promise((e,t)=>{const a=new FileReader;a.onloadend=()=>{const r=a.result.split(",")[1];e(r)},a.onerror=t,a.readAsDataURL(n)})}async function de(n){const e=w(),{data:{session:t}}=await e.auth.getSession();if(!t?.access_token)throw new Error("No active session");try{const a=new AbortController,r=setTimeout(()=>a.abort(),5e3),s=await fetch(`${N}/cards/${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},signal:a.signal});if(clearTimeout(r),!s.ok)throw new Error(`Microservice returned ${s.status}`);const i=await s.json();if(!i.success)throw new Error(i.error||"Microservice returned error");return i.cards||[]}catch{try{const r=await fetch(`${C}/motivations/cards/${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`}});if(!r.ok)throw new Error(`Legacy API returned ${r.status}`);const s=await r.json();if(!s.success)throw new Error(s.error||"Legacy API returned error");return s.cards||[]}catch{throw new Error("Failed to fetch motivation cards from all sources")}}}async function he(n,e){const t=w(),{data:{session:a}}=await t.auth.getSession();if(!a?.access_token)throw new Error("No active session");try{const r=new AbortController,s=setTimeout(()=>r.abort(),5e3),i=await fetch(`${N}/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({userId:n,cardId:e}),signal:r.signal});if(clearTimeout(s),!i.ok)throw new Error(`Microservice returned ${i.status}`);const c=await i.json();if(!c.success)throw new Error(c.error||"Microservice returned error")}catch{try{const s=await fetch(`${C}/motivations/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({userId:n,cardId:e})});if(!s.ok)throw new Error(`Legacy API returned ${s.status}`);const i=await s.json();if(!i.success)throw new Error(i.error||"Legacy API returned error")}catch{throw new Error("Failed to mark card as read from all sources")}}}class W{async readAsDataURL(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=s=>{t(s.target?.result)},r.onerror=()=>{a(new Error("Failed to read file as data URL"))},r.readAsDataURL(e)})}async readAsArrayBuffer(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=s=>{t(s.target?.result)},r.onerror=()=>{a(new Error("Failed to read file as array buffer"))},r.readAsArrayBuffer(e)})}async readAsText(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=s=>{t(s.target?.result)},r.onerror=()=>{a(new Error("Failed to read file as text"))},r.readAsText(e)})}createObjectURL(e){return URL.createObjectURL(e)}revokeObjectURL(e){URL.revokeObjectURL(e)}async getImageDimensions(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=s=>{const i=new Image;i.onload=()=>{t({width:i.width,height:i.height})},i.onerror=()=>{a(new Error("Failed to load image"))},i.src=s.target?.result},r.onerror=()=>{a(new Error("Failed to read image file"))},r.readAsDataURL(e)})}async getVideoMetadata(e){return new Promise((t,a)=>{const r=document.createElement("video");r.preload="metadata",r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),t({duration:Math.round(r.duration),width:r.videoWidth,height:r.videoHeight})},r.onerror=()=>{a(new Error("Failed to load video metadata"))},r.src=URL.createObjectURL(e)})}createCanvas(e,t){const a=document.createElement("canvas");return a.width=e,a.height=t,a}createImage(){return new Image}createVideo(){return document.createElement("video")}}class G{async readAsDataURL(e){throw new Error("NativeMediaAdapter not implemented yet")}async readAsArrayBuffer(e){throw new Error("NativeMediaAdapter not implemented yet")}async readAsText(e){throw new Error("NativeMediaAdapter not implemented yet")}createObjectURL(e){throw new Error("NativeMediaAdapter not implemented yet")}revokeObjectURL(e){}async getImageDimensions(e){throw new Error("NativeMediaAdapter not implemented yet")}async getVideoMetadata(e){throw new Error("NativeMediaAdapter not implemented yet")}createCanvas(e,t){throw new Error("NativeMediaAdapter not implemented yet")}createImage(){throw new Error("NativeMediaAdapter not implemented yet")}createVideo(){throw new Error("NativeMediaAdapter not implemented yet")}}class K{async readAsDataURL(e){return"data:text/plain;base64,"}async readAsArrayBuffer(e){return new ArrayBuffer(0)}async readAsText(e){return""}createObjectURL(e){return"blob:memory://fallback"}revokeObjectURL(e){}async getImageDimensions(e){return{width:0,height:0}}async getVideoMetadata(e){return{duration:0,width:0,height:0}}createCanvas(e,t){return{width:e,height:t,getContext:()=>null,toDataURL:()=>"data:image/png;base64,"}}createImage(){return{width:0,height:0,onload:null,onerror:null,src:""}}createVideo(){return{duration:0,videoWidth:0,videoHeight:0,onloadedmetadata:null,onerror:null,src:""}}}const ge=m.select({web:new W,native:new G,default:new K});class q{history=null;location=null;constructor(){m.isBrowser&&typeof window<"u"&&(this.history=window.history,this.location=window.location)}navigate(e,t){if(m.isBrowser)try{const a=this.buildUrl(e,t?.params);t?.replace?this.history?.replaceState(null,"",a):this.history?.pushState(null,"",a),window.dispatchEvent(new PopStateEvent("popstate"))}catch{}}goBack(){if(m.isBrowser)try{this.history?.back()}catch{}}replace(e,t){this.navigate(e,{...t,replace:!0})}reset(e,t){if(m.isBrowser)try{const a=this.buildUrl(e,t?.params);this.history?.replaceState(null,"",a),window.dispatchEvent(new PopStateEvent("popstate"))}catch{}}getCurrentRoute(){return!m.isBrowser||!this.location?"/":this.location.pathname+this.location.search+this.location.hash}canGoBack(){return m.isBrowser?window.history.length>1:!1}addListener(e,t){if(!m.isBrowser)return()=>{};const r={focus:"focus",blur:"blur",beforeRemove:"beforeunload",state:"popstate"}[e]||e,s=i=>{t({type:e,target:i.target,data:i.state})};return window.addEventListener(r,s),()=>{window.removeEventListener(r,s)}}buildUrl(e,t){if(!t||Object.keys(t).length===0)return e;const a=new URL(e,window.location.origin);return Object.entries(t).forEach(([r,s])=>{s!==void 0&&a.searchParams.set(r,String(s))}),a.pathname+a.search+a.hash}}class J{navigate(e,t){}goBack(){}replace(e,t){}reset(e,t){}getCurrentRoute(){return"/"}canGoBack(){return!1}addListener(e,t){return()=>{}}}class Y{currentRoute="/";history=["/"];listeners={};navigate(e,t){t?.replace?this.history[this.history.length-1]=e:this.history.push(e),this.currentRoute=e,this.emit("state",{route:e})}goBack(){this.history.length>1&&(this.history.pop(),this.currentRoute=this.history[this.history.length-1],this.emit("state",{route:this.currentRoute}))}replace(e,t){this.navigate(e,{...t,replace:!0})}reset(e,t){this.history=[e],this.currentRoute=e,this.emit("state",{route:e})}getCurrentRoute(){return this.currentRoute}canGoBack(){return this.history.length>1}addListener(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t),()=>{const a=this.listeners[e]?.indexOf(t);a!==void 0&&a>-1&&this.listeners[e].splice(a,1)}}emit(e,t){this.listeners[e]?.forEach(a=>{try{a(t)}catch{}})}}m.select({web:new q,native:new J,default:new Y});export{Q as T,ee as a,ue as b,ae as c,re as d,de as e,oe as f,ne as g,he as h,ie as i,se as j,ce as k,ge as m,le as t,te as u};
