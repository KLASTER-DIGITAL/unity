/**
 * PWA Translation Keys
 * 
 * Ключи переводов для PWA компонентов на 7 языках:
 * - ru (Русский)
 * - en (English)
 * - es (Español)
 * - de (Deutsch)
 * - fr (Français)
 * - zh (中文)
 * - ja (日本語)
 */

export const PWA_TRANSLATION_KEYS = {
  // Install Prompt
  'pwa.install.title': {
    ru: 'Установить приложение',
    en: 'Install App',
    es: 'Instalar aplicación',
    de: 'App installieren',
    fr: 'Installer l\'application',
    zh: '安装应用',
    ja: 'アプリをインストール',
  },
  'pwa.install.description': {
    ru: 'Установите приложение для быстрого доступа и работы офлайн',
    en: 'Install the app for quick access and offline work',
    es: 'Instala la aplicación para acceso rápido y trabajo sin conexión',
    de: 'Installieren Sie die App für schnellen Zugriff und Offline-Arbeit',
    fr: 'Installez l\'application pour un accès rapide et un travail hors ligne',
    zh: '安装应用以快速访问和离线工作',
    ja: 'アプリをインストールして、素早くアクセスしてオフラインで作業',
  },
  'pwa.install.button': {
    ru: 'Установить',
    en: 'Install',
    es: 'Instalar',
    de: 'Installieren',
    fr: 'Installer',
    zh: '安装',
    ja: 'インストール',
  },
  'pwa.install.later': {
    ru: 'Позже',
    en: 'Later',
    es: 'Más tarde',
    de: 'Später',
    fr: 'Plus tard',
    zh: '稍后',
    ja: '後で',
  },
  'pwa.install.benefits.fast': {
    ru: 'Быстрый доступ с главного экрана',
    en: 'Quick access from home screen',
    es: 'Acceso rápido desde la pantalla de inicio',
    de: 'Schneller Zugriff vom Startbildschirm',
    fr: 'Accès rapide depuis l\'écran d\'accueil',
    zh: '从主屏幕快速访问',
    ja: 'ホーム画面から素早くアクセス',
  },
  'pwa.install.benefits.offline': {
    ru: 'Работа без интернета',
    en: 'Works offline',
    es: 'Funciona sin conexión',
    de: 'Funktioniert offline',
    fr: 'Fonctionne hors ligne',
    zh: '离线工作',
    ja: 'オフラインで動作',
  },
  'pwa.install.benefits.native': {
    ru: 'Как нативное приложение',
    en: 'Like a native app',
    es: 'Como una aplicación nativa',
    de: 'Wie eine native App',
    fr: 'Comme une application native',
    zh: '像原生应用',
    ja: 'ネイティブアプリのように',
  },

  // PWA Status
  'pwa.status.installed': {
    ru: 'Приложение установлено!',
    en: 'App installed!',
    es: '¡Aplicación instalada!',
    de: 'App installiert!',
    fr: 'Application installée !',
    zh: '应用已安装！',
    ja: 'アプリがインストールされました！',
  },
  'pwa.status.installed.description': {
    ru: 'Теперь вы можете запускать UNITY Diary с главного экрана',
    en: 'You can now launch UNITY Diary from your home screen',
    es: 'Ahora puedes iniciar UNITY Diary desde tu pantalla de inicio',
    de: 'Sie können UNITY Diary jetzt von Ihrem Startbildschirm aus starten',
    fr: 'Vous pouvez maintenant lancer UNITY Diary depuis votre écran d\'accueil',
    zh: '现在您可以从主屏幕启动 UNITY Diary',
    ja: 'ホーム画面から UNITY Diary を起動できるようになりました',
  },

  // PWA Update
  'pwa.update.title': {
    ru: 'Доступно обновление',
    en: 'Update available',
    es: 'Actualización disponible',
    de: 'Update verfügbar',
    fr: 'Mise à jour disponible',
    zh: '可用更新',
    ja: 'アップデート利用可能',
  },
  'pwa.update.description': {
    ru: 'Новая версия приложения готова к установке',
    en: 'A new version of the app is ready to install',
    es: 'Una nueva versión de la aplicación está lista para instalar',
    de: 'Eine neue Version der App ist bereit zur Installation',
    fr: 'Une nouvelle version de l\'application est prête à être installée',
    zh: '新版本应用已准备好安装',
    ja: 'アプリの新しいバージョンがインストール可能です',
  },
  'pwa.update.button': {
    ru: 'Обновить',
    en: 'Update',
    es: 'Actualizar',
    de: 'Aktualisieren',
    fr: 'Mettre à jour',
    zh: '更新',
    ja: 'アップデート',
  },
  'pwa.update.later': {
    ru: 'Позже',
    en: 'Later',
    es: 'Más tarde',
    de: 'Später',
    fr: 'Plus tard',
    zh: '稍后',
    ja: '後で',
  },

  // Offline
  'pwa.offline.title': {
    ru: 'Вы офлайн',
    en: 'You are offline',
    es: 'Estás desconectado',
    de: 'Sie sind offline',
    fr: 'Vous êtes hors ligne',
    zh: '您处于离线状态',
    ja: 'オフラインです',
  },
  'pwa.offline.description': {
    ru: 'Проверьте подключение к интернету',
    en: 'Check your internet connection',
    es: 'Verifica tu conexión a internet',
    de: 'Überprüfen Sie Ihre Internetverbindung',
    fr: 'Vérifiez votre connexion Internet',
    zh: '检查您的互联网连接',
    ja: 'インターネット接続を確認してください',
  },

  // Splash Screen
  'pwa.splash.loading': {
    ru: 'Загрузка...',
    en: 'Loading...',
    es: 'Cargando...',
    de: 'Laden...',
    fr: 'Chargement...',
    zh: '加载中...',
    ja: '読み込み中...',
  },

  // Push Notifications
  'pwa.push.permission.title': {
    ru: 'Разрешить уведомления?',
    en: 'Allow notifications?',
    es: '¿Permitir notificaciones?',
    de: 'Benachrichtigungen zulassen?',
    fr: 'Autoriser les notifications ?',
    zh: '允许通知？',
    ja: '通知を許可しますか？',
  },
  'pwa.push.permission.description': {
    ru: 'Получайте важные обновления и напоминания',
    en: 'Get important updates and reminders',
    es: 'Recibe actualizaciones importantes y recordatorios',
    de: 'Erhalten Sie wichtige Updates und Erinnerungen',
    fr: 'Recevez des mises à jour importantes et des rappels',
    zh: '获取重要更新和提醒',
    ja: '重要な更新とリマインダーを受け取る',
  },
  'pwa.push.permission.allow': {
    ru: 'Разрешить',
    en: 'Allow',
    es: 'Permitir',
    de: 'Zulassen',
    fr: 'Autoriser',
    zh: '允许',
    ja: '許可',
  },
  'pwa.push.permission.deny': {
    ru: 'Не сейчас',
    en: 'Not now',
    es: 'Ahora no',
    de: 'Nicht jetzt',
    fr: 'Pas maintenant',
    zh: '暂不',
    ja: '今はしない',
  },
};

/**
 * Получает перевод для ключа на указанном языке
 */
export function getPWATranslation(
  key: keyof typeof PWA_TRANSLATION_KEYS,
  language: string = 'en'
): string {
  const translations = PWA_TRANSLATION_KEYS[key];
  
  if (!translations) {
    console.warn(`[PWA i18n] Translation key not found: ${key}`);
    return key;
  }

  // Пытаемся получить перевод на запрошенном языке
  const translation = translations[language as keyof typeof translations];
  
  if (translation) {
    return translation;
  }

  // Fallback на английский
  const fallback = translations['en'];
  if (fallback) {
    console.warn(`[PWA i18n] Translation not found for ${key} in ${language}, using English`);
    return fallback;
  }

  // Если даже английского нет, возвращаем ключ
  console.warn(`[PWA i18n] No translation found for ${key}`);
  return key;
}

/**
 * Hook для использования PWA переводов
 */
export function usePWATranslation(language: string = 'en') {
  return {
    t: (key: keyof typeof PWA_TRANSLATION_KEYS) => getPWATranslation(key, language),
  };
}

