# ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á–∏

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-01-18
**–í–µ—Ä—Å–∏—è**: 2.0 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã)
**–°—Ç–∞—Ç—É—Å**: –§–∞–∑–∞ 1 - Q1 2025
**MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: Chrome DevTools, Supabase

> **–°–≤—è–∑—å —Å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω–æ–º**: –≠—Ç–∞ –∑–∞–¥–∞—á–∞ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç **–ó–∞–¥–∞—á—É 2** –∏–∑ [UNITY_MASTER_PLAN_2025.md](../UNITY_MASTER_PLAN_2025.md)

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ 50% —á–µ—Ä–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –±–∞–Ω–¥–ª–∞, code splitting –∏ —É–ª—É—á—à–µ–Ω–∏–µ Core Web Vitals.

### ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Vite 6.3.5**: –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–±–æ—Ä—â–∏–∫)
- **TypeScript**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
- **Service Worker**: –£–∂–µ –µ—Å—Ç—å (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤)
- **Tailwind CSS**: JIT –∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã (–Ω–∞–π–¥–µ–Ω—ã –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ)
- **vite.config.ts:46**: `manualChunks: undefined` - –Ω–µ—Ç code splitting
- **–ë–æ–ª—å—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: 49 Radix UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, recharts —Ç–æ–ª—å–∫–æ –≤ –∞–¥–º–∏–Ω–∫–µ
- **–ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã**: `import * as React` –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞**: —Å ~2.5MB –¥–æ 1.8MB (-30%)
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏**: —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 50%
- **Core Web Vitals**: LCP < 2.5s, FID < 100ms, CLS < 0.1
- **Lighthouse Score**: > 90 –±–∞–ª–ª–æ–≤

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ù–µ–¥–µ–ª—è 1: Code Splitting –∏ Lazy Loading

#### 1.1 Route-based Code Splitting
**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å React.lazy –¥–ª—è —Ä–æ—É—Ç–æ–≤
- `src/app/mobile/MobileApp.tsx` - lazy loading —ç–∫—Ä–∞–Ω–æ–≤
- `src/app/admin/AdminApp.tsx` - lazy loading –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
// –ü—Ä–∏–º–µ—Ä –¥–ª—è App.tsx
const MobileApp = React.lazy(() => import('./app/mobile/MobileApp'));
const AdminApp = React.lazy(() => import('./app/admin/AdminApp'));

// –û–±–µ—Ä–Ω—É—Ç—å –≤ Suspense —Å loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
<Suspense fallback={<LoadingScreen />}>
  <Routes>
    <Route path="/" element={<MobileApp />} />
    <Route path="/admin" element={<AdminApp />} />
  </Routes>
</Suspense>
```

#### 1.2 Component-based Lazy Loading
**–¢—è–∂–µ–ª—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
- `src/shared/components/charts/` - –≥—Ä–∞—Ñ–∏–∫–∏ (recharts)
- `src/features/mobile/media/` - –º–µ–¥–∏–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/features/admin/analytics/` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `src/shared/components/ui/shadcn-io/` - —Å–ª–æ–∂–Ω—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**:
- Lazy load –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É
- Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏ hover/focus
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.memo –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤

### –ù–µ–¥–µ–ª—è 2: Bundle Optimization

#### 2.1 Tree Shaking
**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
- `lucide-react` - –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∏–∫–æ–Ω–∫–∏
- `motion` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `@radix-ui` - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ universal components

**–ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
```typescript
// ‚ùå –ü–ª–æ—Ö–æ - –∏–º–ø–æ—Ä—Ç –≤—Å–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import * as Icons from 'lucide-react';

// ‚úÖ –•–æ—Ä–æ—à–æ - –∏–º–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
import { Home, Settings, User } from 'lucide-react';
```

#### 2.2 Asset Optimization
**–ó–∞–¥–∞—á–∏**:
- –°–∂–∞—Ç—å –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `public/` (WebP —Ñ–æ—Ä–º–∞—Ç)
- –ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å SVG –∏–∫–æ–Ω–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à—Ä–∏—Ñ—Ç—ã (subset –¥–ª—è –Ω—É–∂–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤)
- –î–æ–±–∞–≤–∏—Ç—å preload –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

#### 2.3 Vite Configuration
**–§–∞–π–ª**: `vite.config.ts`
```typescript
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          ui: ['@radix-ui/react-dialog', '@radix-ui/react-select'],
          charts: ['recharts'],
          supabase: ['@supabase/supabase-js']
        }
      }
    },
    chunkSizeWarningLimit: 1000
  }
});
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Performance Testing
1. **Lighthouse CI** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –≤ GitHub Actions
2. **WebPageTest** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∑–∫–∏
3. **Chrome DevTools** - –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Real User Monitoring** - –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **–•–æ–ª–æ–¥–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
3. **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - 3G/4G —Å–∏–º—É–ª—è—Ü–∏—è
4. **–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **Bundle Size** - —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞
- **Load Time** - –≤—Ä–µ–º—è –¥–æ First Contentful Paint
- **Core Web Vitals** - LCP, FID, CLS
- **Memory Usage** - –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **Network Requests** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Bundlephobia** - –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Webpack Bundle Analyzer** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–∞
- **Sentry Performance** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ production
- **Google Analytics** - Core Web Vitals –æ—Ç—á–µ—Ç—ã

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### Definition of Done
- [ ] Bundle size —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 30%
- [ ] Lighthouse Score > 90 –±–∞–ª–ª–æ–≤
- [ ] Core Web Vitals –≤ –∑–µ–ª–µ–Ω–æ–π –∑–æ–Ω–µ
- [ ] –í—Å–µ lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Performance CI —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è
1. **–°–ª–æ–º–∞–Ω–Ω—ã–µ lazy imports** ‚Üí –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ—É—Ç–æ–≤
2. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** ‚Üí –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **–†–µ–≥—Ä–µ—Å—Å–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** ‚Üí –ü–æ–ª–Ω–æ–µ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [UNITY_MASTER_PLAN_2025.md](../UNITY_MASTER_PLAN_2025.md) - –æ–±—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- [REACT_NATIVE_MIGRATION_PLAN.md](../REACT_NATIVE_MIGRATION_PLAN.md) - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏
- [MASTER_PLAN.md](../MASTER_PLAN.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç**: PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –º–∏—Ä–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –≥–æ—Ç–æ–≤–æ–µ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∏ React Native –º–∏–≥—Ä–∞—Ü–∏–∏.
