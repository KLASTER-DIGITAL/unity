# Quality Checks Workflow

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: 2025-10-25  
**–¶–µ–ª—å**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º –∏ –¥–µ–ø–ª–æ–µ–º

---

## üéØ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ)

#### 1. TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
npm run type-check
```
- **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: —Ç–∏–ø—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π
- **–ö—Ä–∏—Ç–µ—Ä–∏–π**: 0 –æ—à–∏–±–æ–∫
- **–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ**: –ù–ï–ú–ï–î–õ–ï–ù–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å

#### 2. Build –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
npm run build
```
- **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: –∫–æ–º–ø–∏–ª—è—Ü–∏—è, –±–∞–Ω–¥–ª–∏–Ω–≥, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ö—Ä–∏—Ç–µ—Ä–∏–π**: —É—Å–ø–µ—à–Ω—ã–π build
- **–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ**: –ù–ï–ú–ï–î–õ–ï–ù–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –†—É—á–Ω—ã–µ (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º)

#### 3. Supabase Advisors
```typescript
// Security check
get_advisors_supabase({
  project_id: "ecuwuzqlwdkkdncampnc",
  type: "security"
})

// Performance check
get_advisors_supabase({
  project_id: "ecuwuzqlwdkkdncampnc",
  type: "performance"
})
```
- **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: RLS policies, –∏–Ω–¥–µ–∫—Å—ã, N+1 –ø—Ä–æ–±–ª–µ–º—ã
- **–ö—Ä–∏—Ç–µ—Ä–∏–π**: 0 WARN/ERROR
- **–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ**: –ù–ï–ú–ï–î–õ–ï–ù–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å

#### 4. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev server
npm run dev

# –û—Ç–∫—Ä—ã—Ç—å Chrome DevTools (Cmd+Option+I)
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
```
- **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç**: runtime –æ—à–∏–±–∫–∏, warnings, network errors
- **–ö—Ä–∏—Ç–µ—Ä–∏–π**: 0 errors –≤ –∫–æ–Ω—Å–æ–ª–∏
- **–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ**: –ù–ï–ú–ï–î–õ–ï–ù–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å

---

## üîÑ Workflow

### –î–ª—è AI (Augment Agent)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:**

1. ‚úÖ –î–µ–ª–∞–µ—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å TypeScript: `npm run type-check`
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å Build: `npm run build`
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å Supabase Advisors (security + performance)
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—à—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (Chrome MCP)
6. ‚úÖ –ï—Å–ª–∏ –í–°–Å –û–ö ‚Üí –∫–æ–º–º–∏—Ç –∏ push
7. ‚ùå –ï—Å–ª–∏ –ï–°–¢–¨ –û–®–ò–ë–ö–ò ‚Üí –∏—Å–ø—Ä–∞–≤–ª—è–µ—à—å –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—à—å —Å —à–∞–≥–∞ 2

**–ó–ê–ü–†–ï–¢–´:**
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Å TypeScript –æ—à–∏–±–∫–∞–º–∏
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏ build
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—Ä–∏ WARN/ERROR –≤ Supabase Advisors

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
./scripts/pre-deploy-check.sh
```

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# 1. TypeScript
npm run type-check

# 2. Build
npm run build

# 3. Supabase Advisors (—á–µ—Ä–µ–∑ Augment Chat)
# 4. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–≤—Ä—É—á–Ω—É—é)
```

---

## üõ°Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Pre-commit Hook (Husky)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ `git commit`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç TypeScript
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Build
- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç** –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫

**–§–∞–π–ª:** `.husky/pre-commit`

**–û–±—Ö–æ–¥ (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
git commit --no-verify -m "message"
```

### GitHub Action

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push –≤ main/develop
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç TypeScript
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Build
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞

**–§–∞–π–ª:** `.github/workflows/quality-checks.yml`

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### TypeScript
- **–¶–µ–ª—å**: 0 –æ—à–∏–±–æ–∫
- **–¢–µ–∫—É—â–∏–π**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ

### Build
- **–¶–µ–ª—å**: —É—Å–ø–µ—à–Ω—ã–π build < 30 —Å–µ–∫—É–Ω–¥
- **–¢–µ–∫—É—â–∏–π**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ

### Bundle Size
- **–¶–µ–ª—å**: < 2 MB (gzipped)
- **–¢–µ–∫—É—â–∏–π**: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ GitHub Action

### Supabase Advisors
- **–¶–µ–ª—å**: 0 WARN/ERROR
- **–¢–µ–∫—É—â–∏–π**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### Console Errors
- **–¶–µ–ª—å**: 0 errors
- **–¢–µ–∫—É—â–∏–π**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

---

## üÜò Troubleshooting

### TypeScript –æ—à–∏–±–∫–∏ –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à TypeScript
rm -rf node_modules/.cache
npx tsc --build --clean
npm run type-check
```

### Build –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π –ø–∞–º—è—Ç–∏
```bash
# –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ Node.js
NODE_OPTIONS="--max-old-space-size=4096" npm run build
```

### Pre-commit hook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Husky
npm run prepare
chmod +x .husky/pre-commit
```

### Supabase Advisors –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –æ—à–∏–±–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –ë–î
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
# –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow

```bash
# 1. –î–µ–ª–∞—é –∏–∑–º–µ–Ω–µ–Ω–∏—è
vim src/components/Button.tsx

# 2. –ü—Ä–æ–≤–µ—Ä—è—é TypeScript
npm run type-check
# ‚úÖ No errors

# 3. –ü—Ä–æ–≤–µ—Ä—è—é Build
npm run build
# ‚úÖ Build successful

# 4. –ü—Ä–æ–≤–µ—Ä—è—é Supabase Advisors (—á–µ—Ä–µ–∑ Augment Chat)
# ‚úÖ No warnings

# 5. –ü—Ä–æ–≤–µ—Ä—è—é –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
npm run dev
# ‚úÖ No errors in console

# 6. –ö–æ–º–º–∏—Ç
git add .
git commit -m "feat: update Button component"
# ‚úÖ Pre-commit checks passed

# 7. Push
git push origin main
# ‚úÖ GitHub Action passed
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow

```bash
# 1. –î–µ–ª–∞—é –∏–∑–º–µ–Ω–µ–Ω–∏—è
vim src/components/Button.tsx

# 2. –°—Ä–∞–∑—É –∫–æ–º–º–∏—Ç (–ë–ï–ó –ü–†–û–í–ï–†–û–ö)
git add .
git commit -m "feat: update Button component"
# ‚ùå Pre-commit hook FAILED
# ‚ùå TypeScript errors found!

# 3. –ü—ã—Ç–∞—é—Å—å –æ–±–æ–π—Ç–∏ hook
git commit --no-verify -m "feat: update Button component"
# ‚ùå –ü–õ–û–•–ê–Ø –ü–†–ê–ö–¢–ò–ö–ê!

# 4. Push
git push origin main
# ‚ùå GitHub Action FAILED
# ‚ùå –î–µ–ø–ª–æ–π —Å–ª–æ–º–∞–Ω
```

---

## üéì Best Practices

1. **–í–°–ï–ì–î–ê** –∑–∞–ø—É—Å–∫–∞—Ç—å `npm run type-check` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
2. **–í–°–ï–ì–î–ê** –∑–∞–ø—É—Å–∫–∞—Ç—å `npm run build` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
3. **–í–°–ï–ì–î–ê** –ø—Ä–æ–≤–µ—Ä—è—Ç—å Supabase Advisors –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
4. **–í–°–ï–ì–î–ê** –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
5. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--no-verify` –¥–ª—è –æ–±—Ö–æ–¥–∞ pre-commit hook
6. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ TypeScript
7. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ Build
8. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å WARN/ERROR –≤ Supabase Advisors

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [UNITY-v2 Rules](../../.augment/rules/unity.md)
- [BACKLOG.md](../BACKLOG.md)
- [SPRINT.md](../SPRINT.md)

