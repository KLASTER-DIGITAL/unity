# 🧪 ПОЛНЫЙ СЦЕНАРИЙ ТЕСТИРОВАНИЯ - UNITY-v2

## 📋 Тестовые данные

### Новый пользователь
- **Email**: test_new_user_2025@leadshunter.biz
- **Пароль**: TestPass123!@#
- **Имя**: Максим
- **Дневник**: "Мой путь к успеху"
- **Эмодзи**: 🚀
- **Напоминание**: Утром (08:00)
- **Первая запись**: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."

### Существующий пользователь
- **Email**: test8@leadshunter.biz
- **Пароль**: Test123!@#
- **Имя**: Антон

---

## 🎯 Тестовый сценарий 1: Полный Onboarding Flow (Новый пользователь)

### Шаг 1: WelcomeScreen
- [ ] Открыть http://localhost:3000/
- [ ] Проверить, что видна кнопка "Начать"
- [ ] Проверить, что видна кнопка "У меня уже есть аккаунт"
- [ ] Проверить, что видна кнопка выбора языка "🇷🇺 Русский"
- [ ] Нажать "Начать"

### Шаг 2: OnboardingScreen2
- [ ] Проверить, что видна информация о достижениях
- [ ] Проверить, что видна кнопка "Next"
- [ ] Нажать "Next"

### Шаг 3: OnboardingScreen3
- [ ] Проверить, что видна форма для ввода названия дневника
- [ ] Ввести "Мой путь к успеху"
- [ ] Выбрать эмодзи 🚀
- [ ] Нажать "Next"

### Шаг 4: OnboardingScreen4
- [ ] Проверить, что видна форма для первой записи
- [ ] Ввести первую запись: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
- [ ] Выбрать напоминание: "Утром (08:00)"
- [ ] Нажать "Завершить"

### Шаг 5: AuthScreen (Регистрация)
- [ ] Проверить, что видна форма регистрации
- [ ] Ввести имя: "Максим"
- [ ] Ввести email: "test_new_user_2025@leadshunter.biz"
- [ ] Ввести пароль: "TestPass123!@#"
- [ ] Нажать "Регистрация"

### Шаг 6: AchievementHomeScreen
- [ ] Проверить, что видна приветствие: "🙌 Привет Максим"
- [ ] Проверить, что видны мотивационные карточки (4 шт):
  - [ ] **Карточка 1 (Первая запись)**:
    - Текст: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
    - Дата: сегодняшняя дата
    - Статус: "Новая запись"
  - [ ] **Карточка 2**: Мотивационная карточка #1
  - [ ] **Карточка 3**: Мотивационная карточка #2
  - [ ] **Карточка 4**: Мотивационная карточка #3
- [ ] Проверить, что видна первая запись в ленте (RecentEntriesFeed)
- [ ] Проверить, что видно мобильное меню внизу
- [ ] Проверить, что статистика обновилась (totalEntries = 1)

### Шаг 7: Проверка ленты (RecentEntriesFeed)
- [ ] Первая запись видна в ленте (первая в списке)
- [ ] Текст записи: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
- [ ] Дата создания отображается правильно (сегодняшняя дата)
- [ ] Время создания отображается правильно
- [ ] Можно развернуть запись для просмотра полного текста
- [ ] Запись содержит правильные метаданные:
  - [ ] Категория: "Другое" (или выбранная категория)
  - [ ] Настроение: "хорошее" (или выбранное настроение)
  - [ ] Sentiment: "positive"

### Шаг 8: Проверка раздела История (HistoryScreen)
- [ ] Нажать на "История" в мобильном меню
- [ ] Проверить, что первая запись видна в истории (первая в списке)
- [ ] Проверить, что текст записи отображается правильно
- [ ] Проверить, что дата и время отображаются правильно
- [ ] Проверить, что статистика отображается:
  - [ ] Всего записей: 1
  - [ ] Записей за сегодня: 1
  - [ ] Средняя длина записи: (длина первой записи)
- [ ] Проверить, что можно фильтровать по датам
- [ ] Проверить, что можно развернуть запись для просмотра полного текста
- [ ] Проверить, что можно редактировать запись
- [ ] Проверить, что можно удалить запись

### Шаг 9: Проверка мотивационных карточек (MotivationCards)
- [ ] Карточка 1 (Первая запись):
  - [ ] Отображается как первая карточка
  - [ ] Содержит текст первой записи
  - [ ] Содержит дату создания
  - [ ] Содержит иконку "Новая запись"
  - [ ] Можно нажать для просмотра полного текста
- [ ] Карточка 2-4 (Мотивационные карточки):
  - [ ] Отображаются после первой записи
  - [ ] Содержат мотивационный текст
  - [ ] Содержат иконку мотивации
  - [ ] Можно нажать для просмотра полного текста

### Шаг 10: Проверка данных в Supabase
- [ ] Профиль создан с правильными данными:
  - [ ] name = "Максим"
  - [ ] email = "test_new_user_2025@leadshunter.biz"
  - [ ] diary_name = "Мой путь к успеху"
  - [ ] diary_emoji = "🚀"
  - [ ] onboarding_completed = true
- [ ] Первая запись создана в таблице entries:
  - [ ] user_id = профиль пользователя
  - [ ] text = "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
  - [ ] sentiment = "positive"
  - [ ] category = "Другое"
  - [ ] mood = "хорошее"
  - [ ] created_at = сегодняшняя дата
- [ ] Notification settings сохранены:
  - [ ] selectedTime = "morning"
  - [ ] morningTime = "08:00"
  - [ ] permissionGranted = false

---

## 🎯 Тестовый сценарий 2: Вход существующего пользователя

### Шаг 1: WelcomeScreen
- [ ] Открыть http://localhost:3000/
- [ ] Нажать "У меня уже есть аккаунт"

### Шаг 2: AuthScreen (Вход)
- [ ] Проверить, что видна форма входа
- [ ] Ввести email: "test8@leadshunter.biz"
- [ ] Ввести пароль: "Test123!@#"
- [ ] Нажать "Войти"

### Шаг 3: AchievementHomeScreen
- [ ] Проверить, что видна приветствие: "🙌 Привет Антон"
- [ ] Проверить, что видны мотивационные карточки
- [ ] Проверить, что видны записи пользователя
- [ ] Проверить, что видно мобильное меню

---

## 🎯 Тестовый сценарий 3: Проверка Settings

### Шаг 1: Открыть Settings
- [ ] Нажать на кнопку "Настройки" в мобильном меню
- [ ] Проверить, что видна секция "Уведомления"

### Шаг 2: Проверить Notification Settings
- [ ] Проверить, что "Ежедневные напоминания" включены (если selectedTime !== 'none')
- [ ] Проверить, что отображаются сохраненные времена напоминаний
- [ ] Проверить, что отображаются другие настройки уведомлений

---

## 🎯 Тестовый сценарий 4: Проверка создания новой записи

### Шаг 1: Открыть главный экран
- [ ] Убедиться, что находимся на AchievementHomeScreen

### Шаг 2: Создать новую запись
- [ ] Найти input для новой записи (ChatInputSection)
- [ ] Ввести текст: "Вторая запись! Продолжаю работать над своими целями."
- [ ] Нажать отправить

### Шаг 3: Проверить результат
- [ ] Проверить, что новая запись появилась в ленте
- [ ] Проверить, что статистика обновилась (totalEntries = 2)

---

## ✅ Чек-лист успешного тестирования

### Onboarding Flow
- [ ] WelcomeScreen загружается
- [ ] OnboardingScreen2/3/4 загружаются
- [ ] Данные сохраняются между экранами
- [ ] AuthScreen загружается после OnboardingScreen4
- [ ] Регистрация работает
- [ ] Профиль создается в Supabase
- [ ] Первая запись создается в Supabase

### Главный экран (AchievementHomeScreen)
- [ ] Имя пользователя отображается правильно: "🙌 Привет Максим"
- [ ] Мотивационные карточки загружаются (3 шт):
  - [ ] **Карточка 1 (AI-улучшенная запись)**:
    - Title: AI summary из первой записи (например: "Пользователь начинает новый проект")
    - Description: AI insight (например: "Первый шаг — это всегда самый важный")
    - Дата: сегодняшняя дата (16 октября)
    - Gradient: зависит от sentiment (positive = оранжевый/розовый)
    - Это РЕАЛЬНАЯ запись пользователя, улучшенная AI
  - [ ] **Карточка 2 (Дефолтная карточка #1)**:
    - Title: "Сегодня отличное время"
    - Description: "Запиши маленькую победу — это первый шаг к осознанию своих достижений."
    - Дата: "Начни сегодня"
    - Gradient: оранжевый (from-[#FE7669] to-[#ff8969])
    - Это УНИВЕРСАЛЬНАЯ мотивационная карточка (не требует токенов)
  - [ ] **Карточка 3 (Дефолтная карточка #2)**:
    - Title: "Даже одна мысль делает день осмысленным"
    - Description: "Не обязательно писать много — одна фраза может изменить твой взгляд на прожитый день."
    - Дата: "Совет дня"
    - Gradient: розовый (from-[#ff6b9d] to-[#c471ed])
    - Это УНИВЕРСАЛЬНАЯ мотивационная карточка (не требует токенов)
- [ ] Первая запись видна в ленте (RecentEntriesFeed)
- [ ] Мобильное меню видно внизу
- [ ] Статистика отображается (totalEntries = 1)

### Лента (RecentEntriesFeed)
- [ ] Первая запись видна в ленте (первая в списке)
- [ ] Текст записи отображается правильно: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
- [ ] Дата создания отображается правильно (сегодняшняя дата)
- [ ] Время создания отображается правильно
- [ ] Метаданные отображаются:
  - [ ] Категория: "Другое"
  - [ ] Настроение: "хорошее"
  - [ ] Sentiment: "positive"
- [ ] AI анализ отображается:
  - [ ] AI Summary: "Пользователь начинает новый проект"
  - [ ] AI Insight: "Первый шаг — это всегда самый важный"
  - [ ] AI Reply: "Отлично! 🚀 Это отличное начало..."
- [ ] Можно развернуть запись для просмотра полного текста

### История (HistoryScreen)
- [ ] Первая запись видна в истории (первая в списке)
- [ ] Текст записи отображается правильно: "Начинаю свой путь к большим достижениям! Это будет мой первый шаг."
- [ ] Дата и время отображаются правильно (сегодняшняя дата)
- [ ] Метаданные видны:
  - [ ] Категория: "Другое"
  - [ ] Настроение: "хорошее"
  - [ ] Sentiment: "positive"
- [ ] AI анализ видна:
  - [ ] AI Summary: "Пользователь начинает новый проект"
  - [ ] AI Insight: "Первый шаг — это всегда самый важный"
- [ ] Статистика отображается:
  - [ ] Всего записей: 1
  - [ ] Записей за сегодня: 1
  - [ ] Средняя длина записи: (длина первой записи)
- [ ] Можно фильтровать по датам
- [ ] Можно развернуть запись для просмотра полного текста
- [ ] Можно редактировать запись
- [ ] Можно удалить запись

### Settings
- [ ] Notification settings инициализируются из userData
- [ ] Отображаются сохраненные настройки (Утром 08:00)
- [ ] Можно изменять настройки

### Создание записей
- [ ] Новая запись создается через ChatInputSection
- [ ] Новая запись появляется в ленте
- [ ] Новая запись появляется в истории
- [ ] Статистика обновляется (totalEntries = 2)

---

## 🎯 Тестовый сценарий 5: Проверка структуры главного экрана

### Структура AchievementHomeScreen

**Ожидаемая структура**:
```
AchievementHomeScreen
├── MobileHeader
│   └── "🙌 Привет Максим"
├── AchievementStats
│   ├── totalEntries: 1
│   ├── totalAchievements: 0
│   └── streak: 0
├── MotivationCardsCarousel (3 карточки)
│   ├── Card 1 (AI-улучшенная запись пользователя)
│   │   ├── Title: AI Summary
│   │   ├── Description: AI Insight
│   │   └── Gradient: зависит от sentiment
│   ├── Card 2 (Дефолтная карточка #1)
│   │   ├── Title: "Сегодня отличное время"
│   │   ├── Description: "Запиши маленькую победу..."
│   │   └── Gradient: оранжевый
│   └── Card 3 (Дефолтная карточка #2)
│       ├── Title: "Даже одна мысль делает день осмысленным"
│       ├── Description: "Не обязательно писать много..."
│       └── Gradient: розовый
├── RecentEntriesFeed
│   └── Entry 1: "Начинаю свой путь..."
├── ChatInputSection
│   └── Input для новой записи
└── MobileBottomNav
    ├── Home (активная)
    ├── History
    ├── Achievements
    ├── Reports
    └── Settings
```

### Проверка каждого компонента

- [ ] **MobileHeader**: Отображает "🙌 Привет Максим"
- [ ] **AchievementStats**: Показывает totalEntries = 1
- [ ] **MotivationCardsCarousel** (3 карточки):
  - [ ] **Карточка 1 (AI-улучшенная запись)**:
    - [ ] Title: AI Summary из первой записи
    - [ ] Description: AI Insight из первой записи
    - [ ] Gradient: зависит от sentiment (positive)
    - [ ] Это РЕАЛЬНАЯ запись пользователя
  - [ ] **Карточка 2 (Дефолтная)**:
    - [ ] Title: "Сегодня отличное время"
    - [ ] Description: "Запиши маленькую победу..."
    - [ ] Gradient: оранжевый
    - [ ] Это УНИВЕРСАЛЬНАЯ карточка (не требует токенов)
  - [ ] **Карточка 3 (Дефолтная)**:
    - [ ] Title: "Даже одна мысль делает день осмысленным"
    - [ ] Description: "Не обязательно писать много..."
    - [ ] Gradient: розовый
    - [ ] Это УНИВЕРСАЛЬНАЯ карточка (не требует токенов)
- [ ] **RecentEntriesFeed**: Первая запись видна
- [ ] **ChatInputSection**: Input для новой записи
- [ ] **MobileBottomNav**: Все кнопки видны

---

## 📊 Ожидаемые результаты

### Профиль в Supabase
```json
{
  "id": "uuid",
  "name": "Максим",
  "email": "test_new_user_2025@leadshunter.biz",
  "diary_name": "Мой путь к успеху",
  "diary_emoji": "🚀",
  "notification_settings": {
    "selectedTime": "morning",
    "morningTime": "08:00",
    "eveningTime": "21:00",
    "permissionGranted": false
  },
  "onboarding_completed": true
}
```

### Первая запись в Supabase
```json
{
  "id": "uuid",
  "user_id": "uuid",
  "text": "Начинаю свой путь к большим достижениям! Это будет мой первый шаг.",
  "sentiment": "positive",
  "category": "Другое",
  "mood": "хорошее",
  "created_at": "2025-10-16T...",
  "is_first_entry": true
}
```

### Главный экран (AchievementHomeScreen)
```
┌─────────────────────────────────┐
│  🙌 Привет Максим              │
├─────────────────────────────────┤
│  📊 Статистика                  │
│  Записей: 1 | Достижений: 0    │
├─────────────────────────────────┤
│  🎯 Мотивационные карточки (3)  │
│  ┌─────────────────────────────┐│
│  │ Карточка 1 (AI-улучшенная)  ││
│  │ Title: AI Summary            ││
│  │ Desc: AI Insight             ││
│  │ Gradient: зависит от mood    ││
│  └─────────────────────────────┘│
│  ┌─────────────────────────────┐│
│  │ Карточка 2 (Дефолтная)      ││
│  │ "Сегодня отличное время"    ││
│  │ "Запиши маленькую победу..." ││
│  │ Gradient: оранжевый          ││
│  └─────────────────────────────┘│
│  ┌─────────────────────────────┐│
│  │ Карточка 3 (Дефолтная)      ││
│  │ "Даже одна мысль..."        ││
│  │ "Не обязательно писать..." ││
│  │ Gradient: розовый            ││
│  └─────────────────────────────┘│
├─────────────────────────────────┤
│  📝 Последние записи             │
│  ┌─────────────────────────────┐│
│  │ Начинаю свой путь...        ││
│  │ Сегодня в 12:34             ││
│  │ Категория: Другое           ││
│  │ Настроение: хорошее         ││
│  └─────────────────────────────┘│
├─────────────────────────────────┤
│  ✍️  Напишите новую запись...   │
├─────────────────────────────────┤
│ 🏠 История 🏆 Отчеты ⚙️ Настройки│
└─────────────────────────────────┘
```

---

## 🚀 Команды для тестирования

```bash
# Запустить dev сервер
npm run dev

# Открыть приложение
open http://localhost:3000/

# Проверить консоль на ошибки
# Открыть Chrome DevTools (F12)
# Перейти на вкладку Console
```

---

**Дата создания**: 2025-10-16
**Версия**: 1.0

