# ü§ñ AI Usage System ‚Äî –ö–æ–Ω—Ü–µ–ø—Ü–∏—è, –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –õ–æ–≥–∏–∫–∞

**–ü—Ä–æ–µ–∫—Ç:** UNITY-v2
**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-18
**–ê–≤—Ç–æ—Ä:** –ö–æ–º–∞–Ω–¥–∞ UNITY
**–°—Ç–∞—Ç—É—Å:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –º–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω–æ–º

> **–í–∞–∂–Ω–æ**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç AI-—Å–∏—Å—Ç–µ–º—É –∏–∑ [UNITY_MASTER_PLAN_2025.md](./UNITY_MASTER_PLAN_2025.md)

---

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI-–∑–∞–ø—Ä–æ—Å–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π UNITY.  
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:
- —Å–Ω–∏–∂–∞—Ç—å –∏–∑–¥–µ—Ä–∂–∫–∏ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenAI API;
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å SuperAdmin –ø–æ–ª–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ä–∞—Å—Ö–æ–¥–æ–≤;
- –ø–æ–∑–≤–æ–ª—è—Ç—å –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –ª–∏–º–∏—Ç—ã;
- —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–ª—è —Ç–∞—Ä–∏—Ñ–Ω–æ–π –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ AI.

---

## üß© 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

AI ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã UNITY. –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è.  
–ö–∞–∂–¥–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI —Å–æ–∑–¥–∞—ë—Ç **—Ü–µ–Ω–Ω–æ—Å—Ç—å** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ **—Å—Ç–æ–∏–º–æ—Å—Ç—å** –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–î–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è:
1. –ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏ (—ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤);
2. –°–±–æ—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º;
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤;
4. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤.

---

## ‚öôÔ∏è 2. –¢–∏–ø—ã AI-–æ–ø–µ—Ä–∞—Ü–∏–π

| –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ–¥–µ–ª—å |
|---------------|------------|----------------|----------------------|
| `ai_card` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ | ‚Äú–ß—Ç–æ —è —Å–¥–µ–ª–∞–ª —Å–µ–≥–æ–¥–Ω—è?‚Äù | `gpt-4o-mini` |
| `ai_summary` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ–¥–µ–ª—å–Ω—ã—Ö/–º–µ—Å—è—á–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ | ‚Äú–°–æ–∑–¥–∞—Ç—å PDF –∫–Ω–∏–≥—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π‚Äù | `gpt-4o` |
| `emotion_analysis` | –ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π –≤ –∑–∞–º–µ—Ç–∫–∞—Ö | ‚Äú–ö–∞–∫–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ –º–æ–∏—Ö –∑–∞–ø–∏—Å—è—Ö?‚Äù | `gpt-4o-mini` |
| `voice_to_text` | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ | ‚Äú–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É‚Äù | `whisper-1` |
| `ai_coach` | –î–∏–∞–ª–æ–≥–æ–≤—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç UNITY Coach | ‚Äú–ö–∞–∫ –º–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é?‚Äù | `gpt-4o` |

---

## üí∞ 3. –ú–æ–¥–µ–ª—å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —ç–∫–æ–Ω–æ–º–∏–∏

### üí° –ü—Ä–∏–Ω—Ü–∏–ø—ã
1. –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –ø–æ–¥ –∑–∞–¥–∞—á—É.
2. –î–ª—è –º–∞—Å—Å–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–∫–∞—Ä—Ç–æ—á–∫–∏, —ç–º–æ—Ü–∏–∏) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `gpt-4o-mini`.
3. –î–ª—è –≥–ª—É–±–æ–∫–∏—Ö –∏–Ω—Å–∞–π—Ç–æ–≤ ‚Äî `gpt-4o`.
4. –í—Å–µ –≤—ã–∑–æ–≤—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è –≤ Supabase.

### üíµ –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å 1K —Ç–æ–∫–µ–Ω–æ–≤:
| –ú–æ–¥–µ–ª—å | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------|------------|---------------|
| GPT-4 | $0.03 | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| GPT-4o | $0.005 | –û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π |
| GPT-4o-mini | $0.0006 | –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| Whisper-1 | $0.006 / –º–∏–Ω—É—Ç–∞ | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ |

---

## üß± 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### üìÑ –¢–∞–±–ª–∏—Ü–∞ `ai_usage_logs`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-----------|
| id | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| user_id | uuid | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –≤—ã–∑–≤–∞–≤—à–∏–π –æ–ø–µ—Ä–∞—Ü–∏—é |
| model | text | –ú–æ–¥–µ–ª—å OpenAI |
| operation_type | text | –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| tokens_input | int | –í—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã |
| tokens_output | int | –í—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã |
| cost_usd | decimal | –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| created_at | timestamp | –î–∞—Ç–∞ –≤—ã–∑–æ–≤–∞ |
| metadata | jsonb | –ö–æ–Ω—Ç–µ–∫—Å—Ç (—è–∑—ã–∫, –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞, —ç–º–æ—Ü–∏–∏ –∏ —Ç.–ø.) |

---

## üß† 5. Middleware ‚ÄúAI Service Wrapper‚Äù

```ts
// aiService.ts
async function runAI({ userId, operationType, content }) {
  const model = await getModelByOperation(operationType);
  const completion = await openai.chat.completions.create({
    model,
    messages: [{ role: "user", content }],
  });

  const usage = completion.usage;
  const cost = calculateCost(model, usage.total_tokens);

  await db.ai_usage_logs.insert({
    user_id: userId,
    model,
    operation_type: operationType,
    tokens_input: usage.prompt_tokens,
    tokens_output: usage.completion_tokens,
    cost_usd: cost,
    created_at: new Date(),
  });

  return completion.choices[0].message.content;
}
```

---

## üßÆ 6. –†–∞–∑–¥–µ–ª ‚Äú–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Üí AI‚Äù (SuperAdmin Dashboard)

### üìä –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- **–ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤** –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü  
- **–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å AI –∑–∞ –ø–µ—Ä–∏–æ–¥**  
- **–¢–æ–ø-5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ø–æ —Ä–∞—Å—Ö–æ–¥–∞–º  
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π**  
- **–î–æ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π (Pie chart)**

### üë§ –í–∫–ª–∞–¥–∫–∞ ‚Äú–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏‚Äù
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ö–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ | –¢–æ–∫–µ–Ω—ã | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ú–æ–¥–µ–ª—å | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–∑–æ–≤ |
|---------------|----------------|---------|------------|---------|------------------|
| @karina | 185 | 45,000 | $1.82 | gpt-4o-mini | 18.10.2025 |

> –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø–µ—Ä–∏–æ–¥—É –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ CSV.

### üß© –í–∫–ª–∞–¥–∫–∞ ‚Äú–¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π‚Äù
| –¢–∏–ø | –ú–æ–¥–µ–ª—å | –ó–∞–ø—Ä–æ—Å–æ–≤ | –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å | –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å |
|------|---------|-----------|------------------|----------------|
| ai_card | gpt-4o-mini | 5,000 | $0.00018 | $0.90 |
| ai_summary | gpt-4o | 210 | $0.06 | $12.60 |

### ‚öôÔ∏è –í–∫–ª–∞–¥–∫–∞ ‚Äú–ú–æ–¥–µ–ª–∏‚Äù
- –î–∏–∞–≥—Ä–∞–º–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ —Ü–µ–Ω–µ/—Ç–æ–∫–µ–Ω–∞–º  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (‚Äú–∑–∞–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç—å ai_card –Ω–∞ gpt-4o-mini‚Äù)

---

## ‚öôÔ∏è 7. –†–∞–∑–¥–µ–ª ‚Äú–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí AI‚Äù

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-----------|
| **API Key** | –í–≤–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ OpenAI |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º** | –¢–∞–±–ª–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ |
| **–õ–∏–º–∏—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤** | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ª–∏–º–∏—Ç—ã |
| **–ë—é–¥–∂–µ—Ç AI (–≤ –º–µ—Å—è—Ü)** | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ |
| **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sandbox-–∫–ª—é—á–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç |

---

## üìä 8. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Ç–∞—Ä–∏—Ñ—ã

### –§–æ—Ä–º—É–ª—ã
```
AI_Cost_User = SUM(cost_usd) / –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏
AI_Cost_Operation = SUM(cost_usd) / –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞:
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ó–∞–ø—Ä–æ—Å–æ–≤ | –°—Ç–æ–∏–º–æ—Å—Ç—å | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (1 –∑–∞–ø–∏—Å—å) | –†–µ–∫–æ–º–µ–Ω–¥. —Ç–∞—Ä–∏—Ñ |
|---------------|-----------|------------|---------------------------|----------------|
| –ê–Ω–Ω–∞ | 120 | $0.62 | $0.005 | Free |
| –ö–∞—Ä–∏–Ω–∞ | 480 | $3.20 | $0.006 | Premium |
| –ê–ª–µ–∫—Å–µ–π | 50 | $0.21 | $0.004 | Free |

---

## üö® 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –¥–Ω–µ–≤–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –Ω–∞ email SuperAdmin –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram-–±–æ—Ç–æ–º –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤.

---

## üíæ 10. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π UNITY

AI Usage System —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏:
- **PDF-–∫–Ω–∏–≥–∞** ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–æ–≤ –∑–∞ –º–µ—Å—è—Ü;
- **AI-–∏–Ω—Å–∞–π—Ç—ã** ‚Äî —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤;
- **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–ø–∞–¥—ã.

---

## üß© 11. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–≤—è–∑–∏)

```mermaid
erDiagram
    users ||--o{ ai_usage_logs : has
    ai_usage_logs }o--|| models : uses
    models {
      text id
      text name
      decimal cost_per_1k
    }
```

---

## üöÄ 12. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|------------|-------------|
| Backend | Supabase Edge Functions |
| Frontend | React + Shadcn/UI |
| Charts | Recharts |
| Storage | Supabase + PostgreSQL |
| Deployment | Vercel |
| Integration | OpenAI SDK v4 |

---

## üîí 13. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å

- –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ Supabase Secrets.  
- –í—Å–µ –≤—ã–∑–æ–≤—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ Edge Functions.  
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π:  
  - `super_admin` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤.  
  - `user` ‚Äî —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

---

## üß≠ 14. –ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

| –í–µ—Ä—Å–∏—è | –ù–æ–≤–æ–≤–≤–µ–¥–µ–Ω–∏–µ | –¶–µ–ª—å |
|---------|---------------|------|
| v1.1 | –ê–≤—Ç–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π | –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ |
| v1.2 | –ü—Ä–æ–≥–Ω–æ–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ |
| v1.3 | –¢–∞—Ä–∏—Ñ–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Free / Premium / Pro) | –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è AI |
| v1.4 | AI-—Å–æ–≤–µ—Ç–Ω–∏–∫ –¥–ª—è SuperAdmin | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∑–∞—Ç—Ä–∞—Ç–∞–º–∏ |

---

## üìò –ò—Ç–æ–≥

AI Usage System ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã UNITY.  
–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –≤–∏–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å AI,
- —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –±—é–¥–∂–µ—Ç—ã,
- —Å—Ç—Ä–æ–∏—Ç—å —É—Å—Ç–æ–π—á–∏–≤—É—é –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é.

UNITY –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI ‚Äî –æ–Ω –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º.  
–≠—Ç–æ —à–∞–≥ –∫ –∑—Ä–µ–ª–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ, –≥–¥–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Å–ª—É–∂–∏—Ç —á–µ–ª–æ–≤–µ–∫—É, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2025-10-18  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Product Team UNITY  
**–§–æ—Ä–º–∞—Ç:** PRD + Technical Specification
