# üéØ –û–ë–™–Ø–°–ù–ï–ù–ò–ï –õ–û–ì–ò–ö–ò –ú–û–¢–ò–í–ê–¶–ò–û–ù–ù–´–• –ö–ê–†–¢–û–ß–ï–ö

## üöÄ –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** - —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–≤—É—Ö —Ç–∏–ø–æ–≤:

1. **–†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (AI-—É–ª—É—á—à–µ–Ω–Ω—ã–µ)
   - –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - AI —É–ª—É—á—à–∞–µ—Ç —Ç–µ–∫—Å—Ç (summary + insight)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–∫–µ–Ω—ã OpenAI (120 –Ω–∞ –∑–∞–ø–∏—Å—å)
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ü–ï–†–í–û–ô

2. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏**
   - –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
   - –ù–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ fallback
   - –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  MOTIVATION CARDS FLOW                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

[User creates entry]
        ‚Üì
[ChatInputSection]
        ‚Üì
[OpenAI Analysis] (AI —É–ª—É—á—à–∞–µ—Ç –∑–∞–ø–∏—Å—å)
        ‚Üì
[DiaryEntry saved to DB]
        ‚Üì
[Entry converted to Card]
        ‚Üì
[Card displayed in MotivationCards]
        ‚Üì
[Default cards added if needed]
```

---

## üîÑ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### –®–∞–≥ 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç:
"–ù–∞—á–∏–Ω–∞—é —Å–≤–æ–π –ø—É—Ç—å –∫ –±–æ–ª—å—à–∏–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º! –≠—Ç–æ –±—É–¥–µ—Ç –º–æ–π –ø–µ—Ä–≤—ã–π —à–∞–≥."
```

### –®–∞–≥ 2: AI –∞–Ω–∞–ª–∏–∑

```
POST /api/chat/analyze
{
  text: "–ù–∞—á–∏–Ω–∞—é —Å–≤–æ–π –ø—É—Ç—å...",
  userName: "–ú–∞–∫—Å–∏–º",
  userId: "uuid"
}

OpenAI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
  reply: "–û—Ç–ª–∏—á–Ω–æ! üöÄ –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ...",
  summary: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç",
  insight: "–ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π",
  sentiment: "positive",
  category: "–î—Ä—É–≥–æ–µ",
  mood: "—Ö–æ—Ä–æ—à–µ–µ",
  tags: ["–Ω–æ–≤–æ–µ", "–Ω–∞—á–∞–ª–æ", "–ø—Ä–æ–µ–∫—Ç"]
}
```

### –®–∞–≥ 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

```
INSERT INTO entries (
  user_id,
  text,
  ai_summary,
  ai_insight,
  ai_reply,
  sentiment,
  category,
  mood,
  created_at
) VALUES (...)
```

### –®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫

```
GET /motivations/cards/:userId

Backend:
1. SELECT entries WHERE user_id = ? AND created_at >= yesterday
2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É—è ai_summary + ai_insight)
3. –ï—Å–ª–∏ < 3 –∫–∞—Ä—Ç–æ—á–µ–∫, –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ
4. –í–µ—Ä–Ω—É—Ç—å –º–∞–∫—Å–∏–º—É–º 3 –∫–∞—Ä—Ç–æ—á–∫–∏
```

### –®–∞–≥ 5: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI

```
Frontend:
1. –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏
2. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤ MotivationCardsCarousel
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
   - –ö–∞—Ä—Ç–æ—á–∫–∞ 1: AI-—É–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å
   - –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
   - –ö–∞—Ä—Ç–æ—á–∫–∞ 3: –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
```

---

## üé® –¢–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫

### –¢–∏–ø 1: –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–∑ –∑–∞–ø–∏—Å–∏ (AI-—É–ª—É—á—à–µ–Ω–Ω–∞—è)

```typescript
{
  id: "entry-uuid",
  date: "16 –æ–∫—Ç—è–±—Ä—è",
  title: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç",  // ‚Üê AI summary
  description: "–ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π",  // ‚Üê AI insight
  gradient: "from-[#FE7669] to-[#ff8969]",
  isDefault: false,
  sentiment: "positive",
  mood: "—Ö–æ—Ä–æ—à–µ–µ"
}
```

**–≠—Ç–æ –†–ï–ê–õ–¨–ù–ê–Ø –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É–ª—É—á—à–µ–Ω–Ω–∞—è AI!**

### –¢–∏–ø 2: –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞

```typescript
{
  id: "default_1",
  date: "–ù–∞—á–Ω–∏ —Å–µ–≥–æ–¥–Ω—è",
  title: "–°–µ–≥–æ–¥–Ω—è –æ—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è",
  description: "–ó–∞–ø–∏—à–∏ –º–∞–ª–µ–Ω—å–∫—É—é –ø–æ–±–µ–¥—É ‚Äî —ç—Ç–æ –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ –æ—Å–æ–∑–Ω–∞–Ω–∏—é —Å–≤–æ–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.",
  gradient: "from-[#FE7669] to-[#ff8969]",
  isDefault: true
}
```

**–≠—Ç–æ –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤)!**

---

## üìç –ì–¥–µ –≤–∏–¥–Ω–∞ –ø–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å

### 1. –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
```
‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ 1 (–ø–µ—Ä–≤–∞—è –≤ —Å–ø–∏—Å–∫–µ)
   Title: AI Summary
   Description: AI Insight
```

### 2. –õ–µ–Ω—Ç–∞ (RecentEntriesFeed)
```
‚úÖ –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å –≤ —Å–ø–∏—Å–∫–µ
   –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç: "–ù–∞—á–∏–Ω–∞—é —Å–≤–æ–π –ø—É—Ç—å..."
   –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, sentiment
   AI –∞–Ω–∞–ª–∏–∑: summary, insight, reply
```

### 3. –ò—Å—Ç–æ—Ä–∏—è (HistoryScreen)
```
‚úÖ –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å –≤ —Å–ø–∏—Å–∫–µ
   –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç: "–ù–∞—á–∏–Ω–∞—é —Å–≤–æ–π –ø—É—Ç—å..."
   –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, sentiment
   AI –∞–Ω–∞–ª–∏–∑: summary, insight
```

---

## üí° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ AI –∞–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ (120 —Ç–æ–∫–µ–Ω–æ–≤)
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ KV store (24 —á–∞—Å–∞)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 3 –∫–∞—Ä—Ç–æ—á–∫–∏ (–Ω–µ –±–æ–ª–µ–µ)
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Promise.all)
- ‚úÖ Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

**–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:

1. **–†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - AI-—É–ª—É—á—à–µ–Ω–Ω—ã–µ (summary + insight)
   - –ú–∞–∫—Å–∏–º—É–º 3 –∑–∞–ø–∏—Å–∏ –∑–∞ 48 —á–∞—Å–æ–≤
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ü–ï–†–í–´–ú–ò

2. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ fallback
   - –ó–∞–ø–æ–ª–Ω—è—é—Ç –¥–æ 3 –∫–∞—Ä—Ç–æ—á–µ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç 3 –∫–∞—Ä—Ç–æ—á–∫–∏:
- 1-3 —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û—Å—Ç–∞–ª—å–Ω–æ–µ - –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-16
**–í–µ—Ä—Å–∏—è**: 1.0

