# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú - UNITY-v2

## üìã –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (404 –æ—à–∏–±–∫–∞)

**–ü—Ä–æ–±–ª–µ–º–∞**: Edge Function endpoint `/motivations/cards/:userId` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- Endpoint –∏—â–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ KV store (`user_entries:${userId}`)
- –î–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —ç—Ç–æ—Ç –∫–ª—é—á –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–ø–∏—Å–∏ –ø—Ä—è–º–æ –∏–∑ Supabase database

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞** (supabase/functions/make-server-9729c493/index.ts:841-906):
```typescript
const userEntries = await kv.get(`user_entries:${userId}`) || [];
// –ï—Å–ª–∏ KV –ø—É—Å—Ç ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 500 –æ—à–∏–±–∫–∞
```

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∞—Ç—å –∑–∞–ø–∏—Å–∏ –∏–∑ Supabase database –≤–º–µ—Å—Ç–æ KV store

---

### 2. ‚ö†Ô∏è –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ OnboardingScreen4

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è 4 —ç–∫—Ä–∞–Ω–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø–µ—Ä–µ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ AuthScreen –ø–æ—Å–ª–µ OnboardingScreen4
- –ù—É–∂–Ω–∞ —è–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ App.tsx

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ AuthScreen –ø–æ—Å–ª–µ OnboardingScreen4

---

### 3. ‚úÖ –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –≤–∏–¥–Ω–∞ –≤ –ª–µ–Ω—Ç–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Supabase, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–µ–Ω—Ç–µ

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- –ó–∞–ø–∏—Å–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å refresh –∑–∞–ø–∏—Å–µ–π –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

### 4. üîî Notification settings –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: –í SettingsScreen –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- SettingsScreen –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π state –≤–º–µ—Å—Ç–æ userData.notificationSettings
- –ù—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å state –∏–∑ userData

**–†–µ—à–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å state –∏–∑ userData.notificationSettings

---

## üéØ –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –§–∞–∑–∞ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Edge Function (30 –º–∏–Ω)
1. –û–±–Ω–æ–≤–∏—Ç—å `/motivations/cards/:userId` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –∏–∑ Supabase
2. –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –µ—Å–ª–∏ –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoint

### –§–∞–∑–∞ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å UI flow (20 –º–∏–Ω)
1. –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ AuthScreen –ø–æ—Å–ª–µ OnboardingScreen4
2. –£–±—Ä–∞—Ç—å –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω
3. –î–æ–±–∞–≤–∏—Ç—å loading state

### –§–∞–∑–∞ 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å SettingsScreen (15 –º–∏–Ω)
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å notification settings –∏–∑ userData
2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Supabase
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –§–∞–∑–∞ 4: –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ (15 –º–∏–Ω)
1. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã auth.ts
2. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã

---

## üìä –°—Ç–∞—Ç—É—Å

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 85%
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç
- ‚úÖ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é –≤–∏–¥–Ω–æ
- ‚ùå –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚ö†Ô∏è –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ OnboardingScreen4
- ‚ö†Ô∏è Notification settings –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Edge Function –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫

