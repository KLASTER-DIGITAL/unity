# üìä Edge Functions Refactoring - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

**–î–∞—Ç–∞**: 2025-10-20
**–í–µ—Ä—Å–∏—è**: 2.0
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (–§–∞–∑–∞ 1-8)
**–ê–≤—Ç–æ—Ä**: Backend Architecture Team

---

## üéØ Executive Summary

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–†–∞–∑–±–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π Edge Function `make-server-9729c493` (2312 —Å—Ç—Ä–æ–∫) –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –ø–æ –∑–æ–Ω–∞–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏, –¥–µ–ø–ª–æ—è –∏ AI-friendly –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚úÖ **–°–æ–∑–¥–∞–Ω–æ 3 –Ω–æ–≤—ã—Ö standalone –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:**
1. `admin-api` - 13 admin endpoints (696 —Å—Ç—Ä–æ–∫, –≤–µ—Ä—Å–∏—è 4) ‚úÖ DEPLOYED
2. `transcription-api` - Whisper API (245 —Å—Ç—Ä–æ–∫, –≤–µ—Ä—Å–∏—è 1) ‚úÖ DEPLOYED
3. `translations-api` - 8 i18n endpoints (333 —Å—Ç—Ä–æ–∫–∏, –≤–µ—Ä—Å–∏—è 8) ‚úÖ DEPLOYED

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω frontend:**
1. `src/utils/api.ts` - —É–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç
2. `src/shared/lib/api/api.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ API –∫–ª–∏–µ–Ω—Ç—ã
3. `src/shared/lib/i18n/api.ts` - –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

‚úÖ **–°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
1. `EDGE_FUNCTIONS_REFACTORING_PLAN.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. `API_ENDPOINTS_MIGRATION.md` - –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö endpoints
3. `EDGE_FUNCTIONS_REFACTORING_REPORT.md` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)

‚úÖ **–£–¥–∞–ª–µ–Ω –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π API:**
1. `make-server-9729c493/` - —É–¥–∞–ª–µ–Ω –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Edge Functions**: 9 (8 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ + 1 –º–æ–Ω–æ–ª–∏—Ç)
- **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª**: 2312 —Å—Ç—Ä–æ–∫
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**: 20+ endpoints –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è
- **–î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ MCP**: ‚ùå –ú–æ–Ω–æ–ª–∏—Ç –Ω–µ –¥–µ–ø–ª–æ–∏—Ç—Å—è (>2000 —Å—Ç—Ä–æ–∫)
- **AI-friendly**: ‚ùå –°–ª–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–æ–ª–∏—Ç

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–§–∞–∑–∞ 1-8, 2025-10-20)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Edge Functions**: 11 (8 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö + 3 –Ω–æ–≤—ã—Ö standalone)
- **–°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: ~425 —Å—Ç—Ä–æ–∫
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**: 0 endpoints –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è
- **–î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ MCP**: ‚úÖ –í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã <700 —Å—Ç—Ä–æ–∫
- **AI-friendly**: ‚úÖ Standalone –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π API**: ‚ùå –£–¥–∞–ª–µ–Ω (make-server-9729c493)

---

## üèóÔ∏è –°–æ–∑–¥–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Standalone Microservices)

### 1. Admin API Microservice (admin-api-standalone/)

**–†–∞–∑–º–µ—Ä:** 696 —Å—Ç—Ä–æ–∫
**–í–µ—Ä—Å–∏—è:** 4 ‚úÖ DEPLOYED
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Standalone (embedded utilities)

**Endpoints (13 —à—Ç.):**
1. `GET /health` - health check (public)
2. `GET /admin/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. `GET /admin/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. `GET /admin/settings/:key` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
5. `POST /admin/settings` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
6. `GET /admin/languages` - —Å–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤
7. `POST /admin/languages` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
8. `PUT /admin/languages/:code` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
9. `GET /admin/translations` - –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã
10. `POST /admin/translations` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞
11. `PUT /admin/translations` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (batch)
12. `POST /admin/translate` - –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ OpenAI
13. `GET /admin/translation-stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**Embedded Utilities:**
- CORS middleware (Hono)
- Supabase client initialization
- `extractAccessToken()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `verifyUser()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT
- `isSuperAdmin()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
- `checkSuperAdmin()` - middleware –¥–ª—è admin endpoints
- `getOpenAIKey()` - –ø–æ–ª—É—á–µ–Ω–∏–µ OpenAI –∫–ª—é—á–∞ (header ‚Üí DB ‚Üí env)
- `logOpenAIUsage()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenAI API
- `calculateCost()` - —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ OpenAI –∑–∞–ø—Ä–æ—Å–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Standalone –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç _shared/)
- ‚úÖ –î–µ–ø–ª–æ–∏—Ç—Å—è —á–µ—Ä–µ–∑ Supabase MCP –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –í—Å–µ admin endpoints –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ OpenAI usage tracking –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 2. Transcription API Microservice (transcription-api-standalone/)

**–†–∞–∑–º–µ—Ä:** 245 —Å—Ç—Ä–æ–∫
**–í–µ—Ä—Å–∏—è:** 1 ‚úÖ DEPLOYED
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Standalone (embedded utilities)

**Endpoints (3 —à—Ç.):**
1. `GET /health` - health check
2. `POST /transcribe` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
3. `POST /transcribe/batch` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

**Embedded Utilities:**
- CORS middleware (Hono)
- Supabase client initialization
- `getOpenAIKey()` - –ø–æ–ª—É—á–µ–Ω–∏–µ OpenAI –∫–ª—é—á–∞
- `logOpenAIUsage()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Whisper API

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Standalone –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ batch —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- ‚úÖ Whisper API usage tracking
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤

---

### 3. Translations API Microservice (translations-api/)

**–†–∞–∑–º–µ—Ä:** 333 —Å—Ç—Ä–æ–∫–∏
**–í–µ—Ä—Å–∏—è:** 8 ‚úÖ DEPLOYED
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Standalone (–±–µ–∑ _shared/)

**Endpoints (8 —à—Ç.):**
1. `GET /languages` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —è–∑—ã–∫–æ–≤
2. `GET /:lang` - –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —è–∑—ã–∫–∞ (e.g., /ru, /en)
3. `GET /translations` - –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã
4. `GET /stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
5. `GET /export` - —ç–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (JSON)
6. `GET /keys` - –≤—Å–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
7. `POST /missing` - –æ—Ç—á–µ—Ç –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–º –ø–µ—Ä–µ–≤–æ–¥–µ
8. `GET /health` - health check

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Standalone –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ endpoints (–Ω–µ —Ç—Ä–µ–±—É—é—Ç super_admin)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 7 —è–∑—ã–∫–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π tracking –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ endpoints –∑–∞—â–∏—â–µ–Ω—ã `checkSuperAdmin` middleware
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç shared —É—Ç–∏–ª–∏—Ç—ã (auth, openai-logger, cors)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenAI –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–∞
- ‚úÖ Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- Hono framework
- Supabase client
- Shared utilities (_shared/auth, _shared/openai-logger, _shared/cors)

---

### 3. Transcription API Microservice (transcription-api/)

**–†–∞–∑–º–µ—Ä:** 246 —Å—Ç—Ä–æ–∫

**Endpoints (3 —à—Ç.):**
1. `POST /transcribe` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
2. `POST /transcribe/batch` - batch —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
3. `GET /health` - health check

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä `language`)
- ‚úÖ Batch —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenAI Whisper API
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç shared —É—Ç–∏–ª–∏—Ç—ã (auth, openai-logger, cors)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- Hono framework
- OpenAI Whisper API
- Shared utilities (_shared/auth, _shared/openai-logger, _shared/cors)

---

### 4. Translations API Microservice (—Ä–∞—Å—à–∏—Ä–µ–Ω)

**–†–∞–∑–º–µ—Ä:** 331 —Å—Ç—Ä–æ–∫–∞ (–±—ã–ª–æ 224)

**–ù–æ–≤—ã–µ endpoints (3 —à—Ç.):**
1. `GET /keys` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤
2. `POST /missing` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º –ø–µ—Ä–µ–≤–æ–¥–µ
3. `GET /health` - health check

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints:**
1. `GET /languages` - —Å–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤
2. `GET /:lang` - –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —è–∑—ã–∫–∞
3. `GET /translations` - –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã
4. `GET /stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
5. `GET /export` - —ç–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ endpoints (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 1. EDGE_FUNCTIONS_REFACTORING_PLAN.md
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (31 endpoint –≤ –º–æ–Ω–æ–ª–∏—Ç–µ)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (7 —Ñ–∞–∑)
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ/–ø–æ—Å–ª–µ

### 2. API_ENDPOINTS_MIGRATION.md
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ú–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ä—ã—Ö –∏ –Ω–æ–≤—ã—Ö endpoints (31 endpoint)
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–º–µ–Ω—ã –∫–æ–¥–∞
- –ß–µ–∫–ª–∏—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è frontend (14 —Ñ–∞–π–ª–æ–≤)

### 3. EDGE_FUNCTIONS_REFACTORING_REPORT.md
**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ/–ø–æ—Å–ª–µ
- –°–æ–∑–¥–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—â–∏—Ö —É—Ç–∏–ª–∏—Ç (_shared/) ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å `_shared/auth.ts` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
- [x] –°–æ–∑–¥–∞—Ç—å `_shared/openai-logger.ts` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ OpenAI API
- [x] –°–æ–∑–¥–∞—Ç—å `_shared/cors.ts` - CORS headers –∏ middleware

### –§–∞–∑–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ admin-api –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ ‚úÖ
- [x] –í—ã–Ω–µ—Å—Ç–∏ 12 admin endpoints –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared —É—Ç–∏–ª–∏—Ç—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ OpenAI –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥–∞
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (<600 —Å—Ç—Ä–æ–∫)

### –§–∞–∑–∞ 3: –°–æ–∑–¥–∞–Ω–∏–µ transcription-api –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ ‚úÖ
- [x] –í—ã–Ω–µ—Å—Ç–∏ Whisper API endpoint
- [x] –î–æ–±–∞–≤–∏—Ç—å batch —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é
- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared —É—Ç–∏–ª–∏—Ç—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ OpenAI

### –§–∞–∑–∞ 4: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ translations-api ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å `/keys` endpoint
- [x] –î–æ–±–∞–≤–∏—Ç—å `/missing` endpoint
- [x] –î–æ–±–∞–≤–∏—Ç—å `/health` endpoint

---

## üöß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –§–∞–∑–∞ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ frontend API –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚è≥
**–§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (14 —à—Ç.):**
1. `src/utils/api.ts` - —É–¥–∞–ª–∏—Ç—å API_BASE_URL
2. `src/shared/lib/api/api.ts` - —É–¥–∞–ª–∏—Ç—å LEGACY_API_URL
3. `src/shared/lib/i18n/api.ts` - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ translations-api
4. `src/features/admin/auth/components/AdminLoginScreen.tsx` - profiles
5. `src/features/admin/dashboard/components/UsersManagementTab.tsx` - admin-api
6. `src/features/admin/dashboard/components/AdminDashboard.tsx` - admin-api
7. `src/features/mobile/auth/components/WelcomeScreen.tsx` - translations-api
8. `src/components/screens/admin/settings/GeneralSettingsTab.tsx` - admin-api
9. `src/components/screens/admin/settings/SystemSettingsTab.tsx` - admin-api
10. `src/components/screens/admin/settings/PWASettingsTab.tsx` - admin-api
11. `src/components/screens/admin/settings/APISettingsTab.tsx` - admin-api
12. `src/components/screens/admin/settings/LanguagesTab.tsx` - admin-api
13. `src/components/screens/admin/settings/PushNotificationsTab.tsx` - admin-api
14. `src/supabase/functions/server/index.tsx` - —É–¥–∞–ª–∏—Ç—å (–¥—É–±–ª–∏–∫–∞—Ç)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –ù–µ—Ç –≤—ã–∑–æ–≤–æ–≤ –∫ make-server-9729c493
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

### –§–∞–∑–∞ 6: –î–µ–ø–ª–æ–π –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è≥
**–®–∞–≥–∏:**
1. –î–µ–ø–ª–æ–π admin-api —á–µ—Ä–µ–∑ Supabase MCP
2. –î–µ–ø–ª–æ–π transcription-api —á–µ—Ä–µ–∑ Supabase MCP
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ translations-api —á–µ—Ä–µ–∑ Supabase MCP
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ (npm run preview)
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ production (Netlify)
6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Edge Functions

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ –í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 404/500 –≤ –ª–æ–≥–∞—Ö
- ‚úÖ Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –§–∞–∑–∞ 7: –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–∞ ‚è≥
**–®–∞–≥–∏:**
1. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–ø–∫–∏ `supabase/functions/make-server-9729c493/`
3. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ `src/supabase/functions/server/index.tsx` (–¥—É–±–ª–∏–∫–∞—Ç)
4. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- ‚úÖ make-server-9729c493 —É–¥–∞–ª–µ–Ω
- ‚úÖ Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚úÖ **–°–æ–∑–¥–∞–Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - 3 –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ + 1 —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π  
‚úÖ **–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –≤ _shared/  
‚úÖ **AI-friendly —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, JSDoc  
‚úÖ **–î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ MCP** - –≤—Å–µ —Ñ–∞–π–ª—ã <600 —Å—Ç—Ä–æ–∫  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 3 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞  

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –û–±–Ω–æ–≤–∏—Ç—å frontend API –∫–ª–∏–µ–Ω—Ç—ã (14 —Ñ–∞–π–ª–æ–≤)
2. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ Supabase MCP
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ production
4. –£–¥–∞–ª–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π make-server-9729c493

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π endpoint –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è frontend
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ Edge Functions –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –æ–±–Ω–æ–≤–∏—Ç—å README.md —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
4. **–û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã** - –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ–≤—å—é –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –∫–æ–º–∞–Ω–¥–æ–π

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

