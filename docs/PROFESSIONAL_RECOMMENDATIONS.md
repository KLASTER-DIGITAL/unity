# üèÜ –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò - UNITY-v2

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### ‚úÖ –ß—Ç–æ —Ö–æ—Ä–æ—à–æ

1. **Feature-Sliced Design (FSD)** ‚úÖ
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ features
   - –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
   - –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

2. **TypeScript** ‚úÖ
   - –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
   - –•–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE
   - –ú–µ–Ω—å—à–µ runtime –æ—à–∏–±–æ–∫

3. **Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚úÖ
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RLS
   - Edge Functions –¥–ª—è API
   - –•–æ—Ä–æ—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

4. **State Management** ‚úÖ
   - –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React Context
   - –ù–µ—Ç –∏–∑–ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### ‚ö†Ô∏è –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** ‚ö†Ô∏è
   - 3 –∫–æ–ø–∏–∏ i18n API –∫–ª–∞—Å—Å–∞
   - –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - **–†–µ—à–µ–Ω–∏–µ**: –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª

2. **Bundle Size** ‚ö†Ô∏è
   - –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: 2,022.79 kB
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: < 1,500 kB
   - **–†–µ—à–µ–Ω–∏–µ**: Code splitting, lazy loading

3. **Error Handling** ‚ö†Ô∏è
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
   - –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ error boundary
   - **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å Sentry –∏–ª–∏ –∞–Ω–∞–ª–æ–≥

4. **Testing** ‚ö†Ô∏è
   - –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤
   - –ù–µ—Ç integration —Ç–µ—Å—Ç–æ–≤
   - **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å Vitest + Playwright

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å i18n API (–ö–†–ò–¢–ò–ß–ù–û)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```
src/utils/i18n/api.ts
src/shared/lib/i18n/api.ts
src/shared/lib/api/i18n/api.ts
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```
src/shared/lib/i18n/api.ts (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞
- –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Bundle Size (–í–ê–ñ–ù–û)

**–¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏**:
- index-DPjPizDG.js: 2,022.79 kB (gzip: 488.60 kB)
- index-DAcfHcq4.css: 106.46 kB (gzip: 17.60 kB)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
1. **Route-based code splitting**
   ```typescript
   const AchievementHomeScreen = lazy(() => import('@/features/mobile/home/...'));
   const SettingsScreen = lazy(() => import('@/features/mobile/settings/...'));
   ```

2. **Component-level code splitting**
   ```typescript
   const MotivationCards = lazy(() => import('@/components/MotivationCards'));
   const ChatInputSection = lazy(() => import('@/components/ChatInputSection'));
   ```

3. **Vite configuration**
   ```typescript
   // vite.config.ts
   build: {
     rollupOptions: {
       output: {
         manualChunks: {
           'vendor': ['react', 'react-dom'],
           'ui': ['@radix-ui/...'],
           'supabase': ['@supabase/supabase-js'],
         }
       }
     }
   }
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: -30% (1,400 kB)

### 3. –î–æ–±–∞–≤–∏—Ç—å Error Handling (–í–ê–ñ–ù–û)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```typescript
// src/shared/lib/error/ErrorBoundary.tsx
export class ErrorBoundary extends React.Component {
  componentDidCatch(error, errorInfo) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Sentry
    Sentry.captureException(error);
  }
}

// src/shared/lib/error/errorHandler.ts
export function handleError(error: Error, context?: string) {
  console.error(`[${context}]`, error);
  Sentry.captureException(error);
  toast.error(error.message);
}
```

### 4. –î–æ–±–∞–≤–∏—Ç—å –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–í–ê–ñ–ù–û)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```
src/
  features/
    mobile/
      auth/
        components/
          WelcomeScreen.tsx
          WelcomeScreen.test.tsx
```

**–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞**:
```typescript
import { render, screen } from '@testing-library/react';
import { WelcomeScreen } from './WelcomeScreen';

describe('WelcomeScreen', () => {
  it('should render start button', () => {
    render(<WelcomeScreen onNext={() => {}} />);
    expect(screen.getByText('–ù–∞—á–∞—Ç—å')).toBeInTheDocument();
  });
});
```

### 5. –î–æ–±–∞–≤–∏—Ç—å –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**:
- **Sentry** - Error tracking
- **LogRocket** - Session replay
- **Web Vitals** - Performance monitoring

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
```typescript
import * as Sentry from "@sentry/react";

Sentry.init({
  dsn: process.env.VITE_SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
});
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ | –°—Ç–∞—Ç—É—Å |
|---------|---------|---------------|--------|
| Bundle Size | 2,022 kB | < 1,500 kB | ‚ö†Ô∏è |
| Test Coverage | 0% | > 80% | ‚ö†Ô∏è |
| TypeScript Strict | ‚úÖ | ‚úÖ | ‚úÖ |
| Lighthouse Score | ? | > 90 | ? |
| Error Tracking | ‚ùå | ‚úÖ | ‚ö†Ô∏è |
| Performance Monitoring | ‚ùå | ‚úÖ | ‚ö†Ô∏è |

---

## üöÄ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —É–ª—É—á—à–µ–Ω–∏–π

### –ù–µ–¥–µ–ª—è 1 (–ö–†–ò–¢–ò–ß–ù–û)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å i18n API BASE_URL
- [ ] –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow

### –ù–µ–¥–µ–ª—è 2 (–í–ê–ñ–ù–û)
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size
- [ ] –î–æ–±–∞–≤–∏—Ç—å error boundary
- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ unit —Ç–µ—Å—Ç—ã

### –ù–µ–¥–µ–ª—è 3 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Sentry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å Web Vitals –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã

### –ù–µ–¥–µ–ª—è 4 (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å PWA features
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ React Native

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**UNITY-v2 - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üéâ

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- ‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (FSD)
- ‚úÖ –•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (TypeScript)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase
- ‚úÖ –•–æ—Ä–æ—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS)

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
- ‚ö†Ô∏è –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å error handling
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
**–ì–æ—Ç–æ–≤–æ –∫ production —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏!** üöÄ

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-16
**–í–µ—Ä—Å–∏—è**: 1.0
**–ê–≤—Ç–æ—Ä**: Augment Agent

