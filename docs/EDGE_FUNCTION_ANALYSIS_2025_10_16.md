# üîç EDGE FUNCTION ANALYSIS - 2025-10-16

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–Ø –¥–æ–ø—É—Å—Ç–∏–ª —Å–µ—Ä—å–µ–∑–Ω—É—é –æ—à–∏–±–∫—É! –Ø –ø—ã—Ç–∞–ª—Å—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é Edge Function (68KB, 2245 —Å—Ç—Ä–æ–∫), —Ö–æ—Ç—è –≤ –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –µ—Å—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞!

## ‚úÖ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ Edge Functions (Supabase MCP):

1. **make-server-9729c493** (v37) - –£–°–¢–ê–†–ï–í–®–ê–Ø –ú–û–ù–û–õ–ò–¢–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø
   - –°—Ç–∞—Ç—É—Å: ACTIVE
   - –°–æ–¥–µ—Ä–∂–∏—Ç: –¢–û–õ–¨–ö–û i18n endpoints
   - –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç `/profiles/create`, `/entries`, `/motivations/cards/:userId`

2. **translations-api** (v6) - ‚úÖ –ú–ò–ö–†–û–°–ï–†–í–ò–°
   - –°—Ç–∞—Ç—É—Å: ACTIVE
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

3. **admin-api** (v3) - ‚úÖ –ú–ò–ö–†–û–°–ï–†–í–ò–°
   - –°—Ç–∞—Ç—É—Å: ACTIVE
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

4. **telegram-auth** (v22) - ‚úÖ –ú–ò–ö–†–û–°–ï–†–í–ò–°
   - –°—Ç–∞—Ç—É—Å: ACTIVE
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

5. **stats** (v1) - ‚úÖ –ú–ò–ö–†–û–°–ï–†–í–ò–°
   - –°—Ç–∞—Ç—É—Å: ACTIVE
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìã –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò (–∏–∑ docs/MIGRATION_PLAN_STEP_BY_STEP.md)

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –∏–º–µ–µ—Ç –ø–ª–∞–Ω —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:
- ‚úÖ `stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–£–ñ–ï –°–û–ó–î–ê–ù)
- ‚ùå `profiles` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨)
- ‚ùå `entries` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨)
- ‚ùå `motivations` - –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨)
- ‚ùå `books` - –∞—Ä—Ö–∏–≤ –∫–Ω–∏–≥ (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨)
- ‚úÖ `admin` - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (–£–ñ–ï –°–û–ó–î–ê–ù –∫–∞–∫ admin-api)
- ‚úÖ `i18n` - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–£–ñ–ï –°–û–ó–î–ê–ù –∫–∞–∫ translations-api)

## üéØ –ü–†–ê–í–ò–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `profiles`
–§–∞–π–ª: `supabase/functions/profiles/index.ts`

Endpoints:
- `POST /profiles/create` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `GET /profiles/:userId` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `PUT /profiles/:userId` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `entries`
–§–∞–π–ª: `supabase/functions/entries/index.ts`

Endpoints:
- `POST /entries` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `GET /entries/:userId` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /entries/:entryId` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `DELETE /entries/:entryId` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `motivations`
–§–∞–π–ª: `supabase/functions/motivations/index.ts`

Endpoints:
- `GET /motivations/cards/:userId` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å API –∫–ª–∏–µ–Ω—Ç—ã
–û–±–Ω–æ–≤–∏—Ç—å `src/shared/lib/api/api.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

## üö´ –ß–¢–û –ù–ï –ù–£–ñ–ù–û –î–ï–õ–ê–¢–¨

- ‚ùå –ù–ï —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (68KB, 2245 —Å—Ç—Ä–æ–∫)
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase CLI
- ‚ùå –ù–ï –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤—Å–µ endpoints –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª

## ‚úÖ –ß–¢–û –ù–£–ñ–ù–û –î–ï–õ–ê–¢–¨

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û Supabase MCP (`deploy_edge_function_supabase`)
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (–∫–∞–∂–¥—ã–π < 500 —Å—Ç—Ä–æ–∫)
- ‚úÖ –†–∞–∑–¥–µ–ª—è—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (profiles, entries, motivations)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (`supabase/functions/_shared/`)

## üìä –¢–ï–ö–£–©–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ endpoint `/profiles/create` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404.

**–ü—Ä–∏—á–∏–Ω–∞**: Endpoint –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–π –≤–µ—Ä—Å–∏–∏ v37 —Ñ—É–Ω–∫—Ü–∏–∏ `make-server-9729c493`.

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `profiles` –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ Supabase MCP.

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. –°–æ–∑–¥–∞—Ç—å `supabase/functions/profiles/index.ts`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint `POST /profiles/create`
3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —á–µ—Ä–µ–∑ `deploy_edge_function_supabase`
4. –û–±–Ω–æ–≤–∏—Ç—å `src/shared/lib/api/api.ts`
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Chrome MCP

---

**–î–∞—Ç–∞**: 2025-10-16  
**–°—Ç–∞—Ç—É—Å**: üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0 - –ù–ï–ú–ï–î–õ–ï–ù–ù–û

