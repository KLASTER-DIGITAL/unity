# Дизайн-Система Проекта "Дневник Достижений"

## Обзор

Данная документация описывает дизайн-систему проекта "Дневник Достижений" - мобильного PWA-приложения для ведения дневника достижений. Система построена на основе Tailwind CSS, Radix UI и Framer Motion с акцентом на мобильную адаптивность и современный пользовательский опыт.

## Цветовая палитра

### Основные цвета (CSS переменные)

#### Light Theme
```css
--background: rgba(255, 255, 255, 1.00)           /* Белый фон */
--foreground: rgba(107, 107, 107, 1.00)           /* Основной текст */
--card: rgba(255, 255, 255, 1.00)                 /* Фон карточек */
--card-foreground: rgba(107, 107, 107, 1.00)      /* Текст на карточках */
--primary: rgba(0, 0, 0, 0)                        /* Основной цвет (прозрачный) */
--primary-foreground: rgba(255, 255, 255, 1.00)   /* Текст на основном */
--secondary: rgba(248, 248, 248, 1.00)           /* Вторичный фон */
--secondary-foreground: rgba(107, 107, 107, 1.00) /* Текст на вторичном */
--muted: rgba(248, 248, 248, 1.00)                /* Приглушенный фон */
--muted-foreground: rgba(107, 107, 107, 1.00)     /* Приглушенный текст */
--accent: rgba(0, 122, 255, 1.00)                  /* Акцентный синий */
--accent-foreground: rgba(255, 255, 255, 1.00)    /* Текст на акценте */
--destructive: rgba(0, 0, 0, 0)                     /* Деструктивный (прозрачный) */
--destructive-foreground: rgba(255, 255, 255, 1.00) /* Текст на деструктивном */
--border: rgba(107, 107, 107, 1.00)                /* Цвет границ */
--input: rgba(255, 255, 255, 1.00)                 /* Фон инпутов */
--input-background: rgba(255, 255, 255, 1.00)     /* Фон инпутов */
--ring: rgba(0, 122, 255, 1.00)                    /* Цвет фокуса */
```

#### Dark Theme
```css
--background: rgba(18, 18, 18, 1.00)               /* Темный фон */
--foreground: rgba(255, 255, 255, 1.00)           /* Светлый текст */
--card: rgba(39, 39, 42, 1.00)                     /* Темные карточки */
--card-foreground: rgba(255, 255, 255, 1.00)      /* Светлый текст на карточках */
--primary: rgba(0, 122, 255, 1.00)                 /* Синий основной */
--secondary: rgba(63, 63, 70, 1.00)               /* Темно-серый вторичный */
--muted: rgba(63, 63, 70, 1.00)                   /* Темно-серый приглушенный */
--muted-foreground: rgba(161, 161, 170, 1.00)     /* Серый приглушенный текст */
--destructive: rgba(239, 68, 68, 1.00)             /* Красный деструктивный */
--border: rgba(63, 63, 70, 1.00)                   /* Темные границы */
--input: rgba(39, 39, 42, 1.00)                    /* Темные инпуты */
```

### Кастомные цвета (хардкод)

```css
/* Основные брендовые цвета */
#5030e5    /* Основной фиолетовый - активные элементы навигации */
#787486    /* Серый - неактивные элементы */
#756ef3    /* Светло-фиолетовый - фокус и акценты */
#002055    /* Темно-синий - заголовки */

/* Градиенты для карточек достижений */
#FE7669 → #ff8969    /* Оранжево-красный градиент */
#ff7769 → #ff6b9d    /* Красно-розовый градиент */
#ff6b9d → #c471ed    /* Розово-фиолетовый градиент */
#c471ed → #8B78FF    /* Фиолетово-синий градиент */
#92BFFF → #6BA3FF    /* Светло-синий градиент */
#6BA3FF → #5B93EF    /* Синий градиент */
#FFB74D → #FFA726    /* Оранжевый градиент */
#FFA726 → #FF9800    /* Темно-оранжевый градиент */
```

### Цвета для графиков
```css
--chart-1: rgba(0, 122, 255, 1.00)    /* Синий */
--chart-2: rgba(52, 199, 89, 1.00)    /* Зеленый */
--chart-3: rgba(255, 149, 0, 1.00)    /* Оранжевый */
--chart-4: rgba(107, 107, 107, 1.00)  /* Серый */
--chart-5: rgba(61, 162, 154, 1.00)   /* Бирюзовый */
```

## Типографика

### Шрифт
- **Основной шрифт**: `SF Pro Text` (системный шрифт Apple)
- **Fallback**: `-apple-system, BlinkMacSystemFont, system-ui, sans-serif`

### Размеры текста
```css
--text-h1: 34px      /* Заголовки первого уровня */
--text-h2: 26px      /* Заголовки второго уровня */
--text-h3: 17px      /* Заголовки третьего уровня */
--text-h4: 15px      /* Заголовки четвертого уровня */
--text-base: 15px    /* Основной текст */
--text-label: 13px   /* Лейблы и мелкий текст */
```

### Веса шрифтов
```css
--font-weight-semibold: 600    /* Полужирный (по умолчанию для большинства элементов) */
--font-weight-normal: 400      /* Обычный (для инпутов) */
```

### Line-height
- **Универсальный**: `1.5` для всех текстовых элементов

## Компонентная библиотека

### Button
Основан на Radix UI с использованием `class-variance-authority` для вариантов.

#### Варианты
- `default`: Основная кнопка с фоном primary
- `destructive`: Деструктивные действия (красный)
- `outline`: Контурная кнопка с границей
- `secondary`: Вторичная кнопка с серым фоном
- `ghost`: Прозрачная кнопка с hover-эффектом
- `link`: Текстовая ссылка с подчеркиванием

#### Размеры
- `sm`: Высота 32px, маленькие отступы
- `default`: Высота 36px, стандартные отступы
- `lg`: Высота 40px, большие отступы
- `icon`: Квадратная кнопка 36x36px для иконок

#### Стили фокуса
```css
focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]
```

### Card
Модульная система карточек с семантическими компонентами.

#### Структура
- `Card`: Основной контейнер с фоном и границей
- `CardHeader`: Заголовочная область с отступами
- `CardTitle`: Заголовок карточки
- `CardDescription`: Описание карточки (muted-foreground)
- `CardAction`: Область для действий (правый верхний угол)
- `CardContent`: Основной контент
- `CardFooter`: Нижняя область

#### Стили
```css
bg-card text-card-foreground flex flex-col gap-6 rounded-xl border
```

### Input
Поле ввода с поддержкой состояний фокуса и ошибок.

#### Стили
```css
border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background
```

#### Состояния
- **Фокус**: `focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]`
- **Ошибка**: `aria-invalid:ring-destructive/20 aria-invalid:border-destructive`
- **Disabled**: `disabled:opacity-50 disabled:pointer-events-none`

### Badge
Небольшие индикаторы и метки.

#### Варианты
- `default`: Основной стиль с primary фоном
- `secondary`: Вторичный стиль с серым фоном
- `destructive`: Красный для предупреждений
- `outline`: Контурный стиль

### Alert
Система уведомлений и предупреждений.

#### Варианты
- `default`: Стандартное уведомление
- `destructive`: Предупреждение об ошибке

## Spacing & Layout

### Border Radius
```css
--radius: 10px           /* Базовый радиус */
--radius-sm: 6px         /* Маленький радиус */
--radius-md: 8px         /* Средний радиус */
--radius-lg: 10px        /* Большой радиус */
--radius-xl: 14px        /* Очень большой радиус */
```

### Shadows
```css
--elevation-sm: 0px 1px 3px rgba(0, 0, 0, 0.1)    /* Маленькая тень */
```

### Container
- **Мобильный**: `max-w-md` (448px) для основного контента
- **Десктоп**: Полноэкранный режим для админ-панели
- **Центрирование**: `mx-auto` для мобильных контейнеров

### Отступы
- **Стандартные**: Использование Tailwind spacing scale (4, 6, 8, 12, 16, 24px)
- **Карточки**: `gap-6` между элементами карточки
- **Контент**: `px-6 pt-6 pb-6` для внутренних отступов карточек

## Анимации

### Framer Motion
Основная библиотека для анимаций и переходов.

#### Основные паттерны
```javascript
// Базовый переход
initial={{ opacity: 0 }}
animate={{ opacity: 1 }}
transition={{ duration: 0.5 }}

// Слайд-переход
initial={{ x: 300, opacity: 0 }}
animate={{ x: 0, opacity: 1 }}
transition={{ duration: 0.4, ease: "easeInOut" }}

// Сложная анимация с несколькими элементами
initial={{ y: 0 }}
exit={{ y: -400 }}
transition={{ duration: 0.5, ease: "easeInOut", delay: 0.1 }}
```

#### Свайп-анимации для карточек
```javascript
// Использование useMotionValue и useTransform
const x = useMotionValue(0);
const rotate = useTransform(x, [-300, 0, 300], [-25, 0, 25]);
const opacity = useTransform(x, [-200, -100, 0, 100, 200], [0.5, 1, 1, 1, 0.5]);
```

### Transition классы
```css
transition-all duration-200    /* Стандартный переход */
transition-colors              /* Переход только цветов */
transition-opacity            /* Переход прозрачности */
```

## Иконки

### Библиотека
- **Lucide React**: Основная библиотека иконок
- **Размеры**: Стандартные размеры `h-4 w-4`, `h-5 w-5`, `h-6 w-6`

### Использование
```jsx
import { Home, History, Trophy, BarChart3, Settings } from "lucide-react";
```

## Паттерны взаимодействия

### Навигация
- **Нижняя панель**: `MobileBottomNav` с 5 основными разделами
- **Активное состояние**: Фиолетовый цвет `#5030e5` с полупрозрачным фоном
- **Неактивное состояние**: Серый цвет `#787486`

### Формы
- **Валидация**: Визуальная обратная связь через ring и border цвета
- **Фокус**: Синий ring с полупрозрачностью
- **Ошибки**: Красный ring и border

### Feedback
- **Toast уведомления**: Sonner с кастомными стилями
- **Загрузка**: Спиннеры с accent цветом
- **Hover эффекты**: Плавные переходы цветов и масштаба

## Адаптивность

### Mobile-first подход
- **Основной контент**: `max-w-md` для мобильных устройств
- **Полноэкранный режим**: Для админ-панели без ограничений ширины

### Breakpoints (Tailwind)
- `sm:` - 640px и выше
- `md:` - 768px и выше
- `lg:` - 1024px и выше

### Специфичные адаптации
```css
/* Скрытие элементов на мобильных */
hidden sm:block

/* Адаптивные радиусы */
rounded-t-[32px] md:rounded-[32px]

/* Адаптивные отступы */
px-4 md:px-6
```

## PWA особенности

### Мета-теги
- Кастомные meta теги для PWA через `PWAHead` компонент
- Поддержка различных размеров экранов
- Splash screen для iOS

### Service Worker
- Регистрация в `App.tsx`
- Кэширование ресурсов
- Офлайн функциональность

## Темная тема

### Переключение
- Использование `next-themes` для управления темой
- CSS переменные автоматически переключаются
- Поддержка системных настроек

### Особенности темной темы
- Более контрастные цвета для лучшей читаемости
- Сохранение брендовых цветов (#5030e5, #756ef3)
- Адаптация градиентов для темного фона

## Рекомендации по использованию

### Цвета
1. Используйте CSS переменные для основных цветов
2. Кастомные цвета только для специфичных брендовых элементов
3. Следуйте контрастности для доступности

### Компоненты
1. Используйте готовые UI компоненты из `/src/components/ui/`
2. Расширяйте функциональность через `className` пропсы
3. Следуйте семантической структуре (особенно для Card)

### Анимации
1. Используйте Framer Motion для сложных анимаций
2. CSS transitions для простых hover эффектов
3. Соблюдайте производительность на мобильных устройствах

### Адаптивность
1. Всегда начинайте с мобильной версии
2. Используйте `max-w-md` для основного контента
3. Тестируйте на реальных устройствах

## Заключение

Данная дизайн-система обеспечивает консистентный пользовательский опыт на всех устройствах и поддерживает современные стандарты веб-разработки. При добавлении новых компонентов или изменении существующих следуйте описанным паттернам для сохранения целостности системы.
